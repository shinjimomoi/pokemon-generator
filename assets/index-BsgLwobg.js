(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _L={exports:{}},kw={},wL={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),JB=Symbol.for("react.portal"),ZB=Symbol.for("react.fragment"),ej=Symbol.for("react.strict_mode"),tj=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),ij=Symbol.for("react.forward_ref"),sj=Symbol.for("react.suspense"),oj=Symbol.for("react.memo"),aj=Symbol.for("react.lazy"),H2=Symbol.iterator;function lj(t){return t===null||typeof t!="object"?null:(t=H2&&t[H2]||t["@@iterator"],typeof t=="function"?t:null)}var EL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IL=Object.assign,bL={};function ih(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||EL}ih.prototype.isReactComponent={};ih.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ih.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TL(){}TL.prototype=ih.prototype;function GT(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||EL}var qT=GT.prototype=new TL;qT.constructor=GT;IL(qT,ih.prototype);qT.isPureReactComponent=!0;var K2=Array.isArray,SL=Object.prototype.hasOwnProperty,WT={current:null},CL={key:!0,ref:!0,__self:!0,__source:!0};function AL(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)SL.call(e,r)&&!CL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Qm,type:t,key:s,ref:a,props:i,_owner:WT.current}}function uj(t,e){return{$$typeof:Qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function HT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qm}function cj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y2=/\/+/g;function _E(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cj(""+t.key):e.toString(36)}function My(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qm:case JB:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+_E(a,0):r,K2(i)?(n="",t!=null&&(n=t.replace(Y2,"$&/")+"/"),My(i,e,n,"",function(h){return h})):i!=null&&(HT(i)&&(i=uj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Y2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",K2(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+_E(s,u);a+=My(s,e,n,c,i)}else if(c=lj(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+_E(s,u++),a+=My(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zv(t,e,n){if(t==null)return t;var r=[],i=0;return My(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},Vy={transition:null},hj={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Vy,ReactCurrentOwner:WT};function PL(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Zv,forEach:function(t,e,n){Zv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zv(t,function(){e++}),e},toArray:function(t){return Zv(t,function(e){return e})||[]},only:function(t){if(!HT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=ih;Be.Fragment=ZB;Be.Profiler=tj;Be.PureComponent=GT;Be.StrictMode=ej;Be.Suspense=sj;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj;Be.act=PL;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IL({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=WT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)SL.call(e,c)&&!CL.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Qm,type:t.type,key:i,ref:s,props:r,_owner:a}};Be.createContext=function(t){return t={$$typeof:rj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nj,_context:t},t.Consumer=t};Be.createElement=AL;Be.createFactory=function(t){var e=AL.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:ij,render:t}};Be.isValidElement=HT;Be.lazy=function(t){return{$$typeof:aj,_payload:{_status:-1,_result:t},_init:dj}};Be.memo=function(t,e){return{$$typeof:oj,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Vy.transition;Vy.transition={};try{t()}finally{Vy.transition=e}};Be.unstable_act=PL;Be.useCallback=function(t,e){return mr.current.useCallback(t,e)};Be.useContext=function(t){return mr.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};Be.useEffect=function(t,e){return mr.current.useEffect(t,e)};Be.useId=function(){return mr.current.useId()};Be.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return mr.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};Be.useRef=function(t){return mr.current.useRef(t)};Be.useState=function(t){return mr.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return mr.current.useTransition()};Be.version="18.3.1";wL.exports=Be;var Ie=wL.exports;const jt=$T(Ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj=Ie,pj=Symbol.for("react.element"),mj=Symbol.for("react.fragment"),gj=Object.prototype.hasOwnProperty,vj=fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yj={key:!0,ref:!0,__self:!0,__source:!0};function kL(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)gj.call(e,r)&&!yj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pj,type:t,key:s,ref:a,props:i,_owner:vj.current}}kw.Fragment=mj;kw.jsx=kL;kw.jsxs=kL;_L.exports=kw;var te=_L.exports,PI={},RL={exports:{}},Qr={},xL={exports:{}},NL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(se,ue){var fe=se.length;se.push(ue);e:for(;0<fe;){var tt=fe-1>>>1,$e=se[tt];if(0<i($e,ue))se[tt]=ue,se[fe]=$e,fe=tt;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],fe=se.pop();if(fe!==ue){se[0]=fe;e:for(var tt=0,$e=se.length,ft=$e>>>1;tt<ft;){var mi=2*(tt+1)-1,gi=se[mi],vi=mi+1,Ft=se[vi];if(0>i(gi,fe))vi<$e&&0>i(Ft,gi)?(se[tt]=Ft,se[vi]=fe,tt=vi):(se[tt]=gi,se[mi]=fe,tt=mi);else if(vi<$e&&0>i(Ft,fe))se[tt]=Ft,se[vi]=fe,tt=vi;else break e}}return ue}function i(se,ue){var fe=se.sortIndex-ue.sortIndex;return fe!==0?fe:se.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],m=1,g=null,_=3,I=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(se){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=se)r(h),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(h)}}function V(se){if(E=!1,R(se),!A)if(n(c)!==null)A=!0,Ee(B);else{var ue=n(h);ue!==null&&at(V,ue.startTime-se)}}function B(se,ue){A=!1,E&&(E=!1,b(k),k=-1),I=!0;var fe=_;try{for(R(ue),g=n(c);g!==null&&(!(g.expirationTime>ue)||se&&!L());){var tt=g.callback;if(typeof tt=="function"){g.callback=null,_=g.priorityLevel;var $e=tt(g.expirationTime<=ue);ue=t.unstable_now(),typeof $e=="function"?g.callback=$e:g===n(c)&&r(c),R(ue)}else r(c);g=n(c)}if(g!==null)var ft=!0;else{var mi=n(h);mi!==null&&at(V,mi.startTime-ue),ft=!1}return ft}finally{g=null,_=fe,I=!1}}var j=!1,N=null,k=-1,O=5,F=-1;function L(){return!(t.unstable_now()-F<O)}function U(){if(N!==null){var se=t.unstable_now();F=se;var ue=!0;try{ue=N(!0,se)}finally{ue?D():(j=!1,N=null)}}else j=!1}var D;if(typeof S=="function")D=function(){S(U)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,xe=We.port2;We.port1.onmessage=U,D=function(){xe.postMessage(null)}}else D=function(){C(U,0)};function Ee(se){N=se,j||(j=!0,D())}function at(se,ue){k=C(function(){se(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){A||I||(A=!0,Ee(B))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(se){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var fe=_;_=ue;try{return se()}finally{_=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var fe=_;_=se;try{return ue()}finally{_=fe}},t.unstable_scheduleCallback=function(se,ue,fe){var tt=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?tt+fe:tt):fe=tt,se){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=fe+$e,se={id:m++,callback:ue,priorityLevel:se,startTime:fe,expirationTime:$e,sortIndex:-1},fe>tt?(se.sortIndex=fe,e(h,se),n(c)===null&&se===n(h)&&(E?(b(k),k=-1):E=!0,at(V,fe-tt))):(se.sortIndex=$e,e(c,se),A||I||(A=!0,Ee(B))),se},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(se){var ue=_;return function(){var fe=_;_=ue;try{return se.apply(this,arguments)}finally{_=fe}}}})(NL);xL.exports=NL;var _j=xL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj=Ie,Kr=_j;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DL=new Set,Kp={};function Iu(t,e){kd(t,e),kd(t+"Capture",e)}function kd(t,e){for(Kp[t]=e,t=0;t<e.length;t++)DL.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kI=Object.prototype.hasOwnProperty,Ej=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q2={},X2={};function Ij(t){return kI.call(X2,t)?!0:kI.call(Q2,t)?!1:Ej.test(t)?X2[t]=!0:(Q2[t]=!0,!1)}function bj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tj(t,e,n,r){if(e===null||typeof e>"u"||bj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var KT=/[\-:]([a-z])/g;function YT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KT,YT);Wn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KT,YT);Wn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KT,YT);Wn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function QT(t,e,n,r){var i=Wn.hasOwnProperty(e)?Wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tj(e,n,i,r)&&(n=null),r||i===null?Ij(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Eo=wj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ey=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),OL=Symbol.for("react.provider"),LL=Symbol.for("react.context"),JT=Symbol.for("react.forward_ref"),xI=Symbol.for("react.suspense"),NI=Symbol.for("react.suspense_list"),ZT=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),ML=Symbol.for("react.offscreen"),J2=Symbol.iterator;function zf(t){return t===null||typeof t!="object"?null:(t=J2&&t[J2]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,wE;function up(t){if(wE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wE=e&&e[1]||""}return`
`+wE+t}var EE=!1;function IE(t,e){if(!t||EE)return"";EE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{EE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?up(t):""}function Sj(t){switch(t.tag){case 5:return up(t.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return t=IE(t.type,!1),t;case 11:return t=IE(t.type.render,!1),t;case 1:return t=IE(t.type,!0),t;default:return""}}function DI(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jc:return"Fragment";case Xc:return"Portal";case RI:return"Profiler";case XT:return"StrictMode";case xI:return"Suspense";case NI:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LL:return(t.displayName||"Context")+".Consumer";case OL:return(t._context.displayName||"Context")+".Provider";case JT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZT:return e=t.displayName||null,e!==null?e:DI(t.type)||"Memo";case ia:e=t._payload,t=t._init;try{return DI(t(e))}catch{}}return null}function Cj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DI(e);case 8:return e===XT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Aj(t){var e=VL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ty(t){t._valueTracker||(t._valueTracker=Aj(t))}function FL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function g_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function OI(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UL(t,e){e=e.checked,e!=null&&QT(t,"checked",e,!1)}function LI(t,e){UL(t,e);var n=Pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?MI(t,e.type,n):e.hasOwnProperty("defaultValue")&&MI(t,e.type,Pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function MI(t,e,n){(e!=="number"||g_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cp=Array.isArray;function pd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function VI(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(cp(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pa(n)}}function BL(t,e){var n=Pa(e.value),r=Pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FI(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ny,zL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ny=ny||document.createElement("div"),ny.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ny.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pj=["Webkit","ms","Moz","O"];Object.keys(Ip).forEach(function(t){Pj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ip[e]=Ip[t]})});function $L(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ip.hasOwnProperty(t)&&Ip[t]?(""+e).trim():e+"px"}function GL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$L(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kj=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UI(t,e){if(e){if(kj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function BI(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jI=null;function eS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zI=null,md=null,gd=null;function rx(t){if(t=Zm(t)){if(typeof zI!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Ow(e),zI(t.stateNode,t.type,e))}}function qL(t){md?gd?gd.push(t):gd=[t]:md=t}function WL(){if(md){var t=md,e=gd;if(gd=md=null,rx(t),e)for(t=0;t<e.length;t++)rx(e[t])}}function HL(t,e){return t(e)}function KL(){}var bE=!1;function YL(t,e,n){if(bE)return t(e,n);bE=!0;try{return HL(t,e,n)}finally{bE=!1,(md!==null||gd!==null)&&(KL(),WL())}}function Qp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ow(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var $I=!1;if(ao)try{var $f={};Object.defineProperty($f,"passive",{get:function(){$I=!0}}),window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{$I=!1}function Rj(t,e,n,r,i,s,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(m){this.onError(m)}}var bp=!1,v_=null,y_=!1,GI=null,xj={onError:function(t){bp=!0,v_=t}};function Nj(t,e,n,r,i,s,a,u,c){bp=!1,v_=null,Rj.apply(xj,arguments)}function Dj(t,e,n,r,i,s,a,u,c){if(Nj.apply(this,arguments),bp){if(bp){var h=v_;bp=!1,v_=null}else throw Error(Z(198));y_||(y_=!0,GI=h)}}function bu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ix(t){if(bu(t)!==t)throw Error(Z(188))}function Oj(t){var e=t.alternate;if(!e){if(e=bu(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ix(i),t;if(s===r)return ix(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function XL(t){return t=Oj(t),t!==null?JL(t):null}function JL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JL(t);if(e!==null)return e;t=t.sibling}return null}var ZL=Kr.unstable_scheduleCallback,sx=Kr.unstable_cancelCallback,Lj=Kr.unstable_shouldYield,Mj=Kr.unstable_requestPaint,en=Kr.unstable_now,Vj=Kr.unstable_getCurrentPriorityLevel,tS=Kr.unstable_ImmediatePriority,eM=Kr.unstable_UserBlockingPriority,__=Kr.unstable_NormalPriority,Fj=Kr.unstable_LowPriority,tM=Kr.unstable_IdlePriority,Rw=null,Is=null;function Uj(t){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(Rw,t,void 0,(t.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:zj,Bj=Math.log,jj=Math.LN2;function zj(t){return t>>>=0,t===0?32:31-(Bj(t)/jj|0)|0}var ry=64,iy=4194304;function dp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function w_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=dp(u):(s&=a,s!==0&&(r=dp(s)))}else a=n&~i,a!==0?r=dp(a):s!==0&&(r=dp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ui(e),i=1<<n,r|=t[n],e&=~i;return r}function $j(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ui(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=$j(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function qI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nM(){var t=ry;return ry<<=1,!(ry&4194240)&&(ry=64),t}function TE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ui(e),t[e]=n}function qj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ui(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ui(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var it=0;function rM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iM,rS,sM,oM,aM,WI=!1,sy=[],ga=null,va=null,ya=null,Xp=new Map,Jp=new Map,oa=[],Wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Xp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jp.delete(e.pointerId)}}function Gf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zm(e),e!==null&&rS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Hj(t,e,n,r,i){switch(e){case"focusin":return ga=Gf(ga,t,e,n,r,i),!0;case"dragenter":return va=Gf(va,t,e,n,r,i),!0;case"mouseover":return ya=Gf(ya,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xp.set(s,Gf(Xp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jp.set(s,Gf(Jp.get(s)||null,t,e,n,r,i)),!0}return!1}function lM(t){var e=Ol(t.target);if(e!==null){var n=bu(e);if(n!==null){if(e=n.tag,e===13){if(e=QL(n),e!==null){t.blockedOn=e,aM(t.priority,function(){sM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=HI(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jI=r,n.target.dispatchEvent(r),jI=null}else return e=Zm(n),e!==null&&rS(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){Fy(t)&&n.delete(e)}function Kj(){WI=!1,ga!==null&&Fy(ga)&&(ga=null),va!==null&&Fy(va)&&(va=null),ya!==null&&Fy(ya)&&(ya=null),Xp.forEach(ax),Jp.forEach(ax)}function qf(t,e){t.blockedOn===e&&(t.blockedOn=null,WI||(WI=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,Kj)))}function Zp(t){function e(i){return qf(i,t)}if(0<sy.length){qf(sy[0],t);for(var n=1;n<sy.length;n++){var r=sy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ga!==null&&qf(ga,t),va!==null&&qf(va,t),ya!==null&&qf(ya,t),Xp.forEach(e),Jp.forEach(e),n=0;n<oa.length;n++)r=oa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)lM(n),n.blockedOn===null&&oa.shift()}var vd=Eo.ReactCurrentBatchConfig,E_=!0;function Yj(t,e,n,r){var i=it,s=vd.transition;vd.transition=null;try{it=1,iS(t,e,n,r)}finally{it=i,vd.transition=s}}function Qj(t,e,n,r){var i=it,s=vd.transition;vd.transition=null;try{it=4,iS(t,e,n,r)}finally{it=i,vd.transition=s}}function iS(t,e,n,r){if(E_){var i=HI(t,e,n,r);if(i===null)OE(t,e,r,I_,n),ox(t,r);else if(Hj(i,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<Wj.indexOf(t)){for(;i!==null;){var s=Zm(i);if(s!==null&&iM(s),s=HI(t,e,n,r),s===null&&OE(t,e,r,I_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else OE(t,e,r,null,n)}}var I_=null;function HI(t,e,n,r){if(I_=null,t=eS(r),t=Ol(t),t!==null)if(e=bu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return I_=t,null}function uM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vj()){case tS:return 1;case eM:return 4;case __:case Fj:return 16;case tM:return 536870912;default:return 16}default:return 16}}var ca=null,sS=null,Uy=null;function cM(){if(Uy)return Uy;var t,e=sS,n=e.length,r,i="value"in ca?ca.value:ca.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Uy=i.slice(t,1<r?1-r:void 0)}function By(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oy(){return!0}function lx(){return!1}function Xr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oy:lx,this.isPropagationStopped=lx,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oy)},persist:function(){},isPersistent:oy}),e}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oS=Xr(sh),Jm=Vt({},sh,{view:0,detail:0}),Xj=Xr(Jm),SE,CE,Wf,xw=Vt({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wf&&(Wf&&t.type==="mousemove"?(SE=t.screenX-Wf.screenX,CE=t.screenY-Wf.screenY):CE=SE=0,Wf=t),SE)},movementY:function(t){return"movementY"in t?t.movementY:CE}}),ux=Xr(xw),Jj=Vt({},xw,{dataTransfer:0}),Zj=Xr(Jj),e8=Vt({},Jm,{relatedTarget:0}),AE=Xr(e8),t8=Vt({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),n8=Xr(t8),r8=Vt({},sh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i8=Xr(r8),s8=Vt({},sh,{data:0}),cx=Xr(s8),o8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l8[t])?!!e[t]:!1}function aS(){return u8}var c8=Vt({},Jm,{key:function(t){if(t.key){var e=o8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=By(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aS,charCode:function(t){return t.type==="keypress"?By(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?By(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d8=Xr(c8),h8=Vt({},xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=Xr(h8),f8=Vt({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aS}),p8=Xr(f8),m8=Vt({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),g8=Xr(m8),v8=Vt({},xw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y8=Xr(v8),_8=[9,13,27,32],lS=ao&&"CompositionEvent"in window,Tp=null;ao&&"documentMode"in document&&(Tp=document.documentMode);var w8=ao&&"TextEvent"in window&&!Tp,dM=ao&&(!lS||Tp&&8<Tp&&11>=Tp),hx=" ",fx=!1;function hM(t,e){switch(t){case"keyup":return _8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zc=!1;function E8(t,e){switch(t){case"compositionend":return fM(e);case"keypress":return e.which!==32?null:(fx=!0,hx);case"textInput":return t=e.data,t===hx&&fx?null:t;default:return null}}function I8(t,e){if(Zc)return t==="compositionend"||!lS&&hM(t,e)?(t=cM(),Uy=sS=ca=null,Zc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dM&&e.locale!=="ko"?null:e.data;default:return null}}var b8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b8[t.type]:e==="textarea"}function pM(t,e,n,r){qL(r),e=b_(e,"onChange"),0<e.length&&(n=new oS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sp=null,em=null;function T8(t){SM(t,0)}function Nw(t){var e=nd(t);if(FL(e))return t}function S8(t,e){if(t==="change")return e}var mM=!1;if(ao){var PE;if(ao){var kE="oninput"in document;if(!kE){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),kE=typeof mx.oninput=="function"}PE=kE}else PE=!1;mM=PE&&(!document.documentMode||9<document.documentMode)}function gx(){Sp&&(Sp.detachEvent("onpropertychange",gM),em=Sp=null)}function gM(t){if(t.propertyName==="value"&&Nw(em)){var e=[];pM(e,em,t,eS(t)),YL(T8,e)}}function C8(t,e,n){t==="focusin"?(gx(),Sp=e,em=n,Sp.attachEvent("onpropertychange",gM)):t==="focusout"&&gx()}function A8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nw(em)}function P8(t,e){if(t==="click")return Nw(e)}function k8(t,e){if(t==="input"||t==="change")return Nw(e)}function R8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $i=typeof Object.is=="function"?Object.is:R8;function tm(t,e){if($i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kI.call(e,i)||!$i(t[i],e[i]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yx(t,e){var n=vx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vx(n)}}function vM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yM(){for(var t=window,e=g_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=g_(t.document)}return e}function uS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x8(t){var e=yM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vM(n.ownerDocument.documentElement,n)){if(r!==null&&uS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yx(n,s);var a=yx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N8=ao&&"documentMode"in document&&11>=document.documentMode,ed=null,KI=null,Cp=null,YI=!1;function _x(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YI||ed==null||ed!==g_(r)||(r=ed,"selectionStart"in r&&uS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cp&&tm(Cp,r)||(Cp=r,r=b_(KI,"onSelect"),0<r.length&&(e=new oS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ed)))}function ay(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var td={animationend:ay("Animation","AnimationEnd"),animationiteration:ay("Animation","AnimationIteration"),animationstart:ay("Animation","AnimationStart"),transitionend:ay("Transition","TransitionEnd")},RE={},_M={};ao&&(_M=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function Dw(t){if(RE[t])return RE[t];if(!td[t])return t;var e=td[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _M)return RE[t]=e[n];return t}var wM=Dw("animationend"),EM=Dw("animationiteration"),IM=Dw("animationstart"),bM=Dw("transitionend"),TM=new Map,wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(t,e){TM.set(t,e),Iu(e,[t])}for(var xE=0;xE<wx.length;xE++){var NE=wx[xE],D8=NE.toLowerCase(),O8=NE[0].toUpperCase()+NE.slice(1);Wa(D8,"on"+O8)}Wa(wM,"onAnimationEnd");Wa(EM,"onAnimationIteration");Wa(IM,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(bM,"onTransitionEnd");kd("onMouseEnter",["mouseout","mouseover"]);kd("onMouseLeave",["mouseout","mouseover"]);kd("onPointerEnter",["pointerout","pointerover"]);kd("onPointerLeave",["pointerout","pointerover"]);Iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Iu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hp));function Ex(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Dj(r,e,void 0,t),t.currentTarget=null}function SM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Ex(i,u,h),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Ex(i,u,h),s=c}}}if(y_)throw t=GI,y_=!1,GI=null,t}function gt(t,e){var n=e[eb];n===void 0&&(n=e[eb]=new Set);var r=t+"__bubble";n.has(r)||(CM(e,t,2,!1),n.add(r))}function DE(t,e,n){var r=0;e&&(r|=4),CM(n,t,r,e)}var ly="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[ly]){t[ly]=!0,DL.forEach(function(n){n!=="selectionchange"&&(L8.has(n)||DE(n,!1,t),DE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ly]||(e[ly]=!0,DE("selectionchange",!1,e))}}function CM(t,e,n,r){switch(uM(e)){case 1:var i=Yj;break;case 4:i=Qj;break;default:i=iS}n=i.bind(null,e,n,t),i=void 0,!$I||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function OE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ol(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}YL(function(){var h=s,m=eS(n),g=[];e:{var _=TM.get(t);if(_!==void 0){var I=oS,A=t;switch(t){case"keypress":if(By(n)===0)break e;case"keydown":case"keyup":I=d8;break;case"focusin":A="focus",I=AE;break;case"focusout":A="blur",I=AE;break;case"beforeblur":case"afterblur":I=AE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Zj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=p8;break;case wM:case EM:case IM:I=n8;break;case bM:I=g8;break;case"scroll":I=Xj;break;case"wheel":I=y8;break;case"copy":case"cut":case"paste":I=i8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=dx}var E=(e&4)!==0,C=!E&&t==="scroll",b=E?_!==null?_+"Capture":null:_;E=[];for(var S=h,R;S!==null;){R=S;var V=R.stateNode;if(R.tag===5&&V!==null&&(R=V,b!==null&&(V=Qp(S,b),V!=null&&E.push(rm(S,V,R)))),C)break;S=S.return}0<E.length&&(_=new I(_,A,null,n,m),g.push({event:_,listeners:E}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",_&&n!==jI&&(A=n.relatedTarget||n.fromElement)&&(Ol(A)||A[lo]))break e;if((I||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,I?(A=n.relatedTarget||n.toElement,I=h,A=A?Ol(A):null,A!==null&&(C=bu(A),A!==C||A.tag!==5&&A.tag!==6)&&(A=null)):(I=null,A=h),I!==A)){if(E=ux,V="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=dx,V="onPointerLeave",b="onPointerEnter",S="pointer"),C=I==null?_:nd(I),R=A==null?_:nd(A),_=new E(V,S+"leave",I,n,m),_.target=C,_.relatedTarget=R,V=null,Ol(m)===h&&(E=new E(b,S+"enter",A,n,m),E.target=R,E.relatedTarget=C,V=E),C=V,I&&A)t:{for(E=I,b=A,S=0,R=E;R;R=Uc(R))S++;for(R=0,V=b;V;V=Uc(V))R++;for(;0<S-R;)E=Uc(E),S--;for(;0<R-S;)b=Uc(b),R--;for(;S--;){if(E===b||b!==null&&E===b.alternate)break t;E=Uc(E),b=Uc(b)}E=null}else E=null;I!==null&&Ix(g,_,I,E,!1),A!==null&&C!==null&&Ix(g,C,A,E,!0)}}e:{if(_=h?nd(h):window,I=_.nodeName&&_.nodeName.toLowerCase(),I==="select"||I==="input"&&_.type==="file")var B=S8;else if(px(_))if(mM)B=k8;else{B=A8;var j=C8}else(I=_.nodeName)&&I.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(B=P8);if(B&&(B=B(t,h))){pM(g,B,n,m);break e}j&&j(t,_,h),t==="focusout"&&(j=_._wrapperState)&&j.controlled&&_.type==="number"&&MI(_,"number",_.value)}switch(j=h?nd(h):window,t){case"focusin":(px(j)||j.contentEditable==="true")&&(ed=j,KI=h,Cp=null);break;case"focusout":Cp=KI=ed=null;break;case"mousedown":YI=!0;break;case"contextmenu":case"mouseup":case"dragend":YI=!1,_x(g,n,m);break;case"selectionchange":if(N8)break;case"keydown":case"keyup":_x(g,n,m)}var N;if(lS)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zc?hM(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(dM&&n.locale!=="ko"&&(Zc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Zc&&(N=cM()):(ca=m,sS="value"in ca?ca.value:ca.textContent,Zc=!0)),j=b_(h,k),0<j.length&&(k=new cx(k,t,null,n,m),g.push({event:k,listeners:j}),N?k.data=N:(N=fM(n),N!==null&&(k.data=N)))),(N=w8?E8(t,n):I8(t,n))&&(h=b_(h,"onBeforeInput"),0<h.length&&(m=new cx("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:h}),m.data=N))}SM(g,e)})}function rm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function b_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qp(t,n),s!=null&&r.unshift(rm(t,s,i)),s=Qp(t,e),s!=null&&r.push(rm(t,s,i))),t=t.return}return r}function Uc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ix(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=Qp(n,s),c!=null&&a.unshift(rm(n,c,u))):i||(c=Qp(n,s),c!=null&&a.push(rm(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var M8=/\r\n?/g,V8=/\u0000|\uFFFD/g;function bx(t){return(typeof t=="string"?t:""+t).replace(M8,`
`).replace(V8,"")}function uy(t,e,n){if(e=bx(e),bx(t)!==e&&n)throw Error(Z(425))}function T_(){}var QI=null,XI=null;function JI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZI=typeof setTimeout=="function"?setTimeout:void 0,F8=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,U8=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(B8)}:ZI;function B8(t){setTimeout(function(){throw t})}function LE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zp(e)}function _a(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oh=Math.random().toString(36).slice(2),hs="__reactFiber$"+oh,im="__reactProps$"+oh,lo="__reactContainer$"+oh,eb="__reactEvents$"+oh,j8="__reactListeners$"+oh,z8="__reactHandles$"+oh;function Ol(t){var e=t[hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sx(t);t!==null;){if(n=t[hs])return n;t=Sx(t)}return e}t=n,n=t.parentNode}return null}function Zm(t){return t=t[hs]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Ow(t){return t[im]||null}var tb=[],rd=-1;function Ha(t){return{current:t}}function wt(t){0>rd||(t.current=tb[rd],tb[rd]=null,rd--)}function dt(t,e){rd++,tb[rd]=t.current,t.current=e}var ka={},tr=Ha(ka),kr=Ha(!1),Xl=ka;function Rd(t,e){var n=t.type.contextTypes;if(!n)return ka;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(t){return t=t.childContextTypes,t!=null}function S_(){wt(kr),wt(tr)}function Cx(t,e,n){if(tr.current!==ka)throw Error(Z(168));dt(tr,e),dt(kr,n)}function AM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,Cj(t)||"Unknown",i));return Vt({},n,r)}function C_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ka,Xl=tr.current,dt(tr,t),dt(kr,kr.current),!0}function Ax(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=AM(t,e,Xl),r.__reactInternalMemoizedMergedChildContext=t,wt(kr),wt(tr),dt(tr,t)):wt(kr),dt(kr,n)}var Qs=null,Lw=!1,ME=!1;function PM(t){Qs===null?Qs=[t]:Qs.push(t)}function $8(t){Lw=!0,PM(t)}function Ka(){if(!ME&&Qs!==null){ME=!0;var t=0,e=it;try{var n=Qs;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,Lw=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),ZL(tS,Ka),i}finally{it=e,ME=!1}}return null}var id=[],sd=0,A_=null,P_=0,si=[],oi=0,Jl=null,Xs=1,Js="";function Tl(t,e){id[sd++]=P_,id[sd++]=A_,A_=t,P_=e}function kM(t,e,n){si[oi++]=Xs,si[oi++]=Js,si[oi++]=Jl,Jl=t;var r=Xs;t=Js;var i=32-Ui(r)-1;r&=~(1<<i),n+=1;var s=32-Ui(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xs=1<<32-Ui(e)+i|n<<i|r,Js=s+t}else Xs=1<<s|n<<i|r,Js=t}function cS(t){t.return!==null&&(Tl(t,1),kM(t,1,0))}function dS(t){for(;t===A_;)A_=id[--sd],id[sd]=null,P_=id[--sd],id[sd]=null;for(;t===Jl;)Jl=si[--oi],si[oi]=null,Js=si[--oi],si[oi]=null,Xs=si[--oi],si[oi]=null}var Wr=null,Gr=null,St=!1,Oi=null;function RM(t,e){var n=ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Px(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,Gr=_a(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,Gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jl!==null?{id:Xs,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,Gr=null,!0):!1;default:return!1}}function nb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rb(t){if(St){var e=Gr;if(e){var n=e;if(!Px(t,e)){if(nb(t))throw Error(Z(418));e=_a(n.nextSibling);var r=Wr;e&&Px(t,e)?RM(r,n):(t.flags=t.flags&-4097|2,St=!1,Wr=t)}}else{if(nb(t))throw Error(Z(418));t.flags=t.flags&-4097|2,St=!1,Wr=t}}}function kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function cy(t){if(t!==Wr)return!1;if(!St)return kx(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!JI(t.type,t.memoizedProps)),e&&(e=Gr)){if(nb(t))throw xM(),Error(Z(418));for(;e;)RM(t,e),e=_a(e.nextSibling)}if(kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gr=_a(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gr=null}}else Gr=Wr?_a(t.stateNode.nextSibling):null;return!0}function xM(){for(var t=Gr;t;)t=_a(t.nextSibling)}function xd(){Gr=Wr=null,St=!1}function hS(t){Oi===null?Oi=[t]:Oi.push(t)}var G8=Eo.ReactCurrentBatchConfig;function Hf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function dy(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rx(t){var e=t._init;return e(t._payload)}function NM(t){function e(b,S){if(t){var R=b.deletions;R===null?(b.deletions=[S],b.flags|=16):R.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=ba(b,S),b.index=0,b.sibling=null,b}function s(b,S,R){return b.index=R,t?(R=b.alternate,R!==null?(R=R.index,R<S?(b.flags|=2,S):R):(b.flags|=2,S)):(b.flags|=1048576,S)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,R,V){return S===null||S.tag!==6?(S=$E(R,b.mode,V),S.return=b,S):(S=i(S,R),S.return=b,S)}function c(b,S,R,V){var B=R.type;return B===Jc?m(b,S,R.props.children,V,R.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ia&&Rx(B)===S.type)?(V=i(S,R.props),V.ref=Hf(b,S,R),V.return=b,V):(V=Hy(R.type,R.key,R.props,null,b.mode,V),V.ref=Hf(b,S,R),V.return=b,V)}function h(b,S,R,V){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=GE(R,b.mode,V),S.return=b,S):(S=i(S,R.children||[]),S.return=b,S)}function m(b,S,R,V,B){return S===null||S.tag!==7?(S=Wl(R,b.mode,V,B),S.return=b,S):(S=i(S,R),S.return=b,S)}function g(b,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return S=$E(""+S,b.mode,R),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ey:return R=Hy(S.type,S.key,S.props,null,b.mode,R),R.ref=Hf(b,null,S),R.return=b,R;case Xc:return S=GE(S,b.mode,R),S.return=b,S;case ia:var V=S._init;return g(b,V(S._payload),R)}if(cp(S)||zf(S))return S=Wl(S,b.mode,R,null),S.return=b,S;dy(b,S)}return null}function _(b,S,R,V){var B=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return B!==null?null:u(b,S,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ey:return R.key===B?c(b,S,R,V):null;case Xc:return R.key===B?h(b,S,R,V):null;case ia:return B=R._init,_(b,S,B(R._payload),V)}if(cp(R)||zf(R))return B!==null?null:m(b,S,R,V,null);dy(b,R)}return null}function I(b,S,R,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return b=b.get(R)||null,u(S,b,""+V,B);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ey:return b=b.get(V.key===null?R:V.key)||null,c(S,b,V,B);case Xc:return b=b.get(V.key===null?R:V.key)||null,h(S,b,V,B);case ia:var j=V._init;return I(b,S,R,j(V._payload),B)}if(cp(V)||zf(V))return b=b.get(R)||null,m(S,b,V,B,null);dy(S,V)}return null}function A(b,S,R,V){for(var B=null,j=null,N=S,k=S=0,O=null;N!==null&&k<R.length;k++){N.index>k?(O=N,N=null):O=N.sibling;var F=_(b,N,R[k],V);if(F===null){N===null&&(N=O);break}t&&N&&F.alternate===null&&e(b,N),S=s(F,S,k),j===null?B=F:j.sibling=F,j=F,N=O}if(k===R.length)return n(b,N),St&&Tl(b,k),B;if(N===null){for(;k<R.length;k++)N=g(b,R[k],V),N!==null&&(S=s(N,S,k),j===null?B=N:j.sibling=N,j=N);return St&&Tl(b,k),B}for(N=r(b,N);k<R.length;k++)O=I(N,b,k,R[k],V),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?k:O.key),S=s(O,S,k),j===null?B=O:j.sibling=O,j=O);return t&&N.forEach(function(L){return e(b,L)}),St&&Tl(b,k),B}function E(b,S,R,V){var B=zf(R);if(typeof B!="function")throw Error(Z(150));if(R=B.call(R),R==null)throw Error(Z(151));for(var j=B=null,N=S,k=S=0,O=null,F=R.next();N!==null&&!F.done;k++,F=R.next()){N.index>k?(O=N,N=null):O=N.sibling;var L=_(b,N,F.value,V);if(L===null){N===null&&(N=O);break}t&&N&&L.alternate===null&&e(b,N),S=s(L,S,k),j===null?B=L:j.sibling=L,j=L,N=O}if(F.done)return n(b,N),St&&Tl(b,k),B;if(N===null){for(;!F.done;k++,F=R.next())F=g(b,F.value,V),F!==null&&(S=s(F,S,k),j===null?B=F:j.sibling=F,j=F);return St&&Tl(b,k),B}for(N=r(b,N);!F.done;k++,F=R.next())F=I(N,b,k,F.value,V),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?k:F.key),S=s(F,S,k),j===null?B=F:j.sibling=F,j=F);return t&&N.forEach(function(U){return e(b,U)}),St&&Tl(b,k),B}function C(b,S,R,V){if(typeof R=="object"&&R!==null&&R.type===Jc&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ey:e:{for(var B=R.key,j=S;j!==null;){if(j.key===B){if(B=R.type,B===Jc){if(j.tag===7){n(b,j.sibling),S=i(j,R.props.children),S.return=b,b=S;break e}}else if(j.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ia&&Rx(B)===j.type){n(b,j.sibling),S=i(j,R.props),S.ref=Hf(b,j,R),S.return=b,b=S;break e}n(b,j);break}else e(b,j);j=j.sibling}R.type===Jc?(S=Wl(R.props.children,b.mode,V,R.key),S.return=b,b=S):(V=Hy(R.type,R.key,R.props,null,b.mode,V),V.ref=Hf(b,S,R),V.return=b,b=V)}return a(b);case Xc:e:{for(j=R.key;S!==null;){if(S.key===j)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){n(b,S.sibling),S=i(S,R.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=GE(R,b.mode,V),S.return=b,b=S}return a(b);case ia:return j=R._init,C(b,S,j(R._payload),V)}if(cp(R))return A(b,S,R,V);if(zf(R))return E(b,S,R,V);dy(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,R),S.return=b,b=S):(n(b,S),S=$E(R,b.mode,V),S.return=b,b=S),a(b)):n(b,S)}return C}var Nd=NM(!0),DM=NM(!1),k_=Ha(null),R_=null,od=null,fS=null;function pS(){fS=od=R_=null}function mS(t){var e=k_.current;wt(k_),t._currentValue=e}function ib(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yd(t,e){R_=t,fS=od=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(fS!==t)if(t={context:t,memoizedValue:e,next:null},od===null){if(R_===null)throw Error(Z(308));od=t,R_.dependencies={lanes:0,firstContext:t}}else od=od.next=t;return e}var Ll=null;function gS(t){Ll===null?Ll=[t]:Ll.push(t)}function OM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gS(e)):(n.next=i.next,i.next=n),e.interleaved=n,uo(t,r)}function uo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sa=!1;function vS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,uo(t,n)}return i=r.interleaved,i===null?(e.next=e,gS(r)):(e.next=i.next,i.next=e),r.interleaved=e,uo(t,n)}function jy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}function xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function x_(t,e,n,r){var i=t.updateQueue;sa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,m=h=c=null,u=s;do{var _=u.lane,I=u.eventTime;if((r&_)===_){m!==null&&(m=m.next={eventTime:I,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=t,E=u;switch(_=e,I=n,E.tag){case 1:if(A=E.payload,typeof A=="function"){g=A.call(I,g,_);break e}g=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=E.payload,_=typeof A=="function"?A.call(I,g,_):A,_==null)break e;g=Vt({},g,_);break e;case 2:sa=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else I={eventTime:I,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=I,c=g):m=m.next=I,a|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);eu|=a,t.lanes=a,t.memoizedState=g}}function Nx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var eg={},bs=Ha(eg),sm=Ha(eg),om=Ha(eg);function Ml(t){if(t===eg)throw Error(Z(174));return t}function yS(t,e){switch(dt(om,e),dt(sm,t),dt(bs,eg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FI(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=FI(e,t)}wt(bs),dt(bs,e)}function Dd(){wt(bs),wt(sm),wt(om)}function MM(t){Ml(om.current);var e=Ml(bs.current),n=FI(e,t.type);e!==n&&(dt(sm,t),dt(bs,n))}function _S(t){sm.current===t&&(wt(bs),wt(sm))}var Dt=Ha(0);function N_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VE=[];function wS(){for(var t=0;t<VE.length;t++)VE[t]._workInProgressVersionPrimary=null;VE.length=0}var zy=Eo.ReactCurrentDispatcher,FE=Eo.ReactCurrentBatchConfig,Zl=0,Ot=null,mn=null,kn=null,D_=!1,Ap=!1,am=0,q8=0;function Qn(){throw Error(Z(321))}function ES(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$i(t[n],e[n]))return!1;return!0}function IS(t,e,n,r,i,s){if(Zl=s,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zy.current=t===null||t.memoizedState===null?Y8:Q8,t=n(r,i),Ap){s=0;do{if(Ap=!1,am=0,25<=s)throw Error(Z(301));s+=1,kn=mn=null,e.updateQueue=null,zy.current=X8,t=n(r,i)}while(Ap)}if(zy.current=O_,e=mn!==null&&mn.next!==null,Zl=0,kn=mn=Ot=null,D_=!1,e)throw Error(Z(300));return t}function bS(){var t=am!==0;return am=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Ot.memoizedState=kn=t:kn=kn.next=t,kn}function fi(){if(mn===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=kn===null?Ot.memoizedState:kn.next;if(e!==null)kn=e,mn=t;else{if(t===null)throw Error(Z(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},kn===null?Ot.memoizedState=kn=t:kn=kn.next=t}return kn}function lm(t,e){return typeof e=="function"?e(t):e}function UE(t){var e=fi(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,h=s;do{var m=h.lane;if((Zl&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=g,a=r):c=c.next=g,Ot.lanes|=m,eu|=m}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=u,$i(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ot.lanes|=s,eu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function BE(t){var e=fi(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);$i(s,e.memoizedState)||(Sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VM(){}function FM(t,e){var n=Ot,r=fi(),i=e(),s=!$i(r.memoizedState,i);if(s&&(r.memoizedState=i,Sr=!0),r=r.queue,TS(jM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,um(9,BM.bind(null,n,r,i,e),void 0,null),Nn===null)throw Error(Z(349));Zl&30||UM(n,e,i)}return i}function UM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BM(t,e,n,r){e.value=n,e.getSnapshot=r,zM(e)&&$M(t)}function jM(t,e,n){return n(function(){zM(e)&&$M(t)})}function zM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$i(t,n)}catch{return!0}}function $M(t){var e=uo(t,1);e!==null&&Bi(e,t,1,-1)}function Dx(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},e.queue=t,t=t.dispatch=K8.bind(null,Ot,t),[e.memoizedState,t]}function um(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GM(){return fi().memoizedState}function $y(t,e,n,r){var i=cs();Ot.flags|=t,i.memoizedState=um(1|e,n,void 0,r===void 0?null:r)}function Mw(t,e,n,r){var i=fi();r=r===void 0?null:r;var s=void 0;if(mn!==null){var a=mn.memoizedState;if(s=a.destroy,r!==null&&ES(r,a.deps)){i.memoizedState=um(e,n,s,r);return}}Ot.flags|=t,i.memoizedState=um(1|e,n,s,r)}function Ox(t,e){return $y(8390656,8,t,e)}function TS(t,e){return Mw(2048,8,t,e)}function qM(t,e){return Mw(4,2,t,e)}function WM(t,e){return Mw(4,4,t,e)}function HM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KM(t,e,n){return n=n!=null?n.concat([t]):null,Mw(4,4,HM.bind(null,e,t),n)}function SS(){}function YM(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QM(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XM(t,e,n){return Zl&21?($i(n,e)||(n=nM(),Ot.lanes|=n,eu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function W8(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=FE.transition;FE.transition={};try{t(!1),e()}finally{it=n,FE.transition=r}}function JM(){return fi().memoizedState}function H8(t,e,n){var r=Ia(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZM(t))eV(e,n);else if(n=OM(t,e,n,r),n!==null){var i=cr();Bi(n,t,r,i),tV(n,e,r)}}function K8(t,e,n){var r=Ia(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZM(t))eV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,$i(u,a)){var c=e.interleaved;c===null?(i.next=i,gS(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=OM(t,e,i,r),n!==null&&(i=cr(),Bi(n,t,r,i),tV(n,e,r))}}function ZM(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function eV(t,e){Ap=D_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tV(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}var O_={readContext:hi,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},Y8={readContext:hi,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:Ox,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$y(4194308,4,HM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $y(4194308,4,t,e)},useInsertionEffect:function(t,e){return $y(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H8.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:Dx,useDebugValue:SS,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=Dx(!1),e=t[0];return t=W8.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,i=cs();if(St){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Nn===null)throw Error(Z(349));Zl&30||UM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ox(jM.bind(null,r,s,t),[t]),r.flags|=2048,um(9,BM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cs(),e=Nn.identifierPrefix;if(St){var n=Js,r=Xs;n=(r&~(1<<32-Ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=am++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q8={readContext:hi,useCallback:YM,useContext:hi,useEffect:TS,useImperativeHandle:KM,useInsertionEffect:qM,useLayoutEffect:WM,useMemo:QM,useReducer:UE,useRef:GM,useState:function(){return UE(lm)},useDebugValue:SS,useDeferredValue:function(t){var e=fi();return XM(e,mn.memoizedState,t)},useTransition:function(){var t=UE(lm)[0],e=fi().memoizedState;return[t,e]},useMutableSource:VM,useSyncExternalStore:FM,useId:JM,unstable_isNewReconciler:!1},X8={readContext:hi,useCallback:YM,useContext:hi,useEffect:TS,useImperativeHandle:KM,useInsertionEffect:qM,useLayoutEffect:WM,useMemo:QM,useReducer:BE,useRef:GM,useState:function(){return BE(lm)},useDebugValue:SS,useDeferredValue:function(t){var e=fi();return mn===null?e.memoizedState=t:XM(e,mn.memoizedState,t)},useTransition:function(){var t=BE(lm)[0],e=fi().memoizedState;return[t,e]},useMutableSource:VM,useSyncExternalStore:FM,useId:JM,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vw={isMounted:function(t){return(t=t._reactInternals)?bu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),i=Ia(t),s=io(r,i);s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Bi(e,t,i,r),jy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),i=Ia(t),s=io(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Bi(e,t,i,r),jy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=Ia(t),i=io(n,r);i.tag=2,e!=null&&(i.callback=e),e=wa(t,i,r),e!==null&&(Bi(e,t,r,n),jy(e,t,r))}};function Lx(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!tm(n,r)||!tm(i,s):!0}function nV(t,e,n){var r=!1,i=ka,s=e.contextType;return typeof s=="object"&&s!==null?s=hi(s):(i=Rr(e)?Xl:tr.current,r=e.contextTypes,s=(r=r!=null)?Rd(t,i):ka),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Mx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vw.enqueueReplaceState(e,e.state,null)}function ob(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hi(s):(s=Rr(e)?Xl:tr.current,i.context=Rd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vw.enqueueReplaceState(i,i.state,null),x_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Od(t,e){try{var n="",r=e;do n+=Sj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ab(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var J8=typeof WeakMap=="function"?WeakMap:Map;function rV(t,e,n){n=io(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){M_||(M_=!0,vb=r),ab(t,e)},n}function iV(t,e,n){n=io(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ab(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ab(t,e),typeof r!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Vx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new J8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hz.bind(null,t,e,n),e.then(t,t))}function Fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=io(-1,1),e.tag=2,wa(n,e,1))),n.lanes|=1),t)}var Z8=Eo.ReactCurrentOwner,Sr=!1;function or(t,e,n,r){e.child=t===null?DM(e,null,n,r):Nd(e,t.child,n,r)}function Bx(t,e,n,r,i){n=n.render;var s=e.ref;return yd(e,i),r=IS(t,e,n,r,s,i),n=bS(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,co(t,e,i)):(St&&n&&cS(e),e.flags|=1,or(t,e,r,i),e.child)}function jx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!DS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sV(t,e,s,r,i)):(t=Hy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:tm,n(a,r)&&t.ref===e.ref)return co(t,e,i)}return e.flags|=1,t=ba(s,r),t.ref=e.ref,t.return=e,e.child=t}function sV(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tm(s,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,co(t,e,i)}return lb(t,e,n,r,i)}function oV(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(ld,Br),Br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(ld,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,dt(ld,Br),Br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,dt(ld,Br),Br|=r;return or(t,e,i,n),e.child}function aV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lb(t,e,n,r,i){var s=Rr(n)?Xl:tr.current;return s=Rd(e,s),yd(e,i),n=IS(t,e,n,r,s,i),r=bS(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,co(t,e,i)):(St&&r&&cS(e),e.flags|=1,or(t,e,n,i),e.child)}function zx(t,e,n,r,i){if(Rr(n)){var s=!0;C_(e)}else s=!1;if(yd(e,i),e.stateNode===null)Gy(t,e),nV(e,n,r),ob(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=hi(h):(h=Rr(n)?Xl:tr.current,h=Rd(e,h));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&Mx(e,a,r,h),sa=!1;var _=e.memoizedState;a.state=_,x_(e,r,a,i),c=e.memoizedState,u!==r||_!==c||kr.current||sa?(typeof m=="function"&&(sb(e,n,m,r),c=e.memoizedState),(u=sa||Lx(e,n,u,r,_,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,LM(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Ni(e.type,u),a.props=h,g=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=hi(c):(c=Rr(n)?Xl:tr.current,c=Rd(e,c));var I=n.getDerivedStateFromProps;(m=typeof I=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||_!==c)&&Mx(e,a,r,c),sa=!1,_=e.memoizedState,a.state=_,x_(e,r,a,i);var A=e.memoizedState;u!==g||_!==A||kr.current||sa?(typeof I=="function"&&(sb(e,n,I,r),A=e.memoizedState),(h=sa||Lx(e,n,h,r,_,A,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,A,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,A,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),a.props=r,a.state=A,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return ub(t,e,n,r,s,i)}function ub(t,e,n,r,i,s){aV(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ax(e,n,!1),co(t,e,s);r=e.stateNode,Z8.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Nd(e,t.child,null,s),e.child=Nd(e,null,u,s)):or(t,e,u,s),e.memoizedState=r.state,i&&Ax(e,n,!0),e.child}function lV(t){var e=t.stateNode;e.pendingContext?Cx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cx(t,e.context,!1),yS(t,e.containerInfo)}function $x(t,e,n,r,i){return xd(),hS(i),e.flags|=256,or(t,e,n,r),e.child}var cb={dehydrated:null,treeContext:null,retryLane:0};function db(t){return{baseLanes:t,cachePool:null,transitions:null}}function uV(t,e,n){var r=e.pendingProps,i=Dt.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(Dt,i&1),t===null)return rb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Bw(a,r,0,null),t=Wl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=db(n),e.memoizedState=cb,t):CS(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ez(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ba(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ba(u,s):(s=Wl(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?db(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=cb,r}return s=t.child,t=s.sibling,r=ba(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CS(t,e){return e=Bw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hy(t,e,n,r){return r!==null&&hS(r),Nd(e,t.child,null,n),t=CS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ez(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=jE(Error(Z(422))),hy(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bw({mode:"visible",children:r.children},i,0,null),s=Wl(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nd(e,t.child,null,a),e.child.memoizedState=db(a),e.memoizedState=cb,s);if(!(e.mode&1))return hy(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(Z(419)),r=jE(s,r,void 0),hy(t,e,a,r)}if(u=(a&t.childLanes)!==0,Sr||u){if(r=Nn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,uo(t,i),Bi(r,t,i,-1))}return NS(),r=jE(Error(Z(421))),hy(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fz.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gr=_a(i.nextSibling),Wr=e,St=!0,Oi=null,t!==null&&(si[oi++]=Xs,si[oi++]=Js,si[oi++]=Jl,Xs=t.id,Js=t.overflow,Jl=e),e=CS(e,r.children),e.flags|=4096,e)}function Gx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ib(t.return,e,n)}function zE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cV(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(or(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gx(t,n,e);else if(t.tag===19)Gx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&N_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&N_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zE(e,!0,n,null,s);break;case"together":zE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ba(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ba(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tz(t,e,n){switch(e.tag){case 3:lV(e),xd();break;case 5:MM(e);break;case 1:Rr(e.type)&&C_(e);break;case 4:yS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(k_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?uV(t,e,n):(dt(Dt,Dt.current&1),t=co(t,e,n),t!==null?t.sibling:null);dt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,oV(t,e,n)}return co(t,e,n)}var dV,hb,hV,fV;dV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hb=function(){};hV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ml(bs.current);var s=null;switch(n){case"input":i=OI(t,i),r=OI(t,r),s=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),s=[];break;case"textarea":i=VI(t,i),r=VI(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=T_)}UI(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Kp.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Kp.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&gt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};fV=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kf(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nz(t,e,n){var r=e.pendingProps;switch(dS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Rr(e.type)&&S_(),Xn(e),null;case 3:return r=e.stateNode,Dd(),wt(kr),wt(tr),wS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oi!==null&&(wb(Oi),Oi=null))),hb(t,e),Xn(e),null;case 5:_S(e);var i=Ml(om.current);if(n=e.type,t!==null&&e.stateNode!=null)hV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Xn(e),null}if(t=Ml(bs.current),cy(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hs]=e,r[im]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<hp.length;i++)gt(hp[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":Z2(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":tx(r,s),gt("invalid",r)}UI(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&uy(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&uy(r.textContent,u,t),i=["children",""+u]):Kp.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&gt("scroll",r)}switch(n){case"input":ty(r),ex(r,s,!0);break;case"textarea":ty(r),nx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=T_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hs]=e,t[im]=r,dV(t,e,!1,!1),e.stateNode=t;e:{switch(a=BI(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<hp.length;i++)gt(hp[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":Z2(t,r),i=OI(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":tx(t,r),i=VI(t,r),gt("invalid",t);break;default:i=r}UI(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?GL(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zL(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yp(t,c):typeof c=="number"&&Yp(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&gt("scroll",t):c!=null&&QT(t,s,c,a))}switch(n){case"input":ty(t),ex(t,r,!1);break;case"textarea":ty(t),nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pd(t,!!r.multiple,s,!1):r.defaultValue!=null&&pd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=T_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)fV(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Ml(om.current),Ml(bs.current),cy(e)){if(r=e.stateNode,n=e.memoizedProps,r[hs]=e,(s=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:uy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hs]=e,e.stateNode=r}return Xn(e),null;case 13:if(wt(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&Gr!==null&&e.mode&1&&!(e.flags&128))xM(),xd(),e.flags|=98560,s=!1;else if(s=cy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[hs]=e}else xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),s=!1}else Oi!==null&&(wb(Oi),Oi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?yn===0&&(yn=3):NS())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Dd(),hb(t,e),t===null&&nm(e.stateNode.containerInfo),Xn(e),null;case 10:return mS(e.type._context),Xn(e),null;case 17:return Rr(e.type)&&S_(),Xn(e),null;case 19:if(wt(Dt),s=e.memoizedState,s===null)return Xn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Kf(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=N_(t),a!==null){for(e.flags|=128,Kf(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&en()>Ld&&(e.flags|=128,r=!0,Kf(s,!1),e.lanes=4194304)}else{if(!r)if(t=N_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!St)return Xn(e),null}else 2*en()-s.renderingStartTime>Ld&&n!==1073741824&&(e.flags|=128,r=!0,Kf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=en(),e.sibling=null,n=Dt.current,dt(Dt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return xS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function rz(t,e){switch(dS(e),e.tag){case 1:return Rr(e.type)&&S_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dd(),wt(kr),wt(tr),wS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _S(e),null;case 13:if(wt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));xd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Dt),null;case 4:return Dd(),null;case 10:return mS(e.type._context),null;case 22:case 23:return xS(),null;case 24:return null;default:return null}}var fy=!1,Zn=!1,iz=typeof WeakSet=="function"?WeakSet:Set,de=null;function ad(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zt(t,e,r)}else n.current=null}function fb(t,e,n){try{n()}catch(r){zt(t,e,r)}}var qx=!1;function sz(t,e){if(QI=E_,t=yM(),uS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,h=0,m=0,g=t,_=null;t:for(;;){for(var I;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(I=g.firstChild)!==null;)_=g,g=I;for(;;){if(g===t)break t;if(_===n&&++h===i&&(u=a),_===s&&++m===r&&(c=a),(I=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=I}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(XI={focusedElem:t,selectionRange:n},E_=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var E=A.memoizedProps,C=A.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ni(e.type,E),C);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(V){zt(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return A=qx,qx=!1,A}function Pp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fb(e,n,s)}i=i.next}while(i!==r)}}function Fw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pV(t){var e=t.alternate;e!==null&&(t.alternate=null,pV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hs],delete e[im],delete e[eb],delete e[j8],delete e[z8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mV(t){return t.tag===5||t.tag===3||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=T_));else if(r!==4&&(t=t.child,t!==null))for(mb(t,e,n),t=t.sibling;t!==null;)mb(t,e,n),t=t.sibling}function gb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gb(t,e,n),t=t.sibling;t!==null;)gb(t,e,n),t=t.sibling}var zn=null,Di=!1;function Xo(t,e,n){for(n=n.child;n!==null;)gV(t,e,n),n=n.sibling}function gV(t,e,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(Rw,n)}catch{}switch(n.tag){case 5:Zn||ad(n,e);case 6:var r=zn,i=Di;zn=null,Xo(t,e,n),zn=r,Di=i,zn!==null&&(Di?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(Di?(t=zn,n=n.stateNode,t.nodeType===8?LE(t.parentNode,n):t.nodeType===1&&LE(t,n),Zp(t)):LE(zn,n.stateNode));break;case 4:r=zn,i=Di,zn=n.stateNode.containerInfo,Di=!0,Xo(t,e,n),zn=r,Di=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fb(n,e,a),i=i.next}while(i!==r)}Xo(t,e,n);break;case 1:if(!Zn&&(ad(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){zt(n,e,u)}Xo(t,e,n);break;case 21:Xo(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,Xo(t,e,n),Zn=r):Xo(t,e,n);break;default:Xo(t,e,n)}}function Hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iz),e.forEach(function(r){var i=pz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:zn=u.stateNode,Di=!1;break e;case 3:zn=u.stateNode.containerInfo,Di=!0;break e;case 4:zn=u.stateNode.containerInfo,Di=!0;break e}u=u.return}if(zn===null)throw Error(Z(160));gV(s,a,i),zn=null,Di=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){zt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vV(e,t),e=e.sibling}function vV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xi(e,t),us(t),r&4){try{Pp(3,t,t.return),Fw(3,t)}catch(E){zt(t,t.return,E)}try{Pp(5,t,t.return)}catch(E){zt(t,t.return,E)}}break;case 1:xi(e,t),us(t),r&512&&n!==null&&ad(n,n.return);break;case 5:if(xi(e,t),us(t),r&512&&n!==null&&ad(n,n.return),t.flags&32){var i=t.stateNode;try{Yp(i,"")}catch(E){zt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&UL(i,s),BI(u,a);var h=BI(u,s);for(a=0;a<c.length;a+=2){var m=c[a],g=c[a+1];m==="style"?GL(i,g):m==="dangerouslySetInnerHTML"?zL(i,g):m==="children"?Yp(i,g):QT(i,m,g,h)}switch(u){case"input":LI(i,s);break;case"textarea":BL(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?pd(i,!!s.multiple,I,!1):_!==!!s.multiple&&(s.defaultValue!=null?pd(i,!!s.multiple,s.defaultValue,!0):pd(i,!!s.multiple,s.multiple?[]:"",!1))}i[im]=s}catch(E){zt(t,t.return,E)}}break;case 6:if(xi(e,t),us(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){zt(t,t.return,E)}}break;case 3:if(xi(e,t),us(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zp(e.containerInfo)}catch(E){zt(t,t.return,E)}break;case 4:xi(e,t),us(t);break;case 13:xi(e,t),us(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kS=en())),r&4&&Hx(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(h=Zn)||m,xi(e,t),Zn=h):xi(e,t),us(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(de=t,m=t.child;m!==null;){for(g=de=m;de!==null;){switch(_=de,I=_.child,_.tag){case 0:case 11:case 14:case 15:Pp(4,_,_.return);break;case 1:ad(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(E){zt(r,n,E)}}break;case 5:ad(_,_.return);break;case 22:if(_.memoizedState!==null){Yx(g);continue}}I!==null?(I.return=_,de=I):Yx(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=$L("display",a))}catch(E){zt(t,t.return,E)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(E){zt(t,t.return,E)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:xi(e,t),us(t),r&4&&Hx(t);break;case 21:break;default:xi(e,t),us(t)}}function us(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mV(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yp(i,""),r.flags&=-33);var s=Wx(t);gb(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=Wx(t);mb(t,u,a);break;default:throw Error(Z(161))}}catch(c){zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oz(t,e,n){de=t,yV(t)}function yV(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fy;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Zn;u=fy;var h=Zn;if(fy=a,(Zn=c)&&!h)for(de=i;de!==null;)a=de,c=a.child,a.tag===22&&a.memoizedState!==null?Qx(i):c!==null?(c.return=a,de=c):Qx(i);for(;s!==null;)de=s,yV(s),s=s.sibling;de=i,fy=u,Zn=h}Kx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Kx(t)}}function Kx(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Fw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nx(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nx(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Zp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Zn||e.flags&512&&pb(e)}catch(_){zt(e,e.return,_)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Yx(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Qx(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fw(4,e)}catch(c){zt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){zt(e,i,c)}}var s=e.return;try{pb(e)}catch(c){zt(e,s,c)}break;case 5:var a=e.return;try{pb(e)}catch(c){zt(e,a,c)}}}catch(c){zt(e,e.return,c)}if(e===t){de=null;break}var u=e.sibling;if(u!==null){u.return=e.return,de=u;break}de=e.return}}var az=Math.ceil,L_=Eo.ReactCurrentDispatcher,AS=Eo.ReactCurrentOwner,ui=Eo.ReactCurrentBatchConfig,Ke=0,Nn=null,dn=null,qn=0,Br=0,ld=Ha(0),yn=0,cm=null,eu=0,Uw=0,PS=0,kp=null,Tr=null,kS=0,Ld=1/0,Ys=null,M_=!1,vb=null,Ea=null,py=!1,da=null,V_=0,Rp=0,yb=null,qy=-1,Wy=0;function cr(){return Ke&6?en():qy!==-1?qy:qy=en()}function Ia(t){return t.mode&1?Ke&2&&qn!==0?qn&-qn:G8.transition!==null?(Wy===0&&(Wy=nM()),Wy):(t=it,t!==0||(t=window.event,t=t===void 0?16:uM(t.type)),t):1}function Bi(t,e,n,r){if(50<Rp)throw Rp=0,yb=null,Error(Z(185));Xm(t,n,r),(!(Ke&2)||t!==Nn)&&(t===Nn&&(!(Ke&2)&&(Uw|=n),yn===4&&aa(t,qn)),xr(t,r),n===1&&Ke===0&&!(e.mode&1)&&(Ld=en()+500,Lw&&Ka()))}function xr(t,e){var n=t.callbackNode;Gj(t,e);var r=w_(t,t===Nn?qn:0);if(r===0)n!==null&&sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sx(n),e===1)t.tag===0?$8(Xx.bind(null,t)):PM(Xx.bind(null,t)),U8(function(){!(Ke&6)&&Ka()}),n=null;else{switch(rM(r)){case 1:n=tS;break;case 4:n=eM;break;case 16:n=__;break;case 536870912:n=tM;break;default:n=__}n=CV(n,_V.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _V(t,e){if(qy=-1,Wy=0,Ke&6)throw Error(Z(327));var n=t.callbackNode;if(_d()&&t.callbackNode!==n)return null;var r=w_(t,t===Nn?qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=F_(t,r);else{e=r;var i=Ke;Ke|=2;var s=EV();(Nn!==t||qn!==e)&&(Ys=null,Ld=en()+500,ql(t,e));do try{cz();break}catch(u){wV(t,u)}while(!0);pS(),L_.current=s,Ke=i,dn!==null?e=0:(Nn=null,qn=0,e=yn)}if(e!==0){if(e===2&&(i=qI(t),i!==0&&(r=i,e=_b(t,i))),e===1)throw n=cm,ql(t,0),aa(t,r),xr(t,en()),n;if(e===6)aa(t,r);else{if(i=t.current.alternate,!(r&30)&&!lz(i)&&(e=F_(t,r),e===2&&(s=qI(t),s!==0&&(r=s,e=_b(t,s))),e===1))throw n=cm,ql(t,0),aa(t,r),xr(t,en()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Sl(t,Tr,Ys);break;case 3:if(aa(t,r),(r&130023424)===r&&(e=kS+500-en(),10<e)){if(w_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ZI(Sl.bind(null,t,Tr,Ys),e);break}Sl(t,Tr,Ys);break;case 4:if(aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ui(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*az(r/1960))-r,10<r){t.timeoutHandle=ZI(Sl.bind(null,t,Tr,Ys),r);break}Sl(t,Tr,Ys);break;case 5:Sl(t,Tr,Ys);break;default:throw Error(Z(329))}}}return xr(t,en()),t.callbackNode===n?_V.bind(null,t):null}function _b(t,e){var n=kp;return t.current.memoizedState.isDehydrated&&(ql(t,e).flags|=256),t=F_(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&wb(e)),t}function wb(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function lz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$i(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function aa(t,e){for(e&=~PS,e&=~Uw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ui(e),r=1<<n;t[n]=-1,e&=~r}}function Xx(t){if(Ke&6)throw Error(Z(327));_d();var e=w_(t,0);if(!(e&1))return xr(t,en()),null;var n=F_(t,e);if(t.tag!==0&&n===2){var r=qI(t);r!==0&&(e=r,n=_b(t,r))}if(n===1)throw n=cm,ql(t,0),aa(t,e),xr(t,en()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,Tr,Ys),xr(t,en()),null}function RS(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(Ld=en()+500,Lw&&Ka())}}function tu(t){da!==null&&da.tag===0&&!(Ke&6)&&_d();var e=Ke;Ke|=1;var n=ui.transition,r=it;try{if(ui.transition=null,it=1,t)return t()}finally{it=r,ui.transition=n,Ke=e,!(Ke&6)&&Ka()}}function xS(){Br=ld.current,wt(ld)}function ql(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F8(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(dS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S_();break;case 3:Dd(),wt(kr),wt(tr),wS();break;case 5:_S(r);break;case 4:Dd();break;case 13:wt(Dt);break;case 19:wt(Dt);break;case 10:mS(r.type._context);break;case 22:case 23:xS()}n=n.return}if(Nn=t,dn=t=ba(t.current,null),qn=Br=e,yn=0,cm=null,PS=Uw=eu=0,Tr=kp=null,Ll!==null){for(e=0;e<Ll.length;e++)if(n=Ll[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ll=null}return t}function wV(t,e){do{var n=dn;try{if(pS(),zy.current=O_,D_){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}D_=!1}if(Zl=0,kn=mn=Ot=null,Ap=!1,am=0,AS.current=null,n===null||n.return===null){yn=1,cm=e,dn=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=qn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=u,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var I=Fx(a);if(I!==null){I.flags&=-257,Ux(I,a,u,s,e),I.mode&1&&Vx(s,h,e),e=I,c=h;var A=e.updateQueue;if(A===null){var E=new Set;E.add(c),e.updateQueue=E}else A.add(c);break e}else{if(!(e&1)){Vx(s,h,e),NS();break e}c=Error(Z(426))}}else if(St&&u.mode&1){var C=Fx(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ux(C,a,u,s,e),hS(Od(c,u));break e}}s=c=Od(c,u),yn!==4&&(yn=2),kp===null?kp=[s]:kp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=rV(s,c,e);xx(s,b);break e;case 1:u=c;var S=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ea===null||!Ea.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=iV(s,u,e);xx(s,V);break e}}s=s.return}while(s!==null)}bV(n)}catch(B){e=B,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function EV(){var t=L_.current;return L_.current=O_,t===null?O_:t}function NS(){(yn===0||yn===3||yn===2)&&(yn=4),Nn===null||!(eu&268435455)&&!(Uw&268435455)||aa(Nn,qn)}function F_(t,e){var n=Ke;Ke|=2;var r=EV();(Nn!==t||qn!==e)&&(Ys=null,ql(t,e));do try{uz();break}catch(i){wV(t,i)}while(!0);if(pS(),Ke=n,L_.current=r,dn!==null)throw Error(Z(261));return Nn=null,qn=0,yn}function uz(){for(;dn!==null;)IV(dn)}function cz(){for(;dn!==null&&!Lj();)IV(dn)}function IV(t){var e=SV(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?bV(t):dn=e,AS.current=null}function bV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rz(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,dn=null;return}}else if(n=nz(n,e,Br),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);yn===0&&(yn=5)}function Sl(t,e,n){var r=it,i=ui.transition;try{ui.transition=null,it=1,dz(t,e,n,r)}finally{ui.transition=i,it=r}return null}function dz(t,e,n,r){do _d();while(da!==null);if(Ke&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qj(t,s),t===Nn&&(dn=Nn=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||py||(py=!0,CV(__,function(){return _d(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var a=it;it=1;var u=Ke;Ke|=4,AS.current=null,sz(t,n),vV(n,t),x8(XI),E_=!!QI,XI=QI=null,t.current=n,oz(n),Mj(),Ke=u,it=a,ui.transition=s}else t.current=n;if(py&&(py=!1,da=t,V_=i),s=t.pendingLanes,s===0&&(Ea=null),Uj(n.stateNode),xr(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(M_)throw M_=!1,t=vb,vb=null,t;return V_&1&&t.tag!==0&&_d(),s=t.pendingLanes,s&1?t===yb?Rp++:(Rp=0,yb=t):Rp=0,Ka(),null}function _d(){if(da!==null){var t=rM(V_),e=ui.transition,n=it;try{if(ui.transition=null,it=16>t?16:t,da===null)var r=!1;else{if(t=da,da=null,V_=0,Ke&6)throw Error(Z(331));var i=Ke;for(Ke|=4,de=t.current;de!==null;){var s=de,a=s.child;if(de.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(de=h;de!==null;){var m=de;switch(m.tag){case 0:case 11:case 15:Pp(8,m,s)}var g=m.child;if(g!==null)g.return=m,de=g;else for(;de!==null;){m=de;var _=m.sibling,I=m.return;if(pV(m),m===h){de=null;break}if(_!==null){_.return=I,de=_;break}de=I}}}var A=s.alternate;if(A!==null){var E=A.child;if(E!==null){A.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}de=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,de=a;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pp(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,de=b;break e}de=s.return}}var S=t.current;for(de=S;de!==null;){a=de;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,de=R;else e:for(a=S;de!==null;){if(u=de,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fw(9,u)}}catch(B){zt(u,u.return,B)}if(u===a){de=null;break e}var V=u.sibling;if(V!==null){V.return=u.return,de=V;break e}de=u.return}}if(Ke=i,Ka(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(Rw,t)}catch{}r=!0}return r}finally{it=n,ui.transition=e}}return!1}function Jx(t,e,n){e=Od(n,e),e=rV(t,e,1),t=wa(t,e,1),e=cr(),t!==null&&(Xm(t,1,e),xr(t,e))}function zt(t,e,n){if(t.tag===3)Jx(t,t,n);else for(;e!==null;){if(e.tag===3){Jx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){t=Od(n,t),t=iV(e,t,1),e=wa(e,t,1),t=cr(),e!==null&&(Xm(e,1,t),xr(e,t));break}}e=e.return}}function hz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(qn&n)===n&&(yn===4||yn===3&&(qn&130023424)===qn&&500>en()-kS?ql(t,0):PS|=n),xr(t,e)}function TV(t,e){e===0&&(t.mode&1?(e=iy,iy<<=1,!(iy&130023424)&&(iy=4194304)):e=1);var n=cr();t=uo(t,e),t!==null&&(Xm(t,e,n),xr(t,n))}function fz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TV(t,n)}function pz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),TV(t,n)}var SV;SV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kr.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,tz(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,St&&e.flags&1048576&&kM(e,P_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gy(t,e),t=e.pendingProps;var i=Rd(e,tr.current);yd(e,n),i=IS(null,e,r,t,i,n);var s=bS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(r)?(s=!0,C_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vS(e),i.updater=Vw,e.stateNode=i,i._reactInternals=e,ob(e,r,t,n),e=ub(null,e,r,!0,s,n)):(e.tag=0,St&&s&&cS(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gz(r),t=Ni(r,t),i){case 0:e=lb(null,e,r,t,n);break e;case 1:e=zx(null,e,r,t,n);break e;case 11:e=Bx(null,e,r,t,n);break e;case 14:e=jx(null,e,r,Ni(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),lb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),zx(t,e,r,i,n);case 3:e:{if(lV(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,LM(t,e),x_(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Od(Error(Z(423)),e),e=$x(t,e,r,n,i);break e}else if(r!==i){i=Od(Error(Z(424)),e),e=$x(t,e,r,n,i);break e}else for(Gr=_a(e.stateNode.containerInfo.firstChild),Wr=e,St=!0,Oi=null,n=DM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xd(),r===i){e=co(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return MM(e),t===null&&rb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,JI(r,i)?a=null:s!==null&&JI(r,s)&&(e.flags|=32),aV(t,e),or(t,e,a,n),e.child;case 6:return t===null&&rb(e),null;case 13:return uV(t,e,n);case 4:return yS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nd(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Bx(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,dt(k_,r._currentValue),r._currentValue=a,s!==null)if($i(s.value,a)){if(s.children===i.children&&!kr.current){e=co(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=io(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ib(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ib(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yd(e,n),i=hi(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),jx(t,e,r,i,n);case 15:return sV(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Gy(t,e),e.tag=1,Rr(r)?(t=!0,C_(e)):t=!1,yd(e,n),nV(e,r,i),ob(e,r,i,n),ub(null,e,r,!0,t,n);case 19:return cV(t,e,n);case 22:return oV(t,e,n)}throw Error(Z(156,e.tag))};function CV(t,e){return ZL(t,e)}function mz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,n,r){return new mz(t,e,n,r)}function DS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gz(t){if(typeof t=="function")return DS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===JT)return 11;if(t===ZT)return 14}return 2}function ba(t,e){var n=t.alternate;return n===null?(n=ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hy(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")DS(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Jc:return Wl(n.children,i,s,e);case XT:a=8,i|=8;break;case RI:return t=ai(12,n,e,i|2),t.elementType=RI,t.lanes=s,t;case xI:return t=ai(13,n,e,i),t.elementType=xI,t.lanes=s,t;case NI:return t=ai(19,n,e,i),t.elementType=NI,t.lanes=s,t;case ML:return Bw(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OL:a=10;break e;case LL:a=9;break e;case JT:a=11;break e;case ZT:a=14;break e;case ia:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=ai(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wl(t,e,n,r){return t=ai(7,t,r,e),t.lanes=n,t}function Bw(t,e,n,r){return t=ai(22,t,r,e),t.elementType=ML,t.lanes=n,t.stateNode={isHidden:!1},t}function $E(t,e,n){return t=ai(6,t,null,e),t.lanes=n,t}function GE(t,e,n){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TE(0),this.expirationTimes=TE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OS(t,e,n,r,i,s,a,u,c){return t=new vz(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vS(s),t}function yz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AV(t){if(!t)return ka;t=t._reactInternals;e:{if(bu(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Rr(n))return AM(t,n,e)}return e}function PV(t,e,n,r,i,s,a,u,c){return t=OS(n,r,!0,t,i,s,a,u,c),t.context=AV(null),n=t.current,r=cr(),i=Ia(n),s=io(r,i),s.callback=e??null,wa(n,s,i),t.current.lanes=i,Xm(t,i,r),xr(t,r),t}function jw(t,e,n,r){var i=e.current,s=cr(),a=Ia(i);return n=AV(n),e.context===null?e.context=n:e.pendingContext=n,e=io(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wa(i,e,a),t!==null&&(Bi(t,i,a,s),jy(t,i,a)),a}function U_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LS(t,e){Zx(t,e),(t=t.alternate)&&Zx(t,e)}function _z(){return null}var kV=typeof reportError=="function"?reportError:function(t){console.error(t)};function MS(t){this._internalRoot=t}zw.prototype.render=MS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));jw(t,e,null,null)};zw.prototype.unmount=MS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tu(function(){jw(null,t,null,null)}),e[lo]=null}};function zw(t){this._internalRoot=t}zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=oM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oa.length&&e!==0&&e<oa[n].priority;n++);oa.splice(n,0,t),n===0&&lM(t)}};function VS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eN(){}function wz(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=U_(a);s.call(h)}}var a=PV(e,r,t,0,null,!1,!1,"",eN);return t._reactRootContainer=a,t[lo]=a.current,nm(t.nodeType===8?t.parentNode:t),tu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=U_(c);u.call(h)}}var c=OS(t,0,!1,null,null,!1,!1,"",eN);return t._reactRootContainer=c,t[lo]=c.current,nm(t.nodeType===8?t.parentNode:t),tu(function(){jw(e,c,n,r)}),c}function Gw(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=U_(a);u.call(c)}}jw(e,a,t,i)}else a=wz(n,e,t,i,r);return U_(a)}iM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dp(e.pendingLanes);n!==0&&(nS(e,n|1),xr(e,en()),!(Ke&6)&&(Ld=en()+500,Ka()))}break;case 13:tu(function(){var r=uo(t,1);if(r!==null){var i=cr();Bi(r,t,1,i)}}),LS(t,1)}};rS=function(t){if(t.tag===13){var e=uo(t,134217728);if(e!==null){var n=cr();Bi(e,t,134217728,n)}LS(t,134217728)}};sM=function(t){if(t.tag===13){var e=Ia(t),n=uo(t,e);if(n!==null){var r=cr();Bi(n,t,e,r)}LS(t,e)}};oM=function(){return it};aM=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};zI=function(t,e,n){switch(e){case"input":if(LI(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ow(r);if(!i)throw Error(Z(90));FL(r),LI(r,i)}}}break;case"textarea":BL(t,n);break;case"select":e=n.value,e!=null&&pd(t,!!n.multiple,e,!1)}};HL=RS;KL=tu;var Ez={usingClientEntryPoint:!1,Events:[Zm,nd,Ow,qL,WL,RS]},Yf={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iz={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XL(t),t===null?null:t.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||_z,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var my=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!my.isDisabled&&my.supportsFiber)try{Rw=my.inject(Iz),Is=my}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ez;Qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VS(e))throw Error(Z(200));return yz(t,e,null,n)};Qr.createRoot=function(t,e){if(!VS(t))throw Error(Z(299));var n=!1,r="",i=kV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=OS(t,1,!1,null,null,n,!1,r,i),t[lo]=e.current,nm(t.nodeType===8?t.parentNode:t),new MS(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=XL(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return tu(t)};Qr.hydrate=function(t,e,n){if(!$w(e))throw Error(Z(200));return Gw(null,t,e,!0,n)};Qr.hydrateRoot=function(t,e,n){if(!VS(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=kV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=PV(e,null,t,1,n??null,i,!1,s,a),t[lo]=e.current,nm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zw(e)};Qr.render=function(t,e,n){if(!$w(e))throw Error(Z(200));return Gw(null,t,e,!1,n)};Qr.unmountComponentAtNode=function(t){if(!$w(t))throw Error(Z(40));return t._reactRootContainer?(tu(function(){Gw(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};Qr.unstable_batchedUpdates=RS;Qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$w(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Gw(t,e,n,!1,r)};Qr.version="18.3.1-next-f1338f8080-20240426";function RV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RV)}catch(t){console.error(t)}}RV(),RL.exports=Qr;var bz=RL.exports,tN=bz;PI.createRoot=tN.createRoot,PI.hydrateRoot=tN.hydrateRoot;function xV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tz}=Object.prototype,{getPrototypeOf:FS}=Object,qw=(t=>e=>{const n=Tz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ki=t=>(t=t.toLowerCase(),e=>qw(e)===t),Ww=t=>e=>typeof e===t,{isArray:ah}=Array,dm=Ww("undefined");function Sz(t){return t!==null&&!dm(t)&&t.constructor!==null&&!dm(t.constructor)&&ci(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const NV=Ki("ArrayBuffer");function Cz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&NV(t.buffer),e}const Az=Ww("string"),ci=Ww("function"),DV=Ww("number"),Hw=t=>t!==null&&typeof t=="object",Pz=t=>t===!0||t===!1,Ky=t=>{if(qw(t)!=="object")return!1;const e=FS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kz=Ki("Date"),Rz=Ki("File"),xz=Ki("Blob"),Nz=Ki("FileList"),Dz=t=>Hw(t)&&ci(t.pipe),Oz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ci(t.append)&&((e=qw(t))==="formdata"||e==="object"&&ci(t.toString)&&t.toString()==="[object FormData]"))},Lz=Ki("URLSearchParams"),[Mz,Vz,Fz,Uz]=["ReadableStream","Request","Response","Headers"].map(Ki),Bz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ah(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let u;for(r=0;r<a;r++)u=s[r],e.call(null,t[u],u,t)}}function OV(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const LV=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MV=t=>!dm(t)&&t!==LV;function Eb(){const{caseless:t}=MV(this)&&this||{},e={},n=(r,i)=>{const s=t&&OV(e,i)||i;Ky(e[s])&&Ky(r)?e[s]=Eb(e[s],r):Ky(r)?e[s]=Eb({},r):ah(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&tg(arguments[r],n);return e}const jz=(t,e,n,{allOwnKeys:r}={})=>(tg(e,(i,s)=>{n&&ci(i)?t[s]=xV(i,n):t[s]=i},{allOwnKeys:r}),t),zz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$z=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Gz=(t,e,n,r)=>{let i,s,a;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&FS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Wz=t=>{if(!t)return null;if(ah(t))return t;let e=t.length;if(!DV(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Hz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FS(Uint8Array)),Kz=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Yz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Qz=Ki("HTMLFormElement"),Xz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Jz=Ki("RegExp"),VV=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tg(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},Zz=t=>{VV(t,(e,n)=>{if(ci(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ci(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},e7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ah(t)?r(t):r(String(t).split(e)),n},t7=()=>{},n7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qE="abcdefghijklmnopqrstuvwxyz",rN="0123456789",FV={DIGIT:rN,ALPHA:qE,ALPHA_DIGIT:qE+qE.toUpperCase()+rN},r7=(t=16,e=FV.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function i7(t){return!!(t&&ci(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const s7=t=>{const e=new Array(10),n=(r,i)=>{if(Hw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ah(r)?[]:{};return tg(r,(a,u)=>{const c=n(a,i+1);!dm(c)&&(s[u]=c)}),e[i]=void 0,s}}return r};return n(t,0)},o7=Ki("AsyncFunction"),a7=t=>t&&(Hw(t)||ci(t))&&ci(t.then)&&ci(t.catch),H={isArray:ah,isArrayBuffer:NV,isBuffer:Sz,isFormData:Oz,isArrayBufferView:Cz,isString:Az,isNumber:DV,isBoolean:Pz,isObject:Hw,isPlainObject:Ky,isReadableStream:Mz,isRequest:Vz,isResponse:Fz,isHeaders:Uz,isUndefined:dm,isDate:kz,isFile:Rz,isBlob:xz,isRegExp:Jz,isFunction:ci,isStream:Dz,isURLSearchParams:Lz,isTypedArray:Hz,isFileList:Nz,forEach:tg,merge:Eb,extend:jz,trim:Bz,stripBOM:zz,inherits:$z,toFlatObject:Gz,kindOf:qw,kindOfTest:Ki,endsWith:qz,toArray:Wz,forEachEntry:Kz,matchAll:Yz,isHTMLForm:Qz,hasOwnProperty:nN,hasOwnProp:nN,reduceDescriptors:VV,freezeMethods:Zz,toObjectSet:e7,toCamelCase:Xz,noop:t7,toFiniteNumber:n7,findKey:OV,global:LV,isContextDefined:MV,ALPHABET:FV,generateString:r7,isSpecCompliantForm:i7,toJSONObject:s7,isAsyncFn:o7,isThenable:a7};function Ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}H.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const UV=Ae.prototype,BV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{BV[t]={value:t}});Object.defineProperties(Ae,BV);Object.defineProperty(UV,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,i,s)=>{const a=Object.create(UV);return H.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Ae.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const l7=null;function Ib(t){return H.isPlainObject(t)||H.isArray(t)}function jV(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function iN(t,e,n){return t?t.concat(e).map(function(i,s){return i=jV(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function u7(t){return H.isArray(t)&&!t.some(Ib)}const c7=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Kw(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!H.isUndefined(C[E])});const r=n.metaTokens,i=n.visitor||m,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function h(A){if(A===null)return"";if(H.isDate(A))return A.toISOString();if(!c&&H.isBlob(A))throw new Ae("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(A)||H.isTypedArray(A)?c&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,E,C){let b=A;if(A&&!C&&typeof A=="object"){if(H.endsWith(E,"{}"))E=r?E:E.slice(0,-2),A=JSON.stringify(A);else if(H.isArray(A)&&u7(A)||(H.isFileList(A)||H.endsWith(E,"[]"))&&(b=H.toArray(A)))return E=jV(E),b.forEach(function(R,V){!(H.isUndefined(R)||R===null)&&e.append(a===!0?iN([E],V,s):a===null?E:E+"[]",h(R))}),!1}return Ib(A)?!0:(e.append(iN(C,E,s),h(A)),!1)}const g=[],_=Object.assign(c7,{defaultVisitor:m,convertValue:h,isVisitable:Ib});function I(A,E){if(!H.isUndefined(A)){if(g.indexOf(A)!==-1)throw Error("Circular reference detected in "+E.join("."));g.push(A),H.forEach(A,function(b,S){(!(H.isUndefined(b)||b===null)&&i.call(e,b,H.isString(S)?S.trim():S,E,_))===!0&&I(b,E?E.concat(S):[S])}),g.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return I(t),e}function sN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function US(t,e){this._pairs=[],t&&Kw(t,this,e)}const zV=US.prototype;zV.append=function(e,n){this._pairs.push([e,n])};zV.toString=function(e){const n=e?function(r){return e.call(this,r,sN)}:sN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function d7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $V(t,e,n){if(!e)return t;const r=n&&n.encode||d7,i=n&&n.serialize;let s;if(i?s=i(e,n):s=H.isURLSearchParams(e)?e.toString():new US(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class oN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const GV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},h7=typeof URLSearchParams<"u"?URLSearchParams:US,f7=typeof FormData<"u"?FormData:null,p7=typeof Blob<"u"?Blob:null,m7={isBrowser:!0,classes:{URLSearchParams:h7,FormData:f7,Blob:p7},protocols:["http","https","file","blob","url","data"]},BS=typeof window<"u"&&typeof document<"u",g7=(t=>BS&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),v7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",y7=BS&&window.location.href||"http://localhost",_7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BS,hasStandardBrowserEnv:g7,hasStandardBrowserWebWorkerEnv:v7,origin:y7},Symbol.toStringTag,{value:"Module"})),ji={..._7,...m7};function w7(t,e){return Kw(t,new ji.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ji.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function E7(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function qV(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),c=s>=n.length;return a=!a&&H.isArray(i)?i.length:a,c?(H.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!u):((!i[a]||!H.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&H.isArray(i[a])&&(i[a]=I7(i[a])),!u)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,i)=>{e(E7(r),i,n,0)}),n}return null}function b7(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ng={transitional:GV,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=H.isObject(e);if(s&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify(qV(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return w7(e,this.formSerializer).toString();if((u=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kw(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),b7(e)):e}],transformResponse:[function(e){const n=this.transitional||ng.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?Ae.from(u,Ae.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ji.classes.FormData,Blob:ji.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{ng.headers[t]={}});const T7=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&T7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},aN=Symbol("internals");function Qf(t){return t&&String(t).trim().toLowerCase()}function Yy(t){return t===!1||t==null?t:H.isArray(t)?t.map(Yy):String(t)}function C7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const A7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function WE(t,e,n,r,i){if(H.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function P7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function k7(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class Nr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(u,c,h){const m=Qf(c);if(!m)throw new Error("header name must be a non-empty string");const g=H.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||c]=Yy(u))}const a=(u,c)=>H.forEach(u,(h,m)=>s(h,m,c));if(H.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(H.isString(e)&&(e=e.trim())&&!A7(e))a(S7(e),n);else if(H.isHeaders(e))for(const[u,c]of e.entries())s(c,u,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Qf(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return C7(i);if(H.isFunction(n))return n.call(this,i,r);if(H.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qf(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||WE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Qf(a),a){const u=H.findKey(r,a);u&&(!n||WE(r,r[u],u,n))&&(delete r[u],i=!0)}}return H.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||WE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return H.forEach(this,(i,s)=>{const a=H.findKey(r,s);if(a){n[a]=Yy(i),delete n[s];return}const u=e?P7(s):String(s).trim();u!==s&&delete n[s],n[u]=Yy(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aN]=this[aN]={accessors:{}}).accessors,i=this.prototype;function s(a){const u=Qf(a);r[u]||(k7(i,a),r[u]=!0)}return H.isArray(e)?e.forEach(s):s(e),this}}Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Nr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Nr);function HE(t,e){const n=this||ng,r=e||n,i=Nr.from(r.headers);let s=r.data;return H.forEach(t,function(u){s=u.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function WV(t){return!!(t&&t.__CANCEL__)}function lh(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(lh,Ae,{__CANCEL__:!0});function HV(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function R7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function x7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),m=r[s];a||(a=h),n[i]=c,r[i]=h;let g=s,_=0;for(;g!==i;)_+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-a<e)return;const I=m&&h-m;return I?Math.round(_*1e3/I):void 0}}function N7(t,e){let n=0;const r=1e3/e;let i=null;return function(){const a=this===!0,u=Date.now();if(a||u-n>r)return i&&(clearTimeout(i),i=null),n=u,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(u-n)))}}const B_=(t,e,n=3)=>{let r=0;const i=x7(50,250);return N7(s=>{const a=s.loaded,u=s.lengthComputable?s.total:void 0,c=a-r,h=i(c),m=a<=u;r=a;const g={loaded:a,total:u,progress:u?a/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&m?(u-a)/h:void 0,event:s,lengthComputable:u!=null};g[e?"download":"upload"]=!0,t(g)},n)},D7=ji.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const u=H.isString(a)?i(a):a;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),O7=ji.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),H.isString(r)&&a.push("path="+r),H.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function L7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function KV(t,e){return t&&!L7(e)?M7(t,e):e}const lN=t=>t instanceof Nr?{...t}:t;function nu(t,e){e=e||{};const n={};function r(h,m,g){return H.isPlainObject(h)&&H.isPlainObject(m)?H.merge.call({caseless:g},h,m):H.isPlainObject(m)?H.merge({},m):H.isArray(m)?m.slice():m}function i(h,m,g){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h,g)}else return r(h,m,g)}function s(h,m){if(!H.isUndefined(m))return r(void 0,m)}function a(h,m){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(h,m)=>i(lN(h),lN(m),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(m){const g=c[m]||i,_=g(t[m],e[m],m);H.isUndefined(_)&&g!==u||(n[m]=_)}),n}const YV=t=>{const e=nu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:u}=e;e.headers=a=Nr.from(a),e.url=$V(KV(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(H.isFormData(n)){if(ji.hasStandardBrowserEnv||ji.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[h,...m]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...m].join("; "))}}if(ji.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&D7(e.url))){const h=i&&s&&O7.read(s);h&&a.set(i,h)}return e},V7=typeof XMLHttpRequest<"u",F7=V7&&function(t){return new Promise(function(n,r){const i=YV(t);let s=i.data;const a=Nr.from(i.headers).normalize();let{responseType:u}=i,c;function h(){i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function g(){if(!m)return;const I=Nr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:I,config:t,request:m};HV(function(b){n(b),h()},function(b){r(b),h()},E),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(r(new Ae("Request aborted",Ae.ECONNABORTED,i,m)),m=null)},m.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,i,m)),m=null},m.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||GV;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new Ae(A,E.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,i,m)),m=null},s===void 0&&a.setContentType(null),"setRequestHeader"in m&&H.forEach(a.toJSON(),function(A,E){m.setRequestHeader(E,A)}),H.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),u&&u!=="json"&&(m.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&m.addEventListener("progress",B_(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",B_(i.onUploadProgress)),(i.cancelToken||i.signal)&&(c=I=>{m&&(r(!I||I.type?new lh(null,t,m):I),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const _=R7(i.url);if(_&&ji.protocols.indexOf(_)===-1){r(new Ae("Unsupported protocol "+_+":",Ae.ERR_BAD_REQUEST,t));return}m.send(s||null)})},U7=(t,e)=>{let n=new AbortController,r;const i=function(c){if(!r){r=!0,a();const h=c instanceof Error?c:this.reason;n.abort(h instanceof Ae?h:new lh(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{i(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=a,[u,()=>{s&&clearTimeout(s),s=null}]},B7=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},j7=async function*(t,e,n){for await(const r of t)yield*B7(ArrayBuffer.isView(r)?r:await n(String(r)),e)},uN=(t,e,n,r,i)=>{const s=j7(t,e,i);let a=0;return new ReadableStream({type:"bytes",async pull(u){const{done:c,value:h}=await s.next();if(c){u.close(),r();return}let m=h.byteLength;n&&n(a+=m),u.enqueue(new Uint8Array(h))},cancel(u){return r(u),s.return()}},{highWaterMark:2})},cN=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Yw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QV=Yw&&typeof ReadableStream=="function",bb=Yw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),z7=QV&&(()=>{let t=!1;const e=new Request(ji.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),dN=64*1024,Tb=QV&&!!(()=>{try{return H.isReadableStream(new Response("").body)}catch{}})(),j_={stream:Tb&&(t=>t.body)};Yw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!j_[e]&&(j_[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,r)})})})(new Response);const $7=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(H.isArrayBufferView(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await bb(t)).byteLength},G7=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??$7(e)},q7=Yw&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:u,onUploadProgress:c,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=YV(t);h=h?(h+"").toLowerCase():"text";let[I,A]=i||s||a?U7([i,s],a):[],E,C;const b=()=>{!E&&setTimeout(()=>{I&&I.unsubscribe()}),E=!0};let S;try{if(c&&z7&&n!=="get"&&n!=="head"&&(S=await G7(m,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),N;H.isFormData(r)&&(N=j.headers.get("content-type"))&&m.setContentType(N),j.body&&(r=uN(j.body,dN,cN(S,B_(c)),null,bb))}H.isString(g)||(g=g?"cors":"omit"),C=new Request(e,{..._,signal:I,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",withCredentials:g});let R=await fetch(C);const V=Tb&&(h==="stream"||h==="response");if(Tb&&(u||V)){const j={};["status","statusText","headers"].forEach(k=>{j[k]=R[k]});const N=H.toFiniteNumber(R.headers.get("content-length"));R=new Response(uN(R.body,dN,u&&cN(N,B_(u,!0)),V&&b,bb),j)}h=h||"text";let B=await j_[H.findKey(j_,h)||"text"](R,t);return!V&&b(),A&&A(),await new Promise((j,N)=>{HV(j,N,{data:B,headers:Nr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:C})})}catch(R){throw b(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,C),{cause:R.cause||R}):Ae.from(R,R&&R.code,t,C)}}),Sb={http:l7,xhr:F7,fetch:q7};H.forEach(Sb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hN=t=>`- ${t}`,W7=t=>H.isFunction(t)||t===null||t===!1,XV={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!W7(n)&&(r=Sb[(a=String(n)).toLowerCase()],r===void 0))throw new Ae(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(hN).join(`
`):" "+hN(s[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Sb};function KE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lh(null,t)}function fN(t){return KE(t),t.headers=Nr.from(t.headers),t.data=HE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),XV.getAdapter(t.adapter||ng.adapter)(t).then(function(r){return KE(t),r.data=HE.call(t,t.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return WV(r)||(KE(t),r&&r.response&&(r.response.data=HE.call(t,t.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const JV="1.7.2",jS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const pN={};jS.transitional=function(e,n,r){function i(s,a){return"[Axios v"+JV+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,u)=>{if(e===!1)throw new Ae(i(a," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!pN[a]&&(pN[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,u):!0}};function H7(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const u=t[s],c=u===void 0||a(u,s,t);if(c!==!0)throw new Ae("option "+s+" must be "+c,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const Cb={assertOptions:H7,validators:jS},Jo=Cb.validators;class Hl{constructor(e){this.defaults=e,this.interceptors={request:new oN,response:new oN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Cb.assertOptions(r,{silentJSONParsing:Jo.transitional(Jo.boolean),forcedJSONParsing:Jo.transitional(Jo.boolean),clarifyTimeoutError:Jo.transitional(Jo.boolean)},!1),i!=null&&(H.isFunction(i)?n.paramsSerializer={serialize:i}:Cb.assertOptions(i,{encode:Jo.function,serialize:Jo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&H.merge(s.common,s[n.method]);s&&H.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),n.headers=Nr.concat(a,s);const u=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(c=c&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let m,g=0,_;if(!c){const A=[fN.bind(this),void 0];for(A.unshift.apply(A,u),A.push.apply(A,h),_=A.length,m=Promise.resolve(n);g<_;)m=m.then(A[g++],A[g++]);return m}_=u.length;let I=n;for(g=0;g<_;){const A=u[g++],E=u[g++];try{I=A(I)}catch(C){E.call(this,C);break}}try{m=fN.call(this,I)}catch(A){return Promise.reject(A)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=nu(this.defaults,e);const n=KV(e.baseURL,e.url);return $V(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){Hl.prototype[e]=function(n,r){return this.request(nu(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,u){return this.request(nu(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Hl.prototype[e]=n(),Hl.prototype[e+"Form"]=n(!0)});class zS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(u=>{r.subscribe(u),s=u}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,u){r.reason||(r.reason=new lh(s,a,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new zS(function(i){e=i}),cancel:e}}}function K7(t){return function(n){return t.apply(null,n)}}function Y7(t){return H.isObject(t)&&t.isAxiosError===!0}const Ab={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ab).forEach(([t,e])=>{Ab[e]=t});function ZV(t){const e=new Hl(t),n=xV(Hl.prototype.request,e);return H.extend(n,Hl.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ZV(nu(t,i))},n}const hn=ZV(ng);hn.Axios=Hl;hn.CanceledError=lh;hn.CancelToken=zS;hn.isCancel=WV;hn.VERSION=JV;hn.toFormData=Kw;hn.AxiosError=Ae;hn.Cancel=hn.CanceledError;hn.all=function(e){return Promise.all(e)};hn.spread=K7;hn.isAxiosError=Y7;hn.mergeConfig=nu;hn.AxiosHeaders=Nr;hn.formToJSON=t=>qV(H.isHTMLForm(t)?new FormData(t):t);hn.getAdapter=XV.getAdapter;hn.HttpStatusCode=Ab;hn.default=hn;var mN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw uh(e)},uh=function(t){return new Error("Firebase Database ("+eF.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,I=h&63;c||(I=64,a||(_=64)),r.push(n[m],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new X7;const _=s<<2|u>>4;if(r.push(_),h!==64){const I=u<<4&240|h>>2;if(r.push(I),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nF=function(t){const e=tF(t);return $S.encodeByteArray(e,!0)},z_=function(t){return nF(t).replace(/\./g,"")},$_=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t){return hm(void 0,t)}function hm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Z7(n)||(t[n]=hm(t[n],e[n]));return t}function Z7(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=()=>e$().__FIREBASE_DEFAULTS__,n$=()=>{if(typeof process>"u"||typeof mN>"u")return;const t=mN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$_(t[1]);return e&&JSON.parse(e)},Qw=()=>{try{return t$()||n$()||r$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i$=t=>{var e,n;return(n=(e=Qw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s$=t=>{const e=i$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rF=()=>{var t;return(t=Qw())===null||t===void 0?void 0:t.config},o$=t=>{var e;return(e=Qw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[z_(JSON.stringify(n)),z_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function qS(){var t;const e=(t=Qw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sF(){return typeof self=="object"&&self.self===self}function oF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aF(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lF(){return eF.NODE_ADMIN===!0}function uF(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fm(){try{return typeof indexedDB=="object"}catch{return!1}}function a$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l$,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?u$(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new dr(i,u,r)}}function u$(t,e){return t.replace(c$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return JSON.parse(t)}function gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=pm($_(s[0])||""),n=pm($_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},d$=function(t){const e=cF(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h$=function(t){const e=cF(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Md(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function G_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(gN(s)&&gN(a)){if(!mm(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const _=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4],h,m;for(let g=0;g<80;g++){g<40?g<20?(h=u^s&(a^u),m=1518500249):(h=s^a^u,m=1859775393):g<60?(h=s&a|u&(s|a),m=2400959708):(h=s^a^u,m=3395469782);const _=(i<<5|i>>>27)+h+c+m+r[g]&4294967295;c=u,u=a,a=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function dF(t,e){const n=new p$(t,e);return n.subscribe.bind(n)}class p${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=YE),i.error===void 0&&(i.error=YE),i.complete===void 0&&(i.complete=YE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function YE(){}function WS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zw=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_$(e))try{this.getOrInitializeService({instanceIdentifier:Cl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cl){return this.instances.has(e)}getOptions(e=Cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cl){return this.component?this.component.multipleInstances?e:Cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y$(t){return t===Cl?void 0:t}function _$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=[];var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const fF={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},w$=De.INFO,E$={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},I$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=E$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=w$,this._logHandler=I$,this._userLogHandler=null,HS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}function b$(t){HS.forEach(e=>{e.setLogLevel(t)})}function T$(t,e){for(const n of HS){let r=null;e&&e.level&&(r=fF[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const u=a.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:De[s].toLowerCase(),message:u,args:a,type:i.name})}}}const S$=(t,e)=>e.some(n=>t instanceof n);let vN,yN;function C$(){return vN||(vN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A$(){return yN||(yN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pF=new WeakMap,kb=new WeakMap,mF=new WeakMap,QE=new WeakMap,KS=new WeakMap;function P$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ta(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&pF.set(n,t)}).catch(()=>{}),KS.set(e,t),e}function k$(t){if(kb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});kb.set(t,e)}let Rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R$(t){Rb=t(Rb)}function x$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(XE(this),e,...n);return mF.set(r,e.sort?e.sort():[e]),Ta(r)}:A$().includes(t)?function(...e){return t.apply(XE(this),e),Ta(pF.get(this))}:function(...e){return Ta(t.apply(XE(this),e))}}function N$(t){return typeof t=="function"?x$(t):(t instanceof IDBTransaction&&k$(t),S$(t,C$())?new Proxy(t,Rb):t)}function Ta(t){if(t instanceof IDBRequest)return P$(t);if(QE.has(t))return QE.get(t);const e=N$(t);return e!==t&&(QE.set(t,e),KS.set(e,t)),e}const XE=t=>KS.get(t);function D$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=Ta(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ta(a.result),c.oldVersion,c.newVersion,Ta(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const O$=["get","getKey","getAll","getAllKeys","count"],L$=["put","add","delete","clear"],JE=new Map;function _N(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(JE.get(e))return JE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O$.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&c.done]))[0]};return JE.set(e,s),s}R$(t=>({...t,get:(e,n,r)=>_N(e,n)||t.get(e,n,r),has:(e,n)=>!!_N(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q_="@firebase/app",xb="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new rg("@firebase/app"),F$="@firebase/app-compat",U$="@firebase/analytics-compat",B$="@firebase/analytics",j$="@firebase/app-check-compat",z$="@firebase/app-check",$$="@firebase/auth",G$="@firebase/auth-compat",q$="@firebase/database",W$="@firebase/database-compat",H$="@firebase/functions",K$="@firebase/functions-compat",Y$="@firebase/installations",Q$="@firebase/installations-compat",X$="@firebase/messaging",J$="@firebase/messaging-compat",Z$="@firebase/performance",eG="@firebase/performance-compat",tG="@firebase/remote-config",nG="@firebase/remote-config-compat",rG="@firebase/storage",iG="@firebase/storage-compat",sG="@firebase/firestore",oG="@firebase/vertexai-preview",aG="@firebase/firestore-compat",lG="firebase",uG="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]",cG={[q_]:"fire-core",[F$]:"fire-core-compat",[B$]:"fire-analytics",[U$]:"fire-analytics-compat",[z$]:"fire-app-check",[j$]:"fire-app-check-compat",[$$]:"fire-auth",[G$]:"fire-auth-compat",[q$]:"fire-rtdb",[W$]:"fire-rtdb-compat",[H$]:"fire-fn",[K$]:"fire-fn-compat",[Y$]:"fire-iid",[Q$]:"fire-iid-compat",[X$]:"fire-fcm",[J$]:"fire-fcm-compat",[Z$]:"fire-perf",[eG]:"fire-perf-compat",[tG]:"fire-rc",[nG]:"fire-rc-compat",[rG]:"fire-gcs",[iG]:"fire-gcs-compat",[sG]:"fire-fst",[aG]:"fire-fst-compat",[oG]:"fire-vertex","fire-js":"fire-js",[lG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,Vd=new Map,Fd=new Map;function gm(t,e){try{t.container.addComponent(e)}catch(n){ru.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gF(t,e){t.container.addOrOverwriteComponent(e)}function ho(t){const e=t.name;if(Fd.has(e))return ru.debug(`There were multiple attempts to register component ${e}.`),!1;Fd.set(e,t);for(const n of xa.values())gm(n,t);for(const n of Vd.values())gm(n,t);return!0}function YS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dG(t,e,n=Ra){YS(t,e).clearInstance(n)}function vF(t){return t.options!==void 0}function qt(t){return t.settings!==void 0}function hG(){Fd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Tu("app","Firebase",fG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yF=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG extends yF{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const u=e;super(u.options,a,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Hr(q_,xb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){XS(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw di.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=uG;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ra,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=rF()),!n)throw di.create("no-options");const s=xa.get(i);if(s){if(mm(n,s.options)&&mm(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const a=new hF(i);for(const c of Fd.values())a.addComponent(c);const u=new yF(n,r,a);return xa.set(i,u),u}function mG(t,e){if(sF())throw di.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;vF(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw di.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),a=Vd.get(s);if(a)return a.incRefCount(e.releaseOnDeref),a;const u=new hF(s);for(const h of Fd.values())u.addComponent(h);const c=new pG(n,e,s,u);return Vd.set(s,c),c}function _F(t=Ra){const e=xa.get(t);if(!e&&t===Ra&&rF())return QS();if(!e)throw di.create("no-app",{appName:t});return e}function gG(){return Array.from(xa.values())}async function XS(t){let e=!1;const n=t.name;xa.has(n)?(e=!0,xa.delete(n)):Vd.has(n)&&t.decRefCount()<=0&&(Vd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Hr(t,e,n){var r;let i=(r=cG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ru.warn(u.join(" "));return}ho(new qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function wF(t,e){if(t!==null&&typeof t!="function")throw di.create("invalid-log-argument");T$(t,e)}function EF(t){b$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="firebase-heartbeat-database",yG=1,vm="firebase-heartbeat-store";let ZE=null;function IF(){return ZE||(ZE=D$(vG,yG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vm)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),ZE}async function _G(t){try{const n=(await IF()).transaction(vm),r=await n.objectStore(vm).get(bF(t));return await n.done,r}catch(e){if(e instanceof dr)ru.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ru.warn(n.message)}}}async function wN(t,e){try{const r=(await IF()).transaction(vm,"readwrite");await r.objectStore(vm).put(e,bF(t)),await r.done}catch(n){if(n instanceof dr)ru.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ru.warn(r.message)}}}function bF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=1024,EG=30*24*60*60*1e3;class IG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=EG}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EN(),{heartbeatsToSend:r,unsentEntries:i}=bG(this._heartbeatsCache.heartbeats),s=z_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function EN(){return new Date().toISOString().substring(0,10)}function bG(t,e=wG){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),IN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fm()?a$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _G(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IN(t){return z_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t){ho(new qi("platform-logger",e=>new M$(e),"PRIVATE")),ho(new qi("heartbeat",e=>new IG(e),"PRIVATE")),Hr(q_,xb,t),Hr(q_,xb,"esm2017"),Hr("fire-js","")}SG("");const CG=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:dr,SDK_VERSION:Io,_DEFAULT_ENTRY_NAME:Ra,_addComponent:gm,_addOrOverwriteComponent:gF,_apps:xa,_clearComponents:hG,_components:Fd,_getProvider:YS,_isFirebaseApp:vF,_isFirebaseServerApp:qt,_registerComponent:ho,_removeServiceInstance:dG,_serverApps:Vd,deleteApp:XS,getApp:_F,getApps:gG,initializeApp:QS,initializeServerApp:mG,onLog:wF,registerVersion:Hr,setLogLevel:EF},Symbol.toStringTag,{value:"Module"}));var bN={};const TN="@firebase/database",SN="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TF="";function AG(t){TF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:pm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PG(e)}}catch{}return new kG},Vl=SF("localStorage"),RG=SF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new rg("@firebase/database"),xG=function(){let t=1;return function(){return t++}}(),CF=function(t){const e=g$(t),n=new f$;n.update(e);const r=n.digest();return $S.encodeByteArray(r)},ig=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ig.apply(null,r):typeof r=="object"?e+=gn(r):e+=r,e+=" "}return e};let xp=null,CN=!0;const NG=function(t,e){ne(!e,"Can't turn on custom loggers persistently."),wd.logLevel=De.VERBOSE,xp=wd.log.bind(wd)},er=function(...t){if(CN===!0&&(CN=!1,xp===null&&RG.get("logging_enabled")===!0&&NG()),xp){const e=ig.apply(null,t);xp(e)}},sg=function(t){return function(...e){er(t,...e)}},Nb=function(...t){const e="FIREBASE INTERNAL ERROR: "+ig(...t);wd.error(e)},fo=function(...t){const e=`FIREBASE FATAL ERROR: ${ig(...t)}`;throw wd.error(e),new Error(e)},Dr=function(...t){const e="FIREBASE WARNING: "+ig(...t);wd.warn(e)},DG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},AF=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OG=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ud="[MIN_NAME]",iu="[MAX_NAME]",ch=function(t,e){if(t===e)return 0;if(t===Ud||e===iu)return-1;if(e===Ud||t===iu)return 1;{const n=AN(t),r=AN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LG=function(t,e){return t===e?0:t<e?-1:1},Xf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+gn(e))},JS=function(t){if(typeof t!="object"||t===null)return gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=gn(e[r]),n+=":",n+=JS(t[e[r]]);return n+="}",n},PF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Or(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const kF=function(t){ne(!AF(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,u,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const m=h.join("");let g="";for(c=0;c<64;c+=8){let _=parseInt(m.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),g=g+_}return g.toLowerCase()},MG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FG(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const UG=new RegExp("^-?(0*)\\d{1,10}$"),BG=-2147483648,jG=2147483647,AN=function(t){if(UG.test(t)){const e=Number(t);if(e>=BG&&e<=jG)return e}return null},dh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dr("Exception was thrown by user callback.",n),e},Math.floor(0))}},zG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Np=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dr(e)}}class Qy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="5",RF="v",xF="s",NF="r",DF="f",OF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LF="ls",MF="p",Db="ac",VF="websocket",FF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,i,s=!1,a="",u=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function BF(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===VF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===FF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qG(t)&&(n.ns=t.namespace);const i=[];return Or(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.counters_={}}incrementCounter(e,n=1){Gi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return J7(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={},tI={};function eC(t){const e=t.toString();return eI[e]||(eI[e]=new WG),eI[e]}function HG(t,e){const n=t.toString();return tI[n]||(tI[n]=e()),tI[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&dh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="start",YG="close",QG="pLPCommand",XG="pRTLPCB",jF="id",zF="pw",$F="ser",JG="cb",ZG="seg",eq="ts",tq="d",nq="dframe",GF=1870,qF=30,rq=GF-qF,iq=25e3,sq=3e4;class cd{constructor(e,n,r,i,s,a,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sg(e),this.stats_=eC(n),this.urlFn=c=>(this.appCheckToken&&(c[Db]=this.appCheckToken),BF(n,FF,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new KG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sq)),OG(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tC((...s)=>{const[a,u,c,h,m]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===PN)this.id=u,this.password=c;else if(a===YG)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[PN]="t",r[$F]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[JG]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RF]=ZS,this.transportSessionId&&(r[xF]=this.transportSessionId),this.lastSessionId&&(r[LF]=this.lastSessionId),this.applicationId&&(r[MF]=this.applicationId),this.appCheckToken&&(r[Db]=this.appCheckToken),typeof location<"u"&&location.hostname&&OF.test(location.hostname)&&(r[NF]=DF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cd.forceAllow_=!0}static forceDisallow(){cd.forceDisallow_=!0}static isAvailable(){return cd.forceAllow_?!0:!cd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MG()&&!VG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nF(n),i=PF(r,rq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[nq]="t",r[jF]=e,r[zF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xG(),window[QG+this.uniqueCallbackIdentifier]=e,window[XG+this.uniqueCallbackIdentifier]=n,this.myIFrame=tC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){er("frame writing exception"),u.stack&&er(u.stack),er(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jF]=this.myID,e[zF]=this.myPW,e[$F]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qF+r.length<=GF;){const a=this.pendingSegs.shift();r=r+"&"+ZG+i+"="+a.seg+"&"+eq+i+"="+a.ts+"&"+tq+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(iq)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=16384,aq=45e3;let W_=null;typeof MozWebSocket<"u"?W_=MozWebSocket:typeof WebSocket<"u"&&(W_=WebSocket);class Li{constructor(e,n,r,i,s,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sg(this.connId),this.stats_=eC(n),this.connURL=Li.connectionURL_(n,a,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[RF]=ZS,typeof location<"u"&&location.hostname&&OF.test(location.hostname)&&(a[NF]=DF),n&&(a[xF]=n),r&&(a[LF]=r),i&&(a[Db]=i),s&&(a[MF]=s),BF(e,VF,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vl.set("previous_websocket_failure",!0);try{let r;lF(),this.mySock=new W_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&W_!==null&&!Li.forceDisallow_}static previouslyFailed(){return Vl.isInMemoryStorage||Vl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=pm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=PF(n,oq);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(aq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Li.responsesRequiredToBeHealthy=2;Li.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[cd,Li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Li&&Li.isAvailable();let r=n&&!Li.previouslyFailed();if(e.webSocketOnly&&(n||Dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Li];else{const i=this.transports_=[];for(const s of ym.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ym.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ym.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=6e4,uq=5e3,cq=10*1024,dq=100*1024,nI="t",kN="d",hq="s",RN="r",fq="e",xN="o",NN="a",DN="n",ON="p",pq="h";class mq{constructor(e,n,r,i,s,a,u,c,h,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sg("c:"+this.id+":"),this.transportManager_=new ym(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Np(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nI in e){const n=e[nI];n===NN?this.upgradeIfSecondaryHealthy_():n===RN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xf("t",e),r=Xf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ON,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xf("t",e),r=Xf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xf(nI,e);if(kN in e){const r=e[kN];if(n===pq){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hq?this.onConnectionShutdown_(r):n===RN?this.onReset_(r):n===fq?Nb("Server Error: "+r):n===xN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ZS!==r&&Dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Np(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Np(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ON,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends HF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!GS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new H_}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=32,MN=768;class ut{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Qe(){return new ut("")}function Oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Na(t){return t.pieces_.length-t.pieceNum_}function ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function KF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function YF(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function QF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ut(e,0)}function vn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ut)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ut(n,0)}function Ue(t){return t.pieceNum_>=t.pieces_.length}function ur(t,e){const n=Oe(t),r=Oe(e);if(n===null)return e;if(n===r)return ur(ct(t),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nC(t,e){if(Na(t)!==Na(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Na(t)>Na(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class vq{constructor(e,n){this.errorPrefix_=n,this.parts_=YF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zw(this.parts_[r]);XF(this)}}function yq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zw(e),XF(t)}function _q(t){const e=t.parts_.pop();t.byteLength_-=Zw(e),t.parts_.length>0&&(t.byteLength_-=1)}function XF(t){if(t.byteLength_>MN)throw new Error(t.errorPrefix_+"has a key path longer than "+MN+" bytes ("+t.byteLength_+").");if(t.parts_.length>LN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LN+") or object contains a cycle "+Al(t))}function Al(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends HF{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new rC}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=1e3,wq=60*5*1e3,VN=30*1e3,Eq=1.3,Iq=3e4,bq="server_kill",FN=3;class so extends WF{constructor(e,n,r,i,s,a,u,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=so.nextPersistentConnectionId_++,this.log_=sg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jf,this.maxReconnectDelay_=wq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!lF())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&H_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(gn(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Xw,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,u=>{const c=u.d,h=u.s;so.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Gi(e,"w")){const r=Md(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||h$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=d$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Nb("Unrecognized action received from server: "+gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Iq&&(this.reconnectDelay_=Jf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Eq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+so.nextConnectionId_++,s=this.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,r())},h=function(g){ne(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:c,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=_&&_.token,u=new mq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,I=>{Dr(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(bq)},s))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&Dr(g),c())}}}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pb(this.interruptReasons_)&&(this.reconnectDelay_=Jf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>JS(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ut(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=FN&&(this.reconnectDelay_=VN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=FN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TF.replace(/\./g,"-")]=1,GS()?e["framework.cordova"]=1:Jw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=H_.getInstance().currentlyOnline();return Pb(this.interruptReasons_)&&e}}so.nextPersistentConnectionId_=0;so.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Le(Ud,e),i=new Le(Ud,n);return this.compare(r,i)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy;class JF extends e0{static get __EMPTY_NODE(){return gy}static set __EMPTY_NODE(e){gy=e}compare(e,n){return ch(e.name,n.name)}isDefinedOn(e){throw uh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(iu,gy)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,gy)}toString(){return".key"}}const Ed=new JF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},jr=class pp{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pp.RED,this.left=i??vs.EMPTY_NODE,this.right=s??vs.EMPTY_NODE}copy(e,n,r,i,s){return new pp(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};jr.RED=!0;jr.BLACK=!1;class Tq{copy(e,n,r,i,s){return this}insert(e,n,r){return new jr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let vs=class Xy{constructor(e,n=Xy.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xy(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jr.BLACK,null,null))}remove(e){return new Xy(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vy(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vy(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vy(this.root_,null,this.comparator_,!0,e)}};vs.EMPTY_NODE=new Tq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t,e){return ch(t.name,e.name)}function iC(t,e){return ch(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob;function Cq(t){Ob=t}const ZF=function(t){return typeof t=="number"?"number:"+kF(t):"string:"+t},e4=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gi(e,".sv"),"Priority must be a string or number.")}else ne(t===Ob||t.isEmpty(),"priority of unexpected type.");ne(t===Ob||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UN;class An{constructor(e,n=An.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e4(this.priorityNode_)}static set __childrenNodeConstructor(e){UN=e}static get __childrenNodeConstructor(){return UN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new An(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:An.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ue(e)?this:Oe(e)===".priority"?this.priorityNode_:An.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:An.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Oe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||Na(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,An.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ZF(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=kF(this.value_):e+=this.value_,this.lazyHash_=CF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===An.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof An.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=An.VALUE_TYPE_ORDER.indexOf(n),s=An.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}An.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4,n4;function Aq(t){t4=t}function Pq(t){n4=t}class kq extends e0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ch(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(iu,new An("[PRIORITY-POST]",n4))}makePost(e,n){const r=t4(e);return new Le(n,new An("[PRIORITY-POST]",r))}toString(){return".priority"}}const Wt=new kq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=Math.log(2);class xq{constructor(e){const n=s=>parseInt(Math.log(s)/Rq,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const K_=function(t,e,n,r){t.sort(e);const i=function(c,h){const m=h-c;let g,_;if(m===0)return null;if(m===1)return g=t[c],_=n?n(g):g,new jr(_,g.node,jr.BLACK,null,null);{const I=parseInt(m/2,10)+c,A=i(c,I),E=i(I+1,h);return g=t[I],_=n?n(g):g,new jr(_,g.node,jr.BLACK,A,E)}},s=function(c){let h=null,m=null,g=t.length;const _=function(A,E){const C=g-A,b=g;g-=A;const S=i(C+1,b),R=t[C],V=n?n(R):R;I(new jr(V,R.node,E,null,S))},I=function(A){h?(h.left=A,h=A):(m=A,h=A)};for(let A=0;A<c.count;++A){const E=c.nextBitIsOne(),C=Math.pow(2,c.count-(A+1));E?_(C,jr.BLACK):(_(C,jr.BLACK),_(C,jr.RED))}return m},a=new xq(t.length),u=s(a);return new vs(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rI;const Bc={};class Zs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Bc&&Wt,"ChildrenNode.ts has not been loaded"),rI=rI||new Zs({".priority":Bc},{".priority":Wt}),rI}get(e){const n=Md(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vs?n:null}hasIndex(e){return Gi(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Ed,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Le.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let u;i?u=K_(r,e.getCompare()):u=Bc;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const m=Object.assign({},this.indexes_);return m[c]=u,new Zs(m,h)}addToIndexes(e,n){const r=G_(this.indexes_,(i,s)=>{const a=Md(this.indexSet_,s);if(ne(a,"Missing index implementation for "+s),i===Bc)if(a.isDefinedOn(e.node)){const u=[],c=n.getIterator(Le.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&u.push(h),h=c.getNext();return u.push(e),K_(u,a.getCompare())}else return Bc;else{const u=n.get(e.name);let c=i;return u&&(c=c.remove(new Le(e.name,u))),c.insert(e,e.node)}});return new Zs(r,this.indexSet_)}removeFromIndexes(e,n){const r=G_(this.indexes_,i=>{if(i===Bc)return i;{const s=n.get(e.name);return s?i.remove(new Le(e.name,s)):i}});return new Zs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf;class Te{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e4(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zf||(Zf=new Te(new vs(iC),null,Zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zf}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zf:n}}getChild(e){const n=Oe(e);return n===null?this:this.getImmediateChild(n).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Le(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Zf:this.priorityNode_;return new Te(i,a,s)}}updateChild(e,n){const r=Oe(e);if(r===null)return n;{ne(Oe(e)!==".priority"||Na(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ct(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Wt,(a,u)=>{n[a]=u.val(e),r++,s&&Te.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ZF(this.getPriority().val())+":"),this.forEachChild(Wt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":CF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===og?-1:0}withIndex(e){if(e===Ed||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ed||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Wt),i=n.getIterator(Wt);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Ed?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Nq extends Te{constructor(){super(new vs(iC),Te.EMPTY_NODE,Zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const og=new Nq;Object.defineProperties(Le,{MIN:{value:new Le(Ud,Te.EMPTY_NODE)},MAX:{value:new Le(iu,og)}});JF.__EMPTY_NODE=Te.EMPTY_NODE;An.__childrenNodeConstructor=Te;Cq(og);Pq(og);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=!0;function xn(t,e=null){if(t===null)return Te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new An(n,xn(e))}if(!(t instanceof Array)&&Dq){const n=[];let r=!1;if(Or(t,(a,u)=>{if(a.substring(0,1)!=="."){const c=xn(u);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Le(a,c)))}}),n.length===0)return Te.EMPTY_NODE;const s=K_(n,Sq,a=>a.name,iC);if(r){const a=K_(n,Wt.getCompare());return new Te(s,xn(e),new Zs({".priority":a},{".priority":Wt}))}else return new Te(s,xn(e),Zs.Default)}else{let n=Te.EMPTY_NODE;return Or(t,(r,i)=>{if(Gi(t,r)&&r.substring(0,1)!=="."){const s=xn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xn(e))}}Aq(xn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq extends e0{constructor(e){super(),this.indexPath_=e,ne(!Ue(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ch(e.name,n.name):s}makePost(e,n){const r=xn(e),i=Te.EMPTY_NODE.updateChild(this.indexPath_,r);return new Le(n,i)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,og);return new Le(iu,e)}toString(){return YF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq extends e0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ch(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const r=xn(e);return new Le(n,r)}toString(){return".value"}}const Mq=new Lq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){return{type:"value",snapshotNode:t}}function Bd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _m(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wm(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Vq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(_m(n,u)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Bd(n,r)):a.trackChildChange(wm(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Wt,(i,s)=>{n.hasChild(i)||r.trackChildChange(_m(i,s))}),n.isLeafNode()||n.forEachChild(Wt,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(wm(i,s,a))}else r.trackChildChange(Bd(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.indexedFilter_=new sC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Em.getStartPost_(e),this.endPost_=Em.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new Le(n,r))||(r=Te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Te.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Te.EMPTY_NODE);const s=this;return n.forEachChild(Wt,(a,u)=>{s.matches(new Le(a,u))||(i=i.updateImmediateChild(a,Te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Em(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new Le(n,r))||(r=Te.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Te.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Te.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const u=s.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:i=i.updateImmediateChild(u.name,Te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const g=this.index_.getCompare();a=(_,I)=>g(I,_)}else a=this.index_.getCompare();const u=e;ne(u.numChildren()===this.limit_,"");const c=new Le(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(c);if(u.hasChild(n)){const g=u.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;_!=null&&(_.name===n||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const I=_==null?1:a(_,c);if(m&&!r.isEmpty()&&I>=0)return s!=null&&s.trackChildChange(wm(n,r,g)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_m(n,g));const E=u.updateImmediateChild(n,Te.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(Bd(_.name,_.node)),E.updateImmediateChild(_.name,_.node)):E}}else return r.isEmpty()?e:m&&a(h,c)>=0?(s!=null&&(s.trackChildChange(_m(h.name,h.node)),s.trackChildChange(Bd(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ud}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:iu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const e=new oC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Uq(t){return t.loadsAllData()?new sC(t.getIndex()):t.hasLimit()?new Fq(t):new Em(t)}function BN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Wt?n="$priority":t.index_===Mq?n="$value":t.index_===Ed?n="$key":(ne(t.index_ instanceof Oq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends WF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Y_.getListenId_(e,r),u={};this.listens_[a]=u;const c=BN(e._queryParams);this.restRequest_(s+".json",c,(h,m)=>{let g=m;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(s,g,!1,r),Md(this.listens_,a)===u){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",i(_,null)}})}unlisten(e,n){const r=Y_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BN(e._queryParams),r=e._path.toString(),i=new Xw;return this.restRequest_(r+".json",n,(s,a)=>{let u=a;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Su(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=pm(u.responseText)}catch{Dr("Failed to parse JSON response for "+a+": "+u.responseText)}r(null,c)}else u.status!==401&&u.status!==404&&Dr("Got unsuccessful REST response for "+a+" Status: "+u.status),r(u.status);r=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return{value:null,children:new Map}}function i4(t,e,n){if(Ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Oe(e);t.children.has(r)||t.children.set(r,Q_());const i=t.children.get(r);e=ct(e),i4(i,e,n)}}function Lb(t,e,n){t.value!==null?n(e,t.value):jq(t,(r,i)=>{const s=new ut(e.toString()+"/"+r);Lb(i,s,n)})}function jq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Or(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=10*1e3,$q=30*1e3,Gq=5*60*1e3;class qq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zq(e);const r=zN+($q-zN)*Math.random();Np(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Or(e,(i,s)=>{s>0&&Gi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Np(this.reportStats_.bind(this),Math.floor(Math.random()*2*Gq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vi||(Vi={}));function s4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vi.ACK_USER_WRITE,this.source=s4()}operationForChild(e){if(Ue(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ut(e));return new X_(Qe(),n,this.revert)}}else return ne(Oe(this.path)===e,"operationForChild called for unrelated child."),new X_(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.source=e,this.path=n,this.type=Vi.LISTEN_COMPLETE}operationForChild(e){return Ue(this.path)?new Im(this.source,Qe()):new Im(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vi.OVERWRITE}operationForChild(e){return Ue(this.path)?new su(this.source,Qe(),this.snap.getImmediateChild(e)):new su(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vi.MERGE}operationForChild(e){if(Ue(this.path)){const n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new su(this.source,Qe(),n.value):new bm(this.source,Qe(),n)}else return ne(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bm(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=Oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Hq(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Vq(a.childName,a.snapshotNode))}),ep(t,i,"child_removed",e,r,n),ep(t,i,"child_added",e,r,n),ep(t,i,"child_moved",s,r,n),ep(t,i,"child_changed",e,r,n),ep(t,i,"value",e,r,n),i}function ep(t,e,n,r,i,s){const a=r.filter(u=>u.type===n);a.sort((u,c)=>Yq(t,u,c)),a.forEach(u=>{const c=Kq(t,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(c,t.query_))})})}function Kq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Yq(t,e,n){if(e.childName==null||n.childName==null)throw uh("Should only compare child_ events.");const r=new Le(e.childName,e.snapshotNode),i=new Le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){return{eventCache:t,serverCache:e}}function Dp(t,e,n,r){return t0(new Da(e,n,r),t.serverCache)}function o4(t,e,n,r){return t0(t.eventCache,new Da(e,n,r))}function J_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ou(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iI;const Qq=()=>(iI||(iI=new vs(LG)),iI);class vt{constructor(e,n=Qq()){this.value=e,this.children=n}static fromObject(e){let n=new vt(null);return Or(e,(r,i)=>{n=n.set(new ut(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Ue(e))return null;{const r=Oe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ct(e),n);return s!=null?{path:vn(new ut(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ue(e))return this;{const n=Oe(e),r=this.children.get(n);return r!==null?r.subtree(ct(e)):new vt(null)}}set(e,n){if(Ue(e))return new vt(n,this.children);{const r=Oe(e),s=(this.children.get(r)||new vt(null)).set(ct(e),n),a=this.children.insert(r,s);return new vt(this.value,a)}}remove(e){if(Ue(e))return this.children.isEmpty()?new vt(null):new vt(null,this.children);{const n=Oe(e),r=this.children.get(n);if(r){const i=r.remove(ct(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new vt(null):new vt(this.value,s)}else return this}}get(e){if(Ue(e))return this.value;{const n=Oe(e),r=this.children.get(n);return r?r.get(ct(e)):null}}setTree(e,n){if(Ue(e))return n;{const r=Oe(e),s=(this.children.get(r)||new vt(null)).setTree(ct(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new vt(this.value,a)}}fold(e){return this.fold_(Qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(vn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ue(e))return null;{const s=Oe(e),a=this.children.get(s);return a?a.findOnPath_(ct(e),vn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qe(),n)}foreachOnPath_(e,n,r){if(Ue(e))return this;{this.value&&r(n,this.value);const i=Oe(e),s=this.children.get(i);return s?s.foreachOnPath_(ct(e),vn(n,i),r):new vt(null)}}foreach(e){this.foreach_(Qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(vn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.writeTree_=e}static empty(){return new zi(new vt(null))}}function Op(t,e,n){if(Ue(e))return new zi(new vt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=ur(i,e);return s=s.updateChild(a,n),new zi(t.writeTree_.set(i,s))}else{const i=new vt(n),s=t.writeTree_.setTree(e,i);return new zi(s)}}}function $N(t,e,n){let r=t;return Or(n,(i,s)=>{r=Op(r,vn(e,i),s)}),r}function GN(t,e){if(Ue(e))return zi.empty();{const n=t.writeTree_.setTree(e,new vt(null));return new zi(n)}}function Mb(t,e){return Cu(t,e)!=null}function Cu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ur(n.path,e)):null}function qN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Wt,(r,i)=>{e.push(new Le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Le(r,i.value))}),e}function Sa(t,e){if(Ue(e))return t;{const n=Cu(t,e);return n!=null?new zi(new vt(n)):new zi(t.writeTree_.subtree(e))}}function Vb(t){return t.writeTree_.isEmpty()}function jd(t,e){return a4(Qe(),t.writeTree_,e)}function a4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=a4(vn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(vn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e){return d4(e,t)}function Xq(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Op(t.visibleWrites,e,n)),t.lastWriteId=r}function Jq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Zq(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&eW(u,r.path)?i=!1:Mi(r.path,u.path)&&(s=!0)),a--}if(i){if(s)return tW(t),!0;if(r.snap)t.visibleWrites=GN(t.visibleWrites,r.path);else{const u=r.children;Or(u,c=>{t.visibleWrites=GN(t.visibleWrites,vn(r.path,c))})}return!0}else return!1}function eW(t,e){if(t.snap)return Mi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mi(vn(t.path,n),e))return!0;return!1}function tW(t){t.visibleWrites=l4(t.allWrites,nW,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function nW(t){return t.visible}function l4(t,e,n){let r=zi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let u;if(s.snap)Mi(n,a)?(u=ur(n,a),r=Op(r,u,s.snap)):Mi(a,n)&&(u=ur(a,n),r=Op(r,Qe(),s.snap.getChild(u)));else if(s.children){if(Mi(n,a))u=ur(n,a),r=$N(r,u,s.children);else if(Mi(a,n))if(u=ur(a,n),Ue(u))r=$N(r,Qe(),s.children);else{const c=Md(s.children,Oe(u));if(c){const h=c.getChild(ct(u));r=Op(r,Qe(),h)}}}else throw uh("WriteRecord should have .snap or .children")}}return r}function u4(t,e,n,r,i){if(!r&&!i){const s=Cu(t.visibleWrites,e);if(s!=null)return s;{const a=Sa(t.visibleWrites,e);if(Vb(a))return n;if(n==null&&!Mb(a,Qe()))return null;{const u=n||Te.EMPTY_NODE;return jd(a,u)}}}else{const s=Sa(t.visibleWrites,e);if(!i&&Vb(s))return n;if(!i&&n==null&&!Mb(s,Qe()))return null;{const a=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Mi(h.path,e)||Mi(e,h.path))},u=l4(t.allWrites,a,e),c=n||Te.EMPTY_NODE;return jd(u,c)}}}function rW(t,e,n){let r=Te.EMPTY_NODE;const i=Cu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wt,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Sa(t.visibleWrites,e);return n.forEachChild(Wt,(a,u)=>{const c=jd(Sa(s,new ut(a)),u);r=r.updateImmediateChild(a,c)}),qN(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Sa(t.visibleWrites,e);return qN(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function iW(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=vn(e,n);if(Mb(t.visibleWrites,s))return null;{const a=Sa(t.visibleWrites,s);return Vb(a)?i.getChild(n):jd(a,i.getChild(n))}}function sW(t,e,n,r){const i=vn(e,n),s=Cu(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Sa(t.visibleWrites,i);return jd(a,r.getNode().getImmediateChild(n))}else return null}function oW(t,e){return Cu(t.visibleWrites,e)}function aW(t,e,n,r,i,s,a){let u;const c=Sa(t.visibleWrites,e),h=Cu(c,Qe());if(h!=null)u=h;else if(n!=null)u=jd(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const m=[],g=a.getCompare(),_=s?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a);let I=_.getNext();for(;I&&m.length<i;)g(I,r)!==0&&m.push(I),I=_.getNext();return m}else return[]}function lW(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}function Z_(t,e,n,r){return u4(t.writeTree,t.treePath,e,n,r)}function uC(t,e){return rW(t.writeTree,t.treePath,e)}function WN(t,e,n,r){return iW(t.writeTree,t.treePath,e,n,r)}function ew(t,e){return oW(t.writeTree,vn(t.treePath,e))}function uW(t,e,n,r,i,s){return aW(t.writeTree,t.treePath,e,n,r,i,s)}function cC(t,e,n){return sW(t.writeTree,t.treePath,e,n)}function c4(t,e){return d4(vn(t.treePath,e),t.writeTree)}function d4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wm(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_m(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Bd(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wm(r,e.snapshotNode,i.oldSnap));else throw uh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const h4=new dW;class dC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Da(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ou(this.viewCache_),s=uW(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){return{filter:t}}function fW(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function pW(t,e,n,r,i){const s=new cW;let a,u;if(n.type===Vi.OVERWRITE){const h=n;h.source.fromUser?a=Fb(t,e,h.path,h.snap,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!Ue(h.path),a=tw(t,e,h.path,h.snap,r,i,u,s))}else if(n.type===Vi.MERGE){const h=n;h.source.fromUser?a=gW(t,e,h.path,h.children,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),a=Ub(t,e,h.path,h.children,r,i,u,s))}else if(n.type===Vi.ACK_USER_WRITE){const h=n;h.revert?a=_W(t,e,h.path,r,i,s):a=vW(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Vi.LISTEN_COMPLETE)a=yW(t,e,n.path,r,s);else throw uh("Unknown operation type: "+n.type);const c=s.getChanges();return mW(e,a,c),{viewCache:a,changes:c}}function mW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=J_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(r4(J_(e)))}}function f4(t,e,n,r,i,s){const a=e.eventCache;if(ew(r,n)!=null)return e;{let u,c;if(Ue(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ou(e),m=h instanceof Te?h:Te.EMPTY_NODE,g=uC(r,m);u=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const h=Z_(r,ou(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Oe(n);if(h===".priority"){ne(Na(n)===1,"Can't have a priority with additional path components");const m=a.getNode();c=e.serverCache.getNode();const g=WN(r,n,m,c);g!=null?u=t.filter.updatePriority(m,g):u=a.getNode()}else{const m=ct(n);let g;if(a.isCompleteForChild(h)){c=e.serverCache.getNode();const _=WN(r,n,a.getNode(),c);_!=null?g=a.getNode().getImmediateChild(h).updateChild(m,_):g=a.getNode().getImmediateChild(h)}else g=cC(r,h,e.serverCache);g!=null?u=t.filter.updateChild(a.getNode(),h,g,m,i,s):u=a.getNode()}}return Dp(e,u,a.isFullyInitialized()||Ue(n),t.filter.filtersNodes())}}function tw(t,e,n,r,i,s,a,u){const c=e.serverCache;let h;const m=a?t.filter:t.filter.getIndexedFilter();if(Ue(n))h=m.updateFullNode(c.getNode(),r,null);else if(m.filtersNodes()&&!c.isFiltered()){const I=c.getNode().updateChild(n,r);h=m.updateFullNode(c.getNode(),I,null)}else{const I=Oe(n);if(!c.isCompleteForPath(n)&&Na(n)>1)return e;const A=ct(n),C=c.getNode().getImmediateChild(I).updateChild(A,r);I===".priority"?h=m.updatePriority(c.getNode(),C):h=m.updateChild(c.getNode(),I,C,A,h4,null)}const g=o4(e,h,c.isFullyInitialized()||Ue(n),m.filtersNodes()),_=new dC(i,g,s);return f4(t,g,n,i,_,u)}function Fb(t,e,n,r,i,s,a){const u=e.eventCache;let c,h;const m=new dC(i,e,s);if(Ue(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Dp(e,h,!0,t.filter.filtersNodes());else{const g=Oe(n);if(g===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),c=Dp(e,h,u.isFullyInitialized(),u.isFiltered());else{const _=ct(n),I=u.getNode().getImmediateChild(g);let A;if(Ue(_))A=r;else{const E=m.getCompleteChild(g);E!=null?KF(_)===".priority"&&E.getChild(QF(_)).isEmpty()?A=E:A=E.updateChild(_,r):A=Te.EMPTY_NODE}if(I.equals(A))c=e;else{const E=t.filter.updateChild(u.getNode(),g,A,_,m,a);c=Dp(e,E,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function HN(t,e){return t.eventCache.isCompleteForChild(e)}function gW(t,e,n,r,i,s,a){let u=e;return r.foreach((c,h)=>{const m=vn(n,c);HN(e,Oe(m))&&(u=Fb(t,u,m,h,i,s,a))}),r.foreach((c,h)=>{const m=vn(n,c);HN(e,Oe(m))||(u=Fb(t,u,m,h,i,s,a))}),u}function KN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ub(t,e,n,r,i,s,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;Ue(n)?h=r:h=new vt(null).setTree(n,r);const m=e.serverCache.getNode();return h.children.inorderTraversal((g,_)=>{if(m.hasChild(g)){const I=e.serverCache.getNode().getImmediateChild(g),A=KN(t,I,_);c=tw(t,c,new ut(g),A,i,s,a,u)}}),h.children.inorderTraversal((g,_)=>{const I=!e.serverCache.isCompleteForChild(g)&&_.value===null;if(!m.hasChild(g)&&!I){const A=e.serverCache.getNode().getImmediateChild(g),E=KN(t,A,_);c=tw(t,c,new ut(g),E,i,s,a,u)}}),c}function vW(t,e,n,r,i,s,a){if(ew(i,n)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Ue(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return tw(t,e,n,c.getNode().getChild(n),i,s,u,a);if(Ue(n)){let h=new vt(null);return c.getNode().forEachChild(Ed,(m,g)=>{h=h.set(new ut(m),g)}),Ub(t,e,n,h,i,s,u,a)}else return e}else{let h=new vt(null);return r.foreach((m,g)=>{const _=vn(n,m);c.isCompleteForPath(_)&&(h=h.set(m,c.getNode().getChild(_)))}),Ub(t,e,n,h,i,s,u,a)}}function yW(t,e,n,r,i){const s=e.serverCache,a=o4(e,s.getNode(),s.isFullyInitialized()||Ue(n),s.isFiltered());return f4(t,a,n,r,h4,i)}function _W(t,e,n,r,i,s){let a;if(ew(r,n)!=null)return e;{const u=new dC(r,e,i),c=e.eventCache.getNode();let h;if(Ue(n)||Oe(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Z_(r,ou(e));else{const g=e.serverCache.getNode();ne(g instanceof Te,"serverChildren would be complete if leaf node"),m=uC(r,g)}m=m,h=t.filter.updateFullNode(c,m,s)}else{const m=Oe(n);let g=cC(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=c.getImmediateChild(m)),g!=null?h=t.filter.updateChild(c,m,g,ct(n),u,s):e.eventCache.getNode().hasChild(m)?h=t.filter.updateChild(c,m,Te.EMPTY_NODE,ct(n),u,s):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Z_(r,ou(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||ew(r,Qe())!=null,Dp(e,h,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new sC(r.getIndex()),s=Uq(r);this.processor_=hW(s);const a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Te.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Te.EMPTY_NODE,u.getNode(),null),m=new Da(c,a.isFullyInitialized(),i.filtersNodes()),g=new Da(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=t0(g,m),this.eventGenerator_=new Wq(this.query_)}get query(){return this.query_}}function EW(t){return t.viewCache_.serverCache.getNode()}function IW(t){return J_(t.viewCache_)}function bW(t,e){const n=ou(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ue(e)&&!n.getImmediateChild(Oe(e)).isEmpty())?n.getChild(e):null}function YN(t){return t.eventRegistrations_.length===0}function TW(t,e){t.eventRegistrations_.push(e)}function QN(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function XN(t,e,n,r){e.type===Vi.MERGE&&e.source.queryId!==null&&(ne(ou(t.viewCache_),"We should always have a full cache before handling merges"),ne(J_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=pW(t.processor_,i,e,n,r);return fW(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,p4(t,s.changes,s.viewCache.eventCache.getNode(),null)}function SW(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,(s,a)=>{r.push(Bd(s,a))}),n.isFullyInitialized()&&r.push(r4(n.getNode())),p4(t,r,n.getNode(),e)}function p4(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Hq(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw;class m4{constructor(){this.views=new Map}}function CW(t){ne(!nw,"__referenceConstructor has already been defined"),nw=t}function AW(){return ne(nw,"Reference.ts has not been loaded"),nw}function PW(t){return t.views.size===0}function hC(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),XN(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(XN(a,e,n,r));return s}}function g4(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let u=Z_(n,i?r:null),c=!1;u?c=!0:r instanceof Te?(u=uC(n,r),c=!1):(u=Te.EMPTY_NODE,c=!1);const h=t0(new Da(u,c,!1),new Da(r,i,!1));return new wW(e,h)}return a}function kW(t,e,n,r,i,s){const a=g4(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),TW(a,n),SW(a,n)}function RW(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const u=Oa(t);if(i==="default")for(const[c,h]of t.views.entries())a=a.concat(QN(h,n,r)),YN(h)&&(t.views.delete(c),h.query._queryParams.loadsAllData()||s.push(h.query));else{const c=t.views.get(i);c&&(a=a.concat(QN(c,n,r)),YN(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return u&&!Oa(t)&&s.push(new(AW())(e._repo,e._path)),{removed:s,events:a}}function v4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ca(t,e){let n=null;for(const r of t.views.values())n=n||bW(r,e);return n}function y4(t,e){if(e._queryParams.loadsAllData())return r0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function _4(t,e){return y4(t,e)!=null}function Oa(t){return r0(t)!=null}function r0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rw;function xW(t){ne(!rw,"__referenceConstructor has already been defined"),rw=t}function NW(){return ne(rw,"Reference.ts has not been loaded"),rw}let DW=1;class JN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=lW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w4(t,e,n,r,i){return Xq(t.pendingWriteTree_,e,n,r,i),i?lg(t,new su(s4(),e,n)):[]}function Fl(t,e,n=!1){const r=Jq(t.pendingWriteTree_,e);if(Zq(t.pendingWriteTree_,e)){let s=new vt(null);return r.snap!=null?s=s.set(Qe(),!0):Or(r.children,a=>{s=s.set(new ut(a),!0)}),lg(t,new X_(r.path,s,n))}else return[]}function ag(t,e,n){return lg(t,new su(aC(),e,n))}function OW(t,e,n){const r=vt.fromObject(n);return lg(t,new bm(aC(),e,r))}function LW(t,e){return lg(t,new Im(aC(),e))}function MW(t,e,n){const r=pC(t,n);if(r){const i=mC(r),s=i.path,a=i.queryId,u=ur(s,e),c=new Im(lC(a),u);return gC(t,s,c)}else return[]}function iw(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let u=[];if(a&&(e._queryIdentifier==="default"||_4(a,e))){const c=RW(a,e,n,r);PW(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=c.removed;if(u=c.events,!i){const m=h.findIndex(_=>_._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(s,(_,I)=>Oa(I));if(m&&!g){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const I=UW(_);for(let A=0;A<I.length;++A){const E=I[A],C=E.query,b=T4(t,E);t.listenProvider_.startListening(Lp(C),Tm(t,C),b.hashFn,b.onComplete)}}}!g&&h.length>0&&!r&&(m?t.listenProvider_.stopListening(Lp(e),null):h.forEach(_=>{const I=t.queryToTagMap.get(i0(_));t.listenProvider_.stopListening(Lp(_),I)}))}BW(t,h)}return u}function E4(t,e,n,r){const i=pC(t,r);if(i!=null){const s=mC(i),a=s.path,u=s.queryId,c=ur(a,e),h=new su(lC(u),c,n);return gC(t,a,h)}else return[]}function VW(t,e,n,r){const i=pC(t,r);if(i){const s=mC(i),a=s.path,u=s.queryId,c=ur(a,e),h=vt.fromObject(n),m=new bm(lC(u),c,h);return gC(t,a,m)}else return[]}function Bb(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(_,I)=>{const A=ur(_,i);s=s||Ca(I,A),a=a||Oa(I)});let u=t.syncPointTree_.get(i);u?(a=a||Oa(u),s=s||Ca(u,Qe())):(u=new m4,t.syncPointTree_=t.syncPointTree_.set(i,u));let c;s!=null?c=!0:(c=!1,s=Te.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((I,A)=>{const E=Ca(A,Qe());E&&(s=s.updateImmediateChild(I,E))}));const h=_4(u,e);if(!h&&!e._queryParams.loadsAllData()){const _=i0(e);ne(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const I=jW();t.queryToTagMap.set(_,I),t.tagToQueryMap.set(I,_)}const m=n0(t.pendingWriteTree_,i);let g=kW(u,e,n,m,s,c);if(!h&&!a&&!r){const _=y4(u,e);g=g.concat(zW(t,e,_))}return g}function fC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,u)=>{const c=ur(a,e),h=Ca(u,c);if(h)return h});return u4(i,e,s,n,!0)}function FW(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,m)=>{const g=ur(h,n);r=r||Ca(m,g)});let i=t.syncPointTree_.get(n);i?r=r||Ca(i,Qe()):(i=new m4,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Da(r,!0,!1):null,u=n0(t.pendingWriteTree_,e._path),c=g4(i,e,u,s?a.getNode():Te.EMPTY_NODE,s);return IW(c)}function lg(t,e){return I4(e,t.syncPointTree_,null,n0(t.pendingWriteTree_,Qe()))}function I4(t,e,n,r){if(Ue(t.path))return b4(t,e,n,r);{const i=e.get(Qe());n==null&&i!=null&&(n=Ca(i,Qe()));let s=[];const a=Oe(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){const h=n?n.getImmediateChild(a):null,m=c4(r,a);s=s.concat(I4(u,c,h,m))}return i&&(s=s.concat(hC(i,t,r,n))),s}}function b4(t,e,n,r){const i=e.get(Qe());n==null&&i!=null&&(n=Ca(i,Qe()));let s=[];return e.children.inorderTraversal((a,u)=>{const c=n?n.getImmediateChild(a):null,h=c4(r,a),m=t.operationForChild(a);m&&(s=s.concat(b4(m,u,c,h)))}),i&&(s=s.concat(hC(i,t,r,n))),s}function T4(t,e){const n=e.query,r=Tm(t,n);return{hashFn:()=>(EW(e)||Te.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?MW(t,n._path,r):LW(t,n._path);{const s=FG(i,n);return iw(t,n,null,s)}}}}function Tm(t,e){const n=i0(e);return t.queryToTagMap.get(n)}function i0(t){return t._path.toString()+"$"+t._queryIdentifier}function pC(t,e){return t.tagToQueryMap.get(e)}function mC(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function gC(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=n0(t.pendingWriteTree_,e);return hC(r,n,i,null)}function UW(t){return t.fold((e,n,r)=>{if(n&&Oa(n))return[r0(n)];{let i=[];return n&&(i=v4(n)),Or(r,(s,a)=>{i=i.concat(a)}),i}})}function Lp(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(NW())(t._repo,t._path):t}function BW(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=i0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function jW(){return DW++}function zW(t,e,n){const r=e._path,i=Tm(t,e),s=T4(t,n),a=t.listenProvider_.startListening(Lp(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)ne(!Oa(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((h,m,g)=>{if(!Ue(h)&&m&&Oa(m))return[r0(m).query];{let _=[];return m&&(_=_.concat(v4(m).map(I=>I.query))),Or(g,(I,A)=>{_=_.concat(A)}),_}});for(let h=0;h<c.length;++h){const m=c[h];t.listenProvider_.stopListening(Lp(m),Tm(t,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vC(n)}node(){return this.node_}}class yC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vn(this.path_,e);return new yC(this.syncTree_,n)}node(){return fC(this.syncTree_,this.path_)}}const $W=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZN=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qW(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},qW=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},WW=function(t,e,n,r){return _C(e,new yC(n,t),r)},S4=function(t,e,n){return _C(t,new vC(e),n)};function _C(t,e,n){const r=t.getPriority().val(),i=ZN(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,u=ZN(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new An(u,xn(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new An(i))),a.forEachChild(Wt,(u,c)=>{const h=_C(c,e.getImmediateChild(u),n);h!==c&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function EC(t,e){let n=e instanceof ut?e:new ut(e),r=t,i=Oe(n);for(;i!==null;){const s=Md(r.node.children,i)||{children:{},childCount:0};r=new wC(i,r,s),n=ct(n),i=Oe(n)}return r}function hh(t){return t.node.value}function C4(t,e){t.node.value=e,jb(t)}function A4(t){return t.node.childCount>0}function HW(t){return hh(t)===void 0&&!A4(t)}function s0(t,e){Or(t.node.children,(n,r)=>{e(new wC(n,t,r))})}function P4(t,e,n,r){n&&!r&&e(t),s0(t,i=>{P4(i,e,!0,r)}),n&&r&&e(t)}function KW(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ug(t){return new ut(t.parent===null?t.name:ug(t.parent)+"/"+t.name)}function jb(t){t.parent!==null&&YW(t.parent,t.name,t)}function YW(t,e,n){const r=HW(n),i=Gi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=/[\[\].#$\/\u0000-\u001F\u007F]/,XW=/[\[\].#$\u0000-\u001F\u007F]/,sI=10*1024*1024,k4=function(t){return typeof t=="string"&&t.length!==0&&!QW.test(t)},R4=function(t){return typeof t=="string"&&t.length!==0&&!XW.test(t)},JW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),R4(t)},x4=function(t,e,n,r){r&&e===void 0||IC(WS(t,"value"),e,n)},IC=function(t,e,n){const r=n instanceof ut?new vq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Al(r));if(typeof e=="function")throw new Error(t+"contains a function "+Al(r)+" with contents = "+e.toString());if(AF(e))throw new Error(t+"contains "+e.toString()+" "+Al(r));if(typeof e=="string"&&e.length>sI/3&&Zw(e)>sI)throw new Error(t+"contains a string greater than "+sI+" utf8 bytes "+Al(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Or(e,(a,u)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!k4(a)))throw new Error(t+" contains an invalid key ("+a+") "+Al(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yq(r,a),IC(t,u,r),_q(r)}),i&&s)throw new Error(t+' contains ".value" child '+Al(r)+" in addition to actual children.")}},N4=function(t,e,n,r){if(!R4(n))throw new Error(WS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZW=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N4(t,e,n)},D4=function(t,e){if(Oe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},eH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!k4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!JW(n))throw new Error(WS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bC(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!nC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function O4(t,e,n){bC(t,n),L4(t,r=>nC(r,e))}function Cs(t,e,n){bC(t,n),L4(t,r=>Mi(r,e)||Mi(e,r))}function L4(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(nH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xp&&er("event: "+n.toString()),dh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="repo_interrupt",iH=25;class sH{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Q_(),this.transactionQueueTree_=new wC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oH(t,e,n){if(t.stats_=eC(t.repoInfo_),t.forceRestClient_||zG())t.server_=new Y_(t.repoInfo_,(r,i,s,a)=>{eD(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new so(t.repoInfo_,e,(r,i,s,a)=>{eD(t,r,i,s,a)},r=>{tD(t,r)},r=>{aH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=HG(t.repoInfo_,()=>new qq(t.stats_,t.server_)),t.infoData_=new Bq,t.infoSyncTree_=new JN({startListening:(r,i,s,a)=>{let u=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=ag(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),SC(t,"connected",!1),t.serverSyncTree_=new JN({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(u,c)=>{const h=a(u,c);Cs(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function M4(t){const n=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function TC(t){return $W({timestamp:M4(t)})}function eD(t,e,n,r,i){t.dataUpdateCount++;const s=new ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=G_(n,h=>xn(h));a=VW(t.serverSyncTree_,s,c,i)}else{const c=xn(n);a=E4(t.serverSyncTree_,s,c,i)}else if(r){const c=G_(n,h=>xn(h));a=OW(t.serverSyncTree_,s,c)}else{const c=xn(n);a=ag(t.serverSyncTree_,s,c)}let u=s;a.length>0&&(u=a0(t,s)),Cs(t.eventQueue_,u,a)}function tD(t,e){SC(t,"connected",e),e===!1&&cH(t)}function aH(t,e){Or(e,(n,r)=>{SC(t,n,r)})}function SC(t,e,n){const r=new ut("/.info/"+e),i=xn(n);t.infoData_.updateSnapshot(r,i);const s=ag(t.infoSyncTree_,r,i);Cs(t.eventQueue_,r,s)}function V4(t){return t.nextWriteId_++}function lH(t,e,n){const r=FW(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=xn(i).withIndex(e._queryParams.getIndex());Bb(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=ag(t.serverSyncTree_,e._path,s);else{const u=Tm(t.serverSyncTree_,e);a=E4(t.serverSyncTree_,e._path,s,u)}return Cs(t.eventQueue_,e._path,a),iw(t.serverSyncTree_,e,n,null,!0),s},i=>(o0(t,"get for query "+gn(e)+" failed: "+i),Promise.reject(new Error(i))))}function uH(t,e,n,r,i){o0(t,"set",{path:e.toString(),value:n,priority:r});const s=TC(t),a=xn(n,r),u=fC(t.serverSyncTree_,e),c=S4(a,u,s),h=V4(t),m=w4(t.serverSyncTree_,e,c,h,!0);bC(t.eventQueue_,m),t.server_.put(e.toString(),a.val(!0),(_,I)=>{const A=_==="ok";A||Dr("set at "+e+" failed: "+_);const E=Fl(t.serverSyncTree_,h,!A);Cs(t.eventQueue_,e,E),fH(t,i,_,I)});const g=$4(t,e);a0(t,g),Cs(t.eventQueue_,g,[])}function cH(t){o0(t,"onDisconnectEvents");const e=TC(t),n=Q_();Lb(t.onDisconnect_,Qe(),(i,s)=>{const a=WW(i,s,t.serverSyncTree_,e);i4(n,i,a)});let r=[];Lb(n,Qe(),(i,s)=>{r=r.concat(ag(t.serverSyncTree_,i,s));const a=$4(t,i);a0(t,a)}),t.onDisconnect_=Q_(),Cs(t.eventQueue_,Qe(),r)}function dH(t,e,n){let r;Oe(e._path)===".info"?r=Bb(t.infoSyncTree_,e,n):r=Bb(t.serverSyncTree_,e,n),O4(t.eventQueue_,e._path,r)}function F4(t,e,n){let r;Oe(e._path)===".info"?r=iw(t.infoSyncTree_,e,n):r=iw(t.serverSyncTree_,e,n),O4(t.eventQueue_,e._path,r)}function hH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rH)}function o0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),er(n,...e)}function fH(t,e,n,r){e&&dh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function U4(t,e,n){return fC(t.serverSyncTree_,e,n)||Te.EMPTY_NODE}function CC(t,e=t.transactionQueueTree_){if(e||l0(t,e),hh(e)){const n=j4(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&pH(t,ug(e),n)}else A4(e)&&s0(e,n=>{CC(t,n)})}function pH(t,e,n){const r=n.map(h=>h.currentWriteId),i=U4(t,e,r);let s=i;const a=i.hash();for(let h=0;h<n.length;h++){const m=n[h];ne(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=ur(e,m.path);s=s.updateChild(g,m.currentOutputSnapshotRaw)}const u=s.val(!0),c=e;t.server_.put(c.toString(),u,h=>{o0(t,"transaction put response",{path:c.toString(),status:h});let m=[];if(h==="ok"){const g=[];for(let _=0;_<n.length;_++)n[_].status=2,m=m.concat(Fl(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&g.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();l0(t,EC(t.transactionQueueTree_,e)),CC(t,t.transactionQueueTree_),Cs(t.eventQueue_,e,m);for(let _=0;_<g.length;_++)dh(g[_])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Dr("transaction at "+c.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}a0(t,e)}},a)}function a0(t,e){const n=B4(t,e),r=ug(n),i=j4(t,n);return mH(t,i,r),r}function mH(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],h=ur(n,c.path);let m=!1,g;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)m=!0,g=c.abortReason,i=i.concat(Fl(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=iH)m=!0,g="maxretry",i=i.concat(Fl(t.serverSyncTree_,c.currentWriteId,!0));else{const _=U4(t,c.path,a);c.currentInputSnapshot=_;const I=e[u].update(_.val());if(I!==void 0){IC("transaction failed: Data returned ",I,c.path);let A=xn(I);typeof I=="object"&&I!=null&&Gi(I,".priority")||(A=A.updatePriority(_.getPriority()));const C=c.currentWriteId,b=TC(t),S=S4(A,_,b);c.currentOutputSnapshotRaw=A,c.currentOutputSnapshotResolved=S,c.currentWriteId=V4(t),a.splice(a.indexOf(C),1),i=i.concat(w4(t.serverSyncTree_,c.path,S,c.currentWriteId,c.applyLocally)),i=i.concat(Fl(t.serverSyncTree_,C,!0))}else m=!0,g="nodata",i=i.concat(Fl(t.serverSyncTree_,c.currentWriteId,!0))}Cs(t.eventQueue_,n,i),i=[],m&&(e[u].status=2,function(_){setTimeout(_,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(g==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(g),!1,null))))}l0(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)dh(r[u]);CC(t,t.transactionQueueTree_)}function B4(t,e){let n,r=t.transactionQueueTree_;for(n=Oe(e);n!==null&&hh(r)===void 0;)r=EC(r,n),e=ct(e),n=Oe(e);return r}function j4(t,e){const n=[];return z4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function z4(t,e,n){const r=hh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);s0(e,i=>{z4(t,i,n)})}function l0(t,e){const n=hh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,C4(e,n.length>0?n:void 0)}s0(e,r=>{l0(t,r)})}function $4(t,e){const n=ug(B4(t,e)),r=EC(t.transactionQueueTree_,e);return KW(r,i=>{oI(t,i)}),oI(t,r),P4(r,i=>{oI(t,i)}),n}function oI(t,e){const n=hh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ne(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(ne(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Fl(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?C4(e,void 0):n.length=s+1,Cs(t.eventQueue_,ug(e),i);for(let a=0;a<r.length;a++)dh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dr(`Invalid query segment '${n}' in query '${t}'`)}return e}const nD=function(t,e){const n=yH(t),r=n.namespace;n.domain==="firebase.com"&&fo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DG();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new UF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ut(n.pathString)}},yH=function(t){let e="",n="",r="",i="",s="",a=!0,u="https",c=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let m=t.indexOf("/");m===-1&&(m=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(m,g)),m<g&&(i=gH(t.substring(m,g)));const _=vH(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const I=e.slice(0,h);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),n=e.substring(A+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_H=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=rD.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=rD.charAt(e[i]);return ne(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gn(this.snapshot.exportVal())}}class EH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ue(this._path)?null:KF(this._path)}get ref(){return new bo(this._repo,this._path)}get _queryIdentifier(){const e=jN(this._queryParams),n=JS(e);return n==="{}"?"default":n}get _queryObject(){return jN(this._queryParams)}isEqual(e){if(e=ye(e),!(e instanceof AC))return!1;const n=this._repo===e._repo,r=nC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+gq(this._path)}}class bo extends AC{constructor(e,n){super(e,n,new oC,!1)}get parent(){const e=QF(this._path);return e===null?null:new bo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Sm{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ut(e),r=Cm(this.ref,e);return new Sm(this._node.getChild(n),r,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Sm(i,Cm(this.ref,r),Wt)))}hasChild(e){const n=new ut(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function po(t,e){return t=ye(t),t._checkNotDeleted("ref"),e!==void 0?Cm(t._root,e):t._root}function Cm(t,e){return t=ye(t),Oe(t._path)===null?ZW("child","path",e):N4("child","path",e),new bo(t._repo,vn(t._path,e))}function IH(t,e){t=ye(t),D4("push",t._path),x4("push",e,t._path,!0);const n=M4(t._repo),r=_H(n),i=Cm(t,r),s=Cm(t,r);let a;return e!=null?a=sw(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function sw(t,e){t=ye(t),D4("set",t._path),x4("set",e,t._path,!1);const n=new Xw;return uH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function PC(t){t=ye(t);const e=new G4(()=>{}),n=new u0(e);return lH(t._repo,t,n).then(r=>new Sm(r,new bo(t._repo,t._path),t._queryParams.getIndex()))}class u0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new wH("value",this,new Sm(e.snapshotNode,new bo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new EH(this,e,n):null}matches(e){return e instanceof u0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bH(t,e,n,r,i){const s=new G4(n,void 0),a=new u0(s);return dH(t._repo,t,a),()=>F4(t._repo,t,a)}function q4(t,e,n,r){return bH(t,"value",e)}function TH(t,e,n){F4(t._repo,t,null)}CW(bo);xW(bo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="FIREBASE_DATABASE_EMULATOR_HOST",zb={};let CH=!1;function AH(t,e,n,r){t.repoInfo_=new UF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function PH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=nD(s,i),u=a.repoInfo,c;typeof process<"u"&&bN&&(c=bN[SH]),c?(s=`http://${c}?ns=${u.namespace}`,a=nD(s,i),u=a.repoInfo):a.repoInfo.secure;const h=new GG(t.name,t.options,e);eH("Invalid Firebase Database URL",a),Ue(a.path)||fo("Database URL must point to the root of a Firebase Database (not including a child path).");const m=RH(u,t,h,new $G(t.name,n));return new xH(m,t)}function kH(t,e){const n=zb[e];(!n||n[t.key]!==t)&&fo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hH(t),delete n[t.key]}function RH(t,e,n,r){let i=zb[e.name];i||(i={},zb[e.name]=i);let s=i[t.toURLString()];return s&&fo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sH(t,CH,n,r),i[t.toURLString()]=s,s}class xH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bo(this._repo,Qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fo("Cannot call "+e+" on a deleted database.")}}function Au(t=_F(),e){const n=YS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=s$("database");r&&NH(n,...r)}return n}function NH(t,e,n,r={}){t=ye(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fo("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Qy(Qy.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:iF(r.mockUserToken,t.app.options.projectId);s=new Qy(a)}AH(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){AG(Io),ho(new qi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return PH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Hr(TN,SN,t),Hr(TN,SN,"esm2017")}so.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};so.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DH();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this._delegate=e,this.firebase=n,gm(e,new qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),XS(this._delegate)))}_getService(e,n=Ra){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ra){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){gm(this._delegate,e)}_addOrOverwriteComponent(e){gF(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},iD=new Tu("app-compat","Firebase",LH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Hr,setLogLevel:EF,onLog:wF,apps:null,SDK_VERSION:Io,INTERNAL:{registerComponent:u,removeApp:r,useAsService:c,modularAPIs:CG}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(h){delete e[h]}function i(h){if(h=h||Ra,!Gi(e,h))throw iD.create("no-app",{appName:h});return e[h]}i.App=t;function s(h,m={}){const g=QS(h,m);if(Gi(e,g.name))return e[g.name];const _=new t(g,n);return e[g.name]=_,_}function a(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(ho(h)&&h.type==="PUBLIC"){const _=(I=i())=>{if(typeof I[g]!="function")throw iD.create("invalid-app-argument",{appName:m});return I[g]()};h.serviceProps!==void 0&&hm(_,h.serviceProps),n[g]=_,t.prototype[g]=function(...I){return this._getService.bind(this,m).apply(this,h.multipleInstances?I:[])}}return h.type==="PUBLIC"?n[g]:null}function c(h,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){const t=MH(OH);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:W4,extendNamespace:e,createSubscribe:dF,ErrorFactory:Tu,deepExtend:hm});function e(n){hm(t,n)}return t}const VH=W4();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new rg("@firebase/app-compat"),FH="@firebase/app-compat",UH="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){Hr(FH,UH,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(sF()&&self.firebase!==void 0){sD.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&sD.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const me=VH;BH();var jH="firebase",zH="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */me.registerVersion(jH,zH,"app-compat");function kC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const tp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},jc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function H4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GH=$H,qH=H4,K4=new Tu("auth","Firebase",H4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new rg("@firebase/auth");function WH(t,...e){ow.logLevel<=De.WARN&&ow.warn(`Auth (${Io}): ${t}`,...e)}function Jy(t,...e){ow.logLevel<=De.ERROR&&ow.error(`Auth (${Io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,...e){throw xC(t,...e)}function _n(t,...e){return xC(t,...e)}function RC(t,e,n){const r=Object.assign(Object.assign({},qH()),{[e]:n});return new Tu("auth","Firebase",r).create(e,{appName:t.name})}function Dn(t){return RC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hn(t,"argument-error"),RC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K4.create(t,...e)}function ee(t,e,...n){if(!t)throw xC(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jy(e),new Error(e)}function Wi(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NC(){return oD()==="http:"||oD()==="https:"}function oD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NC()||oF()||"connection"in navigator)?navigator.onLine:!0}function KH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=GS()||Jw()}get(){return HH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=new cg(3e4,6e4);function Yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qt(t,e,n,r,i={}){return Q4(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Su(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Y4.fetch()(X4(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function Q4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YH),e);try{const i=new JH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw mp(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw mp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw mp(t,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RC(t,m,h);Hn(t,m)}}catch(i){if(i instanceof dr)throw i;Hn(t,"network-request-failed",{message:String(i)})}}async function To(t,e,n,r,i={}){const s=await Qt(t,e,n,r,i);return"mfaPendingCredential"in s&&Hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function X4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?DC(t.config,i):`${t.config.apiScheme}://${i}`}function XH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),QH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){return t!==void 0&&t.getResponse!==void 0}function lD(t){return t!==void 0&&t.enterprise!==void 0}class ZH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(t){return(await Qt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function tK(t,e){return Qt(t,"GET","/v2/recaptchaConfig",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(t,e){return Qt(t,"POST","/v1/accounts:delete",e)}async function rK(t,e){return Qt(t,"POST","/v1/accounts:update",e)}async function J4(t,e){return Qt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iK(t,e=!1){const n=ye(t),r=await n.getIdToken(e),i=c0(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mp(aI(i.auth_time)),issuedAtTime:Mp(aI(i.iat)),expirationTime:Mp(aI(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aI(t){return Number(t)*1e3}function c0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jy("JWT malformed, contained fewer than 3 sections"),null;try{const i=$_(n);return i?JSON.parse(i):(Jy("Failed to decode base64 JWT payload"),null)}catch(i){return Jy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uD(t){const e=c0(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&sK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mp(this.lastLoginAt),this.creationTime=Mp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await mo(t,J4(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z4(s.providerUserInfo):[],u=lK(t.providerData,a),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),m=c?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new $b(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function aK(t){const e=ye(t);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z4(t){return t.map(e=>{var{providerId:n}=e,r=kC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK(t,e){const n=await Q4(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=X4(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Y4.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cK(t,e){return Qt(t,"POST","/v2/accounts:revokeToken",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=uD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uK(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Id;return r&&(ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=kC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $b(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mo(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iK(this,e)}reload(){return aK(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await mo(this,nK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,h,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,S=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:R,emailVerified:V,isAnonymous:B,providerData:j,stsTokenManager:N}=n;ee(R&&N,e,"internal-error");const k=Id.fromJSON(this.name,N);ee(typeof R=="string",e,"internal-error"),Zo(g,e.name),Zo(_,e.name),ee(typeof V=="boolean",e,"internal-error"),ee(typeof B=="boolean",e,"internal-error"),Zo(I,e.name),Zo(A,e.name),Zo(E,e.name),Zo(C,e.name),Zo(b,e.name),Zo(S,e.name);const O=new eo({uid:R,auth:e,email:_,emailVerified:V,displayName:g,isAnonymous:B,photoURL:A,phoneNumber:I,tenantId:E,stsTokenManager:k,createdAt:b,lastLoginAt:S});return j&&Array.isArray(j)&&(O.providerData=j.map(F=>Object.assign({},F))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Id;i.updateFromServerResponse(n);const s=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Z4(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Id;u.updateFromIdToken(r);const c=new eo({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $b(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Map;function qr(t){Wi(t instanceof Function,"Expected a class definition");let e=cD.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e3.type="NONE";const zd=e3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e,n){return`firebase:${t}:${e}:${n}`}class bd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bd(qr(zd),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||qr(zd);const a=Kl(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(a);if(m){const g=eo._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new bd(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new bd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i3(e))return"Blackberry";if(s3(e))return"Webos";if(OC(e))return"Safari";if((e.includes("chrome/")||n3(e))&&!e.includes("edge/"))return"Chrome";if(dg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function t3(t=kt()){return/firefox\//i.test(t)}function OC(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n3(t=kt()){return/crios\//i.test(t)}function r3(t=kt()){return/iemobile/i.test(t)}function dg(t=kt()){return/android/i.test(t)}function i3(t=kt()){return/blackberry/i.test(t)}function s3(t=kt()){return/webos/i.test(t)}function ph(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dK(t=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function hK(t=kt()){var e;return ph(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fK(){return aF()&&document.documentMode===10}function o3(t=kt()){return ph(t)||dg(t)||s3(t)||i3(t)||/windows phone/i.test(t)||r3(t)}function pK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e=[]){let n;switch(t){case"Browser":n=dD(kt());break;case"Worker":n=`${dD(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(t,e={}){return Qt(t,"GET","/v2/passwordPolicy",Yt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=6;class yK{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:vK,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hD(this),this.idTokenSubscription=new hD(this),this.beforeStateQueue=new mK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await J4(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(Dn(this));const n=e?ye(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gK(this),n=new yK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await bd.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ht(t){return ye(t)}class hD{constructor(e){this.auth=e,this.observer=null,this.addObserver=dF(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wK(t){hg=t}function LC(t){return hg.loadJS(t)}function EK(){return hg.recaptchaV2Script}function IK(){return hg.recaptchaEnterpriseScript}function bK(){return hg.gapiScript}function l3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TK="recaptcha-enterprise",SK="NO_RECAPTCHA";class CK{constructor(e){this.type=TK,this.auth=Ht(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{tK(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new ZH(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;lD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(SK)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&lD(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=IK();c.length!==0&&(c+=u),LC(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function fD(t,e,n,r=!1){const i=new CK(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function km(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fD(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function AK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PK(t,e,n){const r=Ht(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=u3(e),{host:a,port:u}=kK(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RK()}function u3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kK(t){const e=u3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pD(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:pD(a)}}}function pD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return Qt(t,"POST","/v1/accounts:resetPassword",Yt(t,e))}async function xK(t,e){return Qt(t,"POST","/v1/accounts:update",e)}async function NK(t,e){return Qt(t,"POST","/v1/accounts:signUp",e)}async function DK(t,e){return Qt(t,"POST","/v1/accounts:update",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e){return To(t,"POST","/v1/accounts:signInWithPassword",Yt(t,e))}async function d0(t,e){return Qt(t,"POST","/v1/accounts:sendOobCode",Yt(t,e))}async function LK(t,e){return d0(t,e)}async function MK(t,e){return d0(t,e)}async function VK(t,e){return d0(t,e)}async function FK(t,e){return d0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(t,e){return To(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))}async function BK(t,e){return To(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends mh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signInWithPassword",OK);case"emailLink":return UK(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,r,"signUpPassword",NK);case"emailLink":return BK(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return To(t,"POST","/v1/accounts:signInWithIdp",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK="http://localhost";class As extends mh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=kC(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new As(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:jK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zK(t,e){return Qt(t,"POST","/v1/accounts:sendVerificationCode",Yt(t,e))}async function $K(t,e){return To(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,e))}async function GK(t,e){const n=await To(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,e));if(n.temporaryProof)throw mp(t,"account-exists-with-different-credential",n);return n}const qK={USER_NOT_FOUND:"user-not-found"};async function WK(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return To(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,n),qK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends mh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Yl({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Yl({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return $K(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return GK(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return WK(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Yl({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KK(t){const e=ud(fp(t)).link,n=e?ud(fp(e)).deep_link_id:null,r=ud(fp(t)).deep_link_id;return(r?ud(fp(r)).link:null)||r||n||e||t}class h0{constructor(e){var n,r,i,s,a,u;const c=ud(fp(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,g=HK((i=c.mode)!==null&&i!==void 0?i:null);ee(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=KK(e);try{return new h0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return Rm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=h0.parseLink(n);return ee(r,"argument-error"),Rm._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends So{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Td extends gh{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ee("providerId"in n&&"signInMethod"in n,"argument-error"),As._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ee(e.idToken||e.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Td.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Td.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:u}=e;if(!r&&!i&&!n&&!s||!u)return null;try{return new Td(u)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends gh{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends gh{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK="http://localhost";class $d extends mh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new $d(r,s)}static _create(e,n){return new $d(e,n)}buildRequest(){return{requestUri:YK,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK="saml.";class aw extends So{constructor(e){ee(e.startsWith(QK),"argument-error"),super(e)}static credentialFromResult(e){return aw.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return aw.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=$d.fromJSON(e);return ee(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return $d._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends gh{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return To(t,"POST","/v1/accounts:signUp",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await eo._fromIdTokenResponse(e,r,i),a=mD(r);return new pi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mD(r);return new pi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XK(t){var e;if(qt(t.app))return Promise.reject(Dn(t));const n=Ht(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new pi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await d3(n,{returnSecureToken:!0}),i=await pi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lw(e,n,r,i)}}function h3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lw._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JK(t,e){const n=ye(t);await f0(!0,n,e);const{providerUserInfo:r}=await rK(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=f3(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function MC(t,e,n=!1){const r=await mo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}async function f0(t,e,n){await Pm(e);const r=f3(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ee(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(Dn(r));const i="reauthenticate";try{const s=await mo(t,h3(r,i,e,t),n);ee(s.idToken,r,"internal-error");const a=c0(s.idToken);ee(a,r,"internal-error");const{sub:u}=a;return ee(t.uid===u,r,"user-mismatch"),pi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e,n=!1){if(qt(t.app))return Promise.reject(Dn(t));const r="signIn",i=await h3(t,r,e),s=await pi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function p0(t,e){return m3(Ht(t),e)}async function g3(t,e){const n=ye(t);return await f0(!1,n,e.providerId),MC(n,e)}async function v3(t,e){return p3(ye(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZK(t,e){return To(t,"POST","/v1/accounts:signInWithCustomToken",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t,e){if(qt(t.app))return Promise.reject(Dn(t));const n=Ht(t),r=await ZK(n,{token:e,returnSecureToken:!0}),i=await pi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?VC._fromServerResponse(e,n):"totpInfo"in n?FC._fromServerResponse(e,n):Hn(e,"internal-error")}}class VC extends fg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new VC(n)}}class FC extends fg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new FC(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e,n){var r;ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t){const e=Ht(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tY(t,e,n){const r=Ht(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&m0(r,i,n),await km(r,i,"getOobCode",MK)}async function nY(t,e,n){await c3(ye(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UC(t),r})}async function rY(t,e){await DK(ye(t),{oobCode:e})}async function y3(t,e){const n=ye(t),r=await c3(n,{oobCode:e}),i=r.requestType;switch(ee(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(r.mfaInfo,n,"internal-error");default:ee(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=fg._fromServerResponse(Ht(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function iY(t,e){const{data:n}=await y3(ye(t),e);return n.email}async function sY(t,e,n){if(qt(t.app))return Promise.reject(Dn(t));const r=Ht(t),a=await km(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&UC(t),c}),u=await pi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function oY(t,e,n){return qt(t.app)?Promise.reject(Dn(t)):p0(ye(t),Ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t,e,n){const r=Ht(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,u){ee(u.handleCodeInApp,r,"argument-error"),u&&m0(r,a,u)}s(i,n),await km(r,i,"getOobCode",VK)}function lY(t,e){const n=h0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function uY(t,e,n){if(qt(t.app))return Promise.reject(Dn(t));const r=ye(t),i=Ya.credentialWithLink(e,n||Am());return ee(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),p0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(t,e){return Qt(t,"POST","/v1/accounts:createAuthUri",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dY(t,e){const n=NC()?Am():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await cY(ye(t),r);return i||[]}async function hY(t,e){const n=ye(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&m0(n.auth,i,e);const{email:s}=await LK(n.auth,i);s!==t.email&&await t.reload()}async function fY(t,e,n){const r=ye(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&m0(r.auth,s,n);const{email:a}=await FK(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(t,e){return Qt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ye(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await mo(r,pY(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function gY(t,e){const n=ye(t);return qt(n.auth.app)?Promise.reject(Dn(n.auth)):_3(n,e,null)}function vY(t,e){return _3(ye(t),null,e)}async function _3(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await mo(t,xK(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const a=(n=(e=c0(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const u=a!=="anonymous"&&a!=="custom"?a:null;return new Sd(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new _Y(s,i);case"github.com":return new wY(s,i);case"google.com":return new EY(s,i);case"twitter.com":return new IY(s,i,t.screenName||null);case"custom":case"anonymous":return new Sd(s,null);default:return new Sd(s,r,i)}}class Sd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class w3 extends Sd{constructor(e,n,r,i){super(e,n,r),this.username=i}}class _Y extends Sd{constructor(e,n){super(e,"facebook.com",n)}}class wY extends w3{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class EY extends Sd{constructor(e,n){super(e,"google.com",n)}}class IY extends w3{constructor(e,n,r){super(e,"twitter.com",n,r)}}function bY(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:yY(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Ul("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ul("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ul._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ul._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ht(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>fg._fromServerResponse(r,u));ee(i.mfaPendingCredential,r,"internal-error");const a=Ul._fromMfaPendingCredential(i.mfaPendingCredential);return new BC(a,s,async u=>{const c=await u._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":const m=await pi._fromIdTokenResponse(r,n.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return ee(n.user,r,"internal-error"),pi._forOperation(n.user,n.operationType,h);default:Hn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function TY(t,e){var n;const r=ye(t),i=e;return ee(e.customData.operationType,r,"argument-error"),ee((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),BC._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t,e){return Qt(t,"POST","/v2/accounts/mfaEnrollment:start",Yt(t,e))}function CY(t,e){return Qt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(t,e))}function AY(t,e){return Qt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(t,e))}class jC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>fg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new jC(e)}async getSession(){return Ul._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await mo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await mo(this.user,AY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const lI=new WeakMap;function PY(t){const e=ye(t);return lI.has(e)||lI.set(e,jC._fromUser(e)),lI.get(e)}const uw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uw,"1"),this.storage.removeItem(uw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(){const t=kt();return OC(t)||ph(t)}const RY=1e3,xY=10;class I3 extends E3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kY()&&pK(),this.fallbackToPolling=o3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);fK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I3.type="LOCAL";const zC=I3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends E3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b3.type="SESSION";const au=b3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new g0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(n.origin,s)),c=await NY(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=pg("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function OY(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function LY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VY(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="firebaseLocalStorageDb",FY=1,cw="firebaseLocalStorage",S3="fbase_key";class mg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v0(t,e){return t.transaction([cw],e?"readwrite":"readonly").objectStore(cw)}function UY(){const t=indexedDB.deleteDatabase(T3);return new mg(t).toPromise()}function Gb(){const t=indexedDB.open(T3,FY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cw,{keyPath:S3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cw)?e(r):(r.close(),await UY(),e(await Gb()))})})}async function gD(t,e,n){const r=v0(t,!0).put({[S3]:e,value:n});return new mg(r).toPromise()}async function BY(t,e){const n=v0(t,!1).get(e),r=await new mg(n).toPromise();return r===void 0?null:r.value}function vD(t,e){const n=v0(t,!0).delete(e);return new mg(n).toPromise()}const jY=800,zY=3;class C3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g0._getInstance(VY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LY(),!this.activeServiceWorker)return;this.sender=new DY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gb();return await gD(e,uw,"1"),await vD(e,uw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=v0(i,!1).getAll();return new mg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C3.type="LOCAL";const xm=C3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(t,e){return Qt(t,"POST","/v2/accounts/mfaSignIn:start",Yt(t,e))}function GY(t,e){return Qt(t,"POST","/v2/accounts/mfaSignIn:finalize",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=500,WY=6e4,yy=1e12;class HY{constructor(e){this.auth=e,this.counter=yy,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new KY(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||yy;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||yy;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||yy;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class KY{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ee(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=YY(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},WY)},qY))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function YY(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=l3("rcb"),QY=new cg(3e4,6e4);class XY{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=cn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ee(JY(n),e,"argument-error"),this.shouldResolveImmediately(n)&&aD(cn().grecaptcha)?Promise.resolve(cn().grecaptcha):new Promise((r,i)=>{const s=cn().setTimeout(()=>{i(_n(e,"network-request-failed"))},QY.get());cn()[uI]=()=>{cn().clearTimeout(s),delete cn()[uI];const u=cn().grecaptcha;if(!u||!aD(u)){i(_n(e,"internal-error"));return}const c=u.render;u.render=(h,m)=>{const g=c(h,m);return this.counter++,g},this.hostLanguage=n,r(u)};const a=`${EK()}?${Su({onload:uI,render:"explicit",hl:n})}`;LC(a).catch(()=>{clearTimeout(s),i(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=cn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function JY(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class ZY{async load(e){return new HY(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="recaptcha",eQ={theme:"light",type:"image"};let tQ=class{constructor(e,n,r=Object.assign({},eQ)){this.parameters=r,this.type=A3,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(e),this.isInvisible=this.parameters.size==="invisible",ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ee(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZY:new XY,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=cn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ee(NC()&&!$C(),this.auth,"internal-error"),await nQ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await eK(this.auth);ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function nQ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Yl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function rQ(t,e,n){if(qt(t.app))return Promise.reject(Dn(t));const r=Ht(t),i=await y0(r,e,ye(n));return new GC(i,s=>p0(r,s))}async function iQ(t,e,n){const r=ye(t);await f0(!1,r,"phone");const i=await y0(r.auth,e,ye(n));return new GC(i,s=>g3(r,s))}async function sQ(t,e,n){const r=ye(t);if(qt(r.auth.app))return Promise.reject(Dn(r.auth));const i=await y0(r.auth,e,ye(n));return new GC(i,s=>v3(r,s))}async function y0(t,e,n){var r;const i=await n.verify();try{ee(typeof i=="string",t,"argument-error"),ee(n.type===A3,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s)return ee(a.type==="enroll",t,"internal-error"),(await SY(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{ee(a.type==="signin",t,"internal-error");const u=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return ee(u,t,"missing-multi-factor-info"),(await $Y(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await zK(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return a}}finally{n._reset()}}async function oQ(t,e){const n=ye(t);if(qt(n.auth.app))return Promise.reject(Dn(n.auth));await MC(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=class Zy{constructor(e){this.providerId=Zy.PROVIDER_ID,this.auth=Ht(e)}verifyPhoneNumber(e,n){return y0(this.auth,e,ye(n))}static credential(e,n){return Yl._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Zy.credentialFromTaggedObject(n)}static credentialFromError(e){return Zy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Yl._fromTokenResponse(n,r):null}};lu.PROVIDER_ID="phone";lu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e){return e?qr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends mh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aQ(t){return m3(t.auth,new qC(t),t.bypassAuthState)}function lQ(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),p3(n,new qC(t),t.bypassAuthState)}async function uQ(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),MC(n,new qC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aQ;case"linkViaPopup":case"linkViaRedirect":return uQ;case"reauthViaPopup":case"reauthViaRedirect":return lQ;default:Hn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=new cg(2e3,1e4);async function dQ(t,e,n){if(qt(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const r=Ht(t);fh(t,e,So);const i=Pu(r,n);return new to(r,"signInViaPopup",e,i).executeNotNull()}async function hQ(t,e,n){const r=ye(t);if(qt(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));fh(r.auth,e,So);const i=Pu(r.auth,n);return new to(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function fQ(t,e,n){const r=ye(t);fh(r.auth,e,So);const i=Pu(r.auth,n);return new to(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class to extends P3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cQ.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="pendingRedirect",Vp=new Map;class mQ extends P3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await gQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gQ(t,e){const n=R3(e),r=k3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function WC(t,e){return k3(t)._set(R3(e),"true")}function vQ(){Vp.clear()}function HC(t,e){Vp.set(t._key(),e)}function k3(t){return qr(t._redirectPersistence)}function R3(t){return Kl(pQ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t,e,n){return _Q(t,e,n)}async function _Q(t,e,n){if(qt(t.app))return Promise.reject(Dn(t));const r=Ht(t);fh(t,e,So),await r._initializationPromise;const i=Pu(r,n);return await WC(i,r),i._openRedirect(r,e,"signInViaRedirect")}function wQ(t,e,n){return EQ(t,e,n)}async function EQ(t,e,n){const r=ye(t);if(fh(r.auth,e,So),qt(r.auth.app))return Promise.reject(Dn(r.auth));await r.auth._initializationPromise;const i=Pu(r.auth,n);await WC(i,r.auth);const s=await x3(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function IQ(t,e,n){return bQ(t,e,n)}async function bQ(t,e,n){const r=ye(t);fh(r.auth,e,So),await r.auth._initializationPromise;const i=Pu(r.auth,n);await f0(!1,r,e.providerId),await WC(i,r.auth);const s=await x3(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function TQ(t,e){return await Ht(t)._initializationPromise,_0(t,e,!1)}async function _0(t,e,n=!1){if(qt(t.app))return Promise.reject(Dn(t));const r=Ht(t),i=Pu(r,e),a=await new mQ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function x3(t){const e=pg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=10*60*1e3;class N3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(yD(e))}saveEventToCache(e){this.cachedEventUids.add(yD(e)),this.lastProcessedEventTime=Date.now()}}function yD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e={}){return Qt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PQ=/^https?/;async function kQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O3(t);for(const n of e)try{if(RQ(n))return}catch{}Hn(t,"unauthorized-domain")}function RQ(t){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!PQ.test(n))return!1;if(AQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ=new cg(3e4,6e4);function _D(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NQ(t){return new Promise((e,n)=>{var r,i,s;function a(){_D(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_D(),n(_n(t,"network-request-failed"))},timeout:xQ.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)a();else{const u=l3("iframefcb");return cn()[u]=()=>{gapi.load?a():n(_n(t,"network-request-failed"))},LC(`${bK()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw e_=null,e})}let e_=null;function DQ(t){return e_=e_||NQ(t),e_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=new cg(5e3,15e3),LQ="__/auth/iframe",MQ="emulator/auth/iframe",VQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UQ(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DC(e,MQ):`https://${t.config.authDomain}/${LQ}`,r={apiKey:e.apiKey,appName:t.name,v:Io},i=FQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Su(r).slice(1)}`}async function BQ(t){const e=await DQ(t),n=cn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:UQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VQ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=_n(t,"network-request-failed"),u=cn().setTimeout(()=>{s(a)},OQ.get());function c(){cn().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zQ=500,$Q=600,GQ="_blank",qQ="http://localhost";class wD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WQ(t,e,n,r=zQ,i=$Q){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},jQ),{width:r.toString(),height:i.toString(),top:s,left:a}),h=kt().toLowerCase();n&&(u=n3(h)?GQ:n),t3(h)&&(e=e||qQ,c.scrollbars="yes");const m=Object.entries(c).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(hK(h)&&u!=="_self")return HQ(e||"",u),new wD(null);const g=window.open(e||"",u,m);ee(g,t,"popup-blocked");try{g.focus()}catch{}return new wD(g)}function HQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="__/auth/handler",YQ="emulator/auth/handler",QQ=encodeURIComponent("fac");async function qb(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Io,eventId:i};if(e instanceof So){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Pb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))a[m]=g}if(e instanceof gh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),h=c?`#${QQ}=${encodeURIComponent(c)}`:"";return`${XQ(t)}?${Su(u).slice(1)}${h}`}function XQ({config:t}){return t.emulator?DC(t,YQ):`https://${t.authDomain}/${KQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="webStorageSupport";class JQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=au,this._completeRedirectFn=_0,this._overrideRedirectResult=HC}async _openPopup(e,n,r,i){var s;Wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await qb(e,n,r,Am(),i);return WQ(e,a,pg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qb(e,n,r,Am(),i);return OY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BQ(e),r=new N3(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cI,{type:cI},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cI];a!==void 0&&n(!!a),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o3()||OC()||ph()}}const ZQ=JQ;class eX{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ys("unexpected MultiFactorSessionType")}}}class KC extends eX{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new KC(e)}_finalizeEnroll(e,n,r){return CY(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return GY(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class L3{constructor(){}static assertion(e){return KC._fromCredential(e)}}L3.FACTOR_ID="phone";var ED="@firebase/auth",ID="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rX(t){ho(new qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a3(t)},h=new _K(r,i,s,c);return AK(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new qi("auth-internal",e=>{const n=Ht(e.getProvider("auth").getImmediate());return(r=>new tX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(ED,ID,nX(t)),Hr(ED,ID,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=5*60;o$("authIdTokenMaxAge");function sX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rX("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=2e3;async function aX(t,e,n){var r;const{BuildInfo:i}=uu();Wi(e.sessionId,"AuthEvent did not contain a session ID");const s=await hX(e.sessionId),a={};return ph()?a.ibi=i.packageName:dg()?a.apn=i.packageName:Hn(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,qb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,a)}async function lX(t){const{BuildInfo:e}=uu(),n={};ph()?n.iosBundleId=e.packageName:dg()?n.androidPackageName=e.packageName:Hn(t,"operation-not-supported-in-this-environment"),await O3(t,n)}function uX(t){const{cordova:e}=uu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,dK()?"_blank":"_system","location=yes"),n(i)})})}async function cX(t,e,n){const{cordova:r}=uu();let i=()=>{};try{await new Promise((s,a)=>{let u=null;function c(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function h(){u||(u=window.setTimeout(()=>{a(_n(t,"redirect-cancelled-by-user"))},oX))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(c),document.addEventListener("resume",h,!1),dg()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function dX(t){var e,n,r,i,s,a,u,c,h,m;const g=uu();ee(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((c=(u=(a=g==null?void 0:g.cordova)===null||a===void 0?void 0:a.plugins)===null||u===void 0?void 0:u.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function hX(t){const e=fX(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function fX(t){if(Wi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=20;class mX extends N3{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function gX(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:_X(),postBody:null,tenantId:t.tenantId,error:_n(t,"no-auth-event")}}function vX(t,e){return Wb()._set(Hb(t),e)}async function bD(t){const e=await Wb()._get(Hb(t));return e&&await Wb()._remove(Hb(t)),e}function yX(t,e){var n,r;const i=EX(e);if(i.includes("/__/auth/callback")){const s=t_(i),a=s.firebaseError?wX(decodeURIComponent(s.firebaseError)):null,u=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=u?_n(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function _X(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<pX;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Wb(){return qr(zC)}function Hb(t){return Kl("authEvent",t.config.apiKey,t.name)}function wX(t){try{return JSON.parse(t)}catch{return null}}function EX(t){const e=t_(t),n=e.link?decodeURIComponent(e.link):void 0,r=t_(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return t_(i).link||i||r||n||t}function t_(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ud(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=500;class bX{constructor(){this._redirectPersistence=au,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_0,this._overrideRedirectResult=HC}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new mX(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Hn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){dX(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),vQ(),await this._originValidation(e);const a=gX(e,r,i);await vX(e,a);const u=await aX(e,a,n),c=await uX(u);return cX(e,s,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lX(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=uu(),a=setTimeout(async()=>{await bD(e),n.onEvent(TD())},IX),u=async m=>{clearTimeout(a);const g=await bD(e);let _=null;g&&(m!=null&&m.url)&&(_=yX(g,m.url)),n.onEvent(_||TD())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const c=i,h=`${s.packageName.toLowerCase()}://`;uu().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof c=="function")try{c(m)}catch(g){console.error(g)}}}}const TX=bX;function TD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t,e){Ht(t)._logFramework(e)}var CX="@firebase/auth-compat",AX="0.5.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=1e3;function Fp(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function kX(){return Fp()==="http:"||Fp()==="https:"}function M3(t=kt()){return!!((Fp()==="file:"||Fp()==="ionic:"||Fp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function RX(){return Jw()||qS()}function xX(){return aF()&&(document==null?void 0:document.documentMode)===11}function NX(t=kt()){return/Edge\/\d+/.test(t)}function DX(t=kt()){return xX()||NX(t)}function V3(){try{const t=self.localStorage,e=pg();if(t)return t.setItem(e,"1"),t.removeItem(e),DX()?fm():!0}catch{return YC()&&fm()}return!1}function YC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dI(){return(kX()||oF()||M3())&&!RX()&&V3()&&!YC()}function F3(){return M3()&&typeof document<"u"}async function OX(){return F3()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},PX);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function LX(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={LOCAL:"local",NONE:"none",SESSION:"session"},np=ee,U3="persistence";function MX(t,e){if(np(Object.values($r).includes(e),t,"invalid-persistence-type"),Jw()){np(e!==$r.SESSION,t,"unsupported-persistence-type");return}if(qS()){np(e===$r.NONE,t,"unsupported-persistence-type");return}if(YC()){np(e===$r.NONE||e===$r.LOCAL&&fm(),t,"unsupported-persistence-type");return}np(e===$r.NONE||V3(),t,"unsupported-persistence-type")}async function Kb(t){await t._initializationPromise;const e=B3(),n=Kl(U3,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function VX(t,e){const n=B3();if(!n)return[];const r=Kl(U3,t,e);switch(n.getItem(r)){case $r.NONE:return[zd];case $r.LOCAL:return[xm,au];case $r.SESSION:return[au];default:return[]}}function B3(){var t;try{return((t=LX())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=ee;class ha{constructor(){this.browserResolver=qr(ZQ),this.cordovaResolver=qr(TX),this.underlyingResolver=null,this._redirectPersistence=au,this._completeRedirectFn=_0,this._overrideRedirectResult=HC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return F3()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return FX(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await OX();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){return t.unwrap()}function UX(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t){return z3(t)}function jX(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new zX(t,TY(t,e))}else if(r){const i=z3(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function z3(t){const{_tokenResponse:e}=t instanceof dr?t.customData:t;if(!e)return null;if(!(t instanceof dr)&&"temporaryProof"in e&&"phoneNumber"in e)return lu.credentialFromResult(t);const n=e.providerId;if(!n||n===tp.PASSWORD)return null;let r;switch(n){case tp.GOOGLE:r=ps;break;case tp.FACEBOOK:r=fs;break;case tp.GITHUB:r=ms;break;case tp.TWITTER:r=gs;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:u,nonce:c}=e;return!s&&!a&&!i&&!u?null:u?n.startsWith("saml.")?$d._create(n,u):As._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:s}):new Td(n).credential({idToken:i,accessToken:s,rawNonce:c})}return t instanceof dr?r.credentialFromError(t):r.credentialFromResult(t)}function Ir(t,e){return e.catch(n=>{throw n instanceof dr&&jX(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:BX(n),additionalUserInfo:bY(n),user:w0.getOrCreate(i)}})}async function Yb(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Ir(t,n.confirm(r))}}class zX{constructor(e,n){this.resolver=n,this.auth=UX(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ir(j3(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w0=class gp{constructor(e){this._delegate=e,this.multiFactor=PY(e)}static getOrCreate(e){return gp.USER_MAP.has(e)||gp.USER_MAP.set(e,new gp(e)),gp.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ir(this.auth,g3(this._delegate,e))}async linkWithPhoneNumber(e,n){return Yb(this.auth,iQ(this._delegate,e,n))}async linkWithPopup(e){return Ir(this.auth,fQ(this._delegate,e,ha))}async linkWithRedirect(e){return await Kb(Ht(this.auth)),IQ(this._delegate,e,ha)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ir(this.auth,v3(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Yb(this.auth,sQ(this._delegate,e,n))}reauthenticateWithPopup(e){return Ir(this.auth,hQ(this._delegate,e,ha))}async reauthenticateWithRedirect(e){return await Kb(Ht(this.auth)),wQ(this._delegate,e,ha)}sendEmailVerification(e){return hY(this._delegate,e)}async unlink(e){return await JK(this._delegate,e),this}updateEmail(e){return gY(this._delegate,e)}updatePassword(e){return vY(this._delegate,e)}updatePhoneNumber(e){return oQ(this._delegate,e)}updateProfile(e){return mY(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return fY(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};w0.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=ee;let Qb=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rp(r,"invalid-api-key",{appName:e.name}),rp(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ha:void 0;this._delegate=n.initialize({options:{persistence:$X(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(GH),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?w0.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){PK(this._delegate,e,n)}applyActionCode(e){return rY(this._delegate,e)}checkActionCode(e){return y3(this._delegate,e)}confirmPasswordReset(e,n){return nY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Ir(this._delegate,sY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return dY(this._delegate,e)}isSignInWithEmailLink(e){return lY(this._delegate,e)}async getRedirectResult(){rp(dI(),this._delegate,"operation-not-supported-in-this-environment");const e=await TQ(this._delegate,ha);return e?Ir(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){SX(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=SD(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=SD(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return aY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return tY(this._delegate,e,n||void 0)}async setPersistence(e){MX(this._delegate,e);let n;switch(e){case $r.SESSION:n=au;break;case $r.LOCAL:n=await qr(xm)._isAvailable()?xm:zC;break;case $r.NONE:n=zd;break;default:return Hn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ir(this._delegate,XK(this._delegate))}signInWithCredential(e){return Ir(this._delegate,p0(this._delegate,e))}signInWithCustomToken(e){return Ir(this._delegate,eY(this._delegate,e))}signInWithEmailAndPassword(e,n){return Ir(this._delegate,oY(this._delegate,e,n))}signInWithEmailLink(e,n){return Ir(this._delegate,uY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Yb(this._delegate,rQ(this._delegate,e,n))}async signInWithPopup(e){return rp(dI(),this._delegate,"operation-not-supported-in-this-environment"),Ir(this._delegate,dQ(this._delegate,e,ha))}async signInWithRedirect(e){return rp(dI(),this._delegate,"operation-not-supported-in-this-environment"),await Kb(this._delegate),yQ(this._delegate,e,ha)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return iY(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Qb.Persistence=$r;function SD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&w0.getOrCreate(a)),error:e,complete:n}}function $X(t,e){const n=VX(t,e);if(typeof self<"u"&&!n.includes(xm)&&n.push(xm),typeof window<"u")for(const r of[zC,au])n.includes(r)||n.push(r);return n.includes(zd)||n.push(zd),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.providerId="phone",this._delegate=new lu(j3(me.auth()))}static credential(e,n){return lu.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}QC.PHONE_SIGN_IN_METHOD=lu.PHONE_SIGN_IN_METHOD;QC.PROVIDER_ID=lu.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=ee;class qX{constructor(e,n,r=me.app()){var i;GX((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new tQ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX="auth-compat";function HX(t){t.INTERNAL.registerComponent(new qi(WX,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Qb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jc.EMAIL_SIGNIN,PASSWORD_RESET:jc.PASSWORD_RESET,RECOVER_EMAIL:jc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:jc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:jc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:jc.VERIFY_EMAIL}},EmailAuthProvider:Ya,FacebookAuthProvider:fs,GithubAuthProvider:ms,GoogleAuthProvider:ps,OAuthProvider:Td,SAMLAuthProvider:aw,PhoneAuthProvider:QC,PhoneMultiFactorGenerator:L3,RecaptchaVerifier:qX,TwitterAuthProvider:gs,Auth:Qb,AuthCredential:mh,Error:dr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(CX,AX)}HX(me);var CD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,$3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function O(){}O.prototype=k.prototype,N.D=k.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(F,L,U){for(var D=Array(arguments.length-2),We=2;We<arguments.length;We++)D[We-2]=arguments[We];return k.prototype[L].apply(F,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,O){O||(O=0);var F=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)F[L]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(L=0;16>L;++L)F[L]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=N.g[0],O=N.g[1],L=N.g[2];var U=N.g[3],D=k+(U^O&(L^U))+F[0]+3614090360&4294967295;k=O+(D<<7&4294967295|D>>>25),D=U+(L^k&(O^L))+F[1]+3905402710&4294967295,U=k+(D<<12&4294967295|D>>>20),D=L+(O^U&(k^O))+F[2]+606105819&4294967295,L=U+(D<<17&4294967295|D>>>15),D=O+(k^L&(U^k))+F[3]+3250441966&4294967295,O=L+(D<<22&4294967295|D>>>10),D=k+(U^O&(L^U))+F[4]+4118548399&4294967295,k=O+(D<<7&4294967295|D>>>25),D=U+(L^k&(O^L))+F[5]+1200080426&4294967295,U=k+(D<<12&4294967295|D>>>20),D=L+(O^U&(k^O))+F[6]+2821735955&4294967295,L=U+(D<<17&4294967295|D>>>15),D=O+(k^L&(U^k))+F[7]+4249261313&4294967295,O=L+(D<<22&4294967295|D>>>10),D=k+(U^O&(L^U))+F[8]+1770035416&4294967295,k=O+(D<<7&4294967295|D>>>25),D=U+(L^k&(O^L))+F[9]+2336552879&4294967295,U=k+(D<<12&4294967295|D>>>20),D=L+(O^U&(k^O))+F[10]+4294925233&4294967295,L=U+(D<<17&4294967295|D>>>15),D=O+(k^L&(U^k))+F[11]+2304563134&4294967295,O=L+(D<<22&4294967295|D>>>10),D=k+(U^O&(L^U))+F[12]+1804603682&4294967295,k=O+(D<<7&4294967295|D>>>25),D=U+(L^k&(O^L))+F[13]+4254626195&4294967295,U=k+(D<<12&4294967295|D>>>20),D=L+(O^U&(k^O))+F[14]+2792965006&4294967295,L=U+(D<<17&4294967295|D>>>15),D=O+(k^L&(U^k))+F[15]+1236535329&4294967295,O=L+(D<<22&4294967295|D>>>10),D=k+(L^U&(O^L))+F[1]+4129170786&4294967295,k=O+(D<<5&4294967295|D>>>27),D=U+(O^L&(k^O))+F[6]+3225465664&4294967295,U=k+(D<<9&4294967295|D>>>23),D=L+(k^O&(U^k))+F[11]+643717713&4294967295,L=U+(D<<14&4294967295|D>>>18),D=O+(U^k&(L^U))+F[0]+3921069994&4294967295,O=L+(D<<20&4294967295|D>>>12),D=k+(L^U&(O^L))+F[5]+3593408605&4294967295,k=O+(D<<5&4294967295|D>>>27),D=U+(O^L&(k^O))+F[10]+38016083&4294967295,U=k+(D<<9&4294967295|D>>>23),D=L+(k^O&(U^k))+F[15]+3634488961&4294967295,L=U+(D<<14&4294967295|D>>>18),D=O+(U^k&(L^U))+F[4]+3889429448&4294967295,O=L+(D<<20&4294967295|D>>>12),D=k+(L^U&(O^L))+F[9]+568446438&4294967295,k=O+(D<<5&4294967295|D>>>27),D=U+(O^L&(k^O))+F[14]+3275163606&4294967295,U=k+(D<<9&4294967295|D>>>23),D=L+(k^O&(U^k))+F[3]+4107603335&4294967295,L=U+(D<<14&4294967295|D>>>18),D=O+(U^k&(L^U))+F[8]+1163531501&4294967295,O=L+(D<<20&4294967295|D>>>12),D=k+(L^U&(O^L))+F[13]+2850285829&4294967295,k=O+(D<<5&4294967295|D>>>27),D=U+(O^L&(k^O))+F[2]+4243563512&4294967295,U=k+(D<<9&4294967295|D>>>23),D=L+(k^O&(U^k))+F[7]+1735328473&4294967295,L=U+(D<<14&4294967295|D>>>18),D=O+(U^k&(L^U))+F[12]+2368359562&4294967295,O=L+(D<<20&4294967295|D>>>12),D=k+(O^L^U)+F[5]+4294588738&4294967295,k=O+(D<<4&4294967295|D>>>28),D=U+(k^O^L)+F[8]+2272392833&4294967295,U=k+(D<<11&4294967295|D>>>21),D=L+(U^k^O)+F[11]+1839030562&4294967295,L=U+(D<<16&4294967295|D>>>16),D=O+(L^U^k)+F[14]+4259657740&4294967295,O=L+(D<<23&4294967295|D>>>9),D=k+(O^L^U)+F[1]+2763975236&4294967295,k=O+(D<<4&4294967295|D>>>28),D=U+(k^O^L)+F[4]+1272893353&4294967295,U=k+(D<<11&4294967295|D>>>21),D=L+(U^k^O)+F[7]+4139469664&4294967295,L=U+(D<<16&4294967295|D>>>16),D=O+(L^U^k)+F[10]+3200236656&4294967295,O=L+(D<<23&4294967295|D>>>9),D=k+(O^L^U)+F[13]+681279174&4294967295,k=O+(D<<4&4294967295|D>>>28),D=U+(k^O^L)+F[0]+3936430074&4294967295,U=k+(D<<11&4294967295|D>>>21),D=L+(U^k^O)+F[3]+3572445317&4294967295,L=U+(D<<16&4294967295|D>>>16),D=O+(L^U^k)+F[6]+76029189&4294967295,O=L+(D<<23&4294967295|D>>>9),D=k+(O^L^U)+F[9]+3654602809&4294967295,k=O+(D<<4&4294967295|D>>>28),D=U+(k^O^L)+F[12]+3873151461&4294967295,U=k+(D<<11&4294967295|D>>>21),D=L+(U^k^O)+F[15]+530742520&4294967295,L=U+(D<<16&4294967295|D>>>16),D=O+(L^U^k)+F[2]+3299628645&4294967295,O=L+(D<<23&4294967295|D>>>9),D=k+(L^(O|~U))+F[0]+4096336452&4294967295,k=O+(D<<6&4294967295|D>>>26),D=U+(O^(k|~L))+F[7]+1126891415&4294967295,U=k+(D<<10&4294967295|D>>>22),D=L+(k^(U|~O))+F[14]+2878612391&4294967295,L=U+(D<<15&4294967295|D>>>17),D=O+(U^(L|~k))+F[5]+4237533241&4294967295,O=L+(D<<21&4294967295|D>>>11),D=k+(L^(O|~U))+F[12]+1700485571&4294967295,k=O+(D<<6&4294967295|D>>>26),D=U+(O^(k|~L))+F[3]+2399980690&4294967295,U=k+(D<<10&4294967295|D>>>22),D=L+(k^(U|~O))+F[10]+4293915773&4294967295,L=U+(D<<15&4294967295|D>>>17),D=O+(U^(L|~k))+F[1]+2240044497&4294967295,O=L+(D<<21&4294967295|D>>>11),D=k+(L^(O|~U))+F[8]+1873313359&4294967295,k=O+(D<<6&4294967295|D>>>26),D=U+(O^(k|~L))+F[15]+4264355552&4294967295,U=k+(D<<10&4294967295|D>>>22),D=L+(k^(U|~O))+F[6]+2734768916&4294967295,L=U+(D<<15&4294967295|D>>>17),D=O+(U^(L|~k))+F[13]+1309151649&4294967295,O=L+(D<<21&4294967295|D>>>11),D=k+(L^(O|~U))+F[4]+4149444226&4294967295,k=O+(D<<6&4294967295|D>>>26),D=U+(O^(k|~L))+F[11]+3174756917&4294967295,U=k+(D<<10&4294967295|D>>>22),D=L+(k^(U|~O))+F[2]+718787259&4294967295,L=U+(D<<15&4294967295|D>>>17),D=O+(U^(L|~k))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,k){k===void 0&&(k=N.length);for(var O=k-this.blockSize,F=this.B,L=this.h,U=0;U<k;){if(L==0)for(;U<=O;)i(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<k;)if(F[L++]=N.charCodeAt(U++),L==this.blockSize){i(this,F),L=0;break}}else for(;U<k;)if(F[L++]=N[U++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=k},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;var O=8*this.o;for(k=N.length-8;k<N.length;++k)N[k]=O&255,O/=256;for(this.u(N),N=Array(16),k=O=0;4>k;++k)for(var F=0;32>F;F+=8)N[O++]=this.g[k]>>>F&255;return N};function s(N,k){var O=u;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=k(N)}function a(N,k){this.h=k;for(var O=[],F=!0,L=N.length-1;0<=L;L--){var U=N[L]|0;F&&U==k||(O[L]=U,F=!1)}this.g=O}var u={};function c(N){return-128<=N&&128>N?s(N,function(k){return new a([k|0],0>k?-1:0)}):new a([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return C(h(-N));for(var k=[],O=1,F=0;N>=O;F++)k[F]=N/O|0,O*=4294967296;return new a(k,0)}function m(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return C(m(N.substring(1),k));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(k,8)),F=g,L=0;L<N.length;L+=8){var U=Math.min(8,N.length-L),D=parseInt(N.substring(L,L+U),k);8>U?(U=h(Math.pow(k,U)),F=F.j(U).add(h(D))):(F=F.j(O),F=F.add(h(D)))}return F}var g=c(0),_=c(1),I=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-C(this).m();for(var N=0,k=1,O=0;O<this.g.length;O++){var F=this.i(O);N+=(0<=F?F:4294967296+F)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(E(this))return"-"+C(this).toString(N);for(var k=h(Math.pow(N,6)),O=this,F="";;){var L=V(O,k).g;O=b(O,L.j(k));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=L,A(O))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=b(this,N),E(N)?-1:A(N)?0:1};function C(N){for(var k=N.g.length,O=[],F=0;F<k;F++)O[F]=~N.g[F];return new a(O,~N.h).add(_)}t.abs=function(){return E(this)?C(this):this},t.add=function(N){for(var k=Math.max(this.g.length,N.g.length),O=[],F=0,L=0;L<=k;L++){var U=F+(this.i(L)&65535)+(N.i(L)&65535),D=(U>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);F=D>>>16,U&=65535,D&=65535,O[L]=D<<16|U}return new a(O,O[O.length-1]&-2147483648?-1:0)};function b(N,k){return N.add(C(k))}t.j=function(N){if(A(this)||A(N))return g;if(E(this))return E(N)?C(this).j(C(N)):C(C(this).j(N));if(E(N))return C(this.j(C(N)));if(0>this.l(I)&&0>N.l(I))return h(this.m()*N.m());for(var k=this.g.length+N.g.length,O=[],F=0;F<2*k;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<N.g.length;L++){var U=this.i(F)>>>16,D=this.i(F)&65535,We=N.i(L)>>>16,xe=N.i(L)&65535;O[2*F+2*L]+=D*xe,S(O,2*F+2*L),O[2*F+2*L+1]+=U*xe,S(O,2*F+2*L+1),O[2*F+2*L+1]+=D*We,S(O,2*F+2*L+1),O[2*F+2*L+2]+=U*We,S(O,2*F+2*L+2)}for(F=0;F<k;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=k;F<2*k;F++)O[F]=0;return new a(O,0)};function S(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function R(N,k){this.g=N,this.h=k}function V(N,k){if(A(k))throw Error("division by zero");if(A(N))return new R(g,g);if(E(N))return k=V(C(N),k),new R(C(k.g),C(k.h));if(E(k))return k=V(N,C(k)),new R(C(k.g),k.h);if(30<N.g.length){if(E(N)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var O=_,F=k;0>=F.l(N);)O=B(O),F=B(F);var L=j(O,1),U=j(F,1);for(F=j(F,2),O=j(O,2);!A(F);){var D=U.add(F);0>=D.l(N)&&(L=L.add(O),U=D),F=j(F,1),O=j(O,1)}return k=b(N,L.j(k)),new R(L,k)}for(L=g;0<=N.l(k);){for(O=Math.max(1,Math.floor(N.m()/k.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=h(O),D=U.j(k);E(D)||0<D.l(N);)O-=F,U=h(O),D=U.j(k);A(U)&&(U=_),L=L.add(U),N=b(N,D)}return new R(L,N)}t.A=function(N){return V(this,N).h},t.and=function(N){for(var k=Math.max(this.g.length,N.g.length),O=[],F=0;F<k;F++)O[F]=this.i(F)&N.i(F);return new a(O,this.h&N.h)},t.or=function(N){for(var k=Math.max(this.g.length,N.g.length),O=[],F=0;F<k;F++)O[F]=this.i(F)|N.i(F);return new a(O,this.h|N.h)},t.xor=function(N){for(var k=Math.max(this.g.length,N.g.length),O=[],F=0;F<k;F++)O[F]=this.i(F)^N.i(F);return new a(O,this.h^N.h)};function B(N){for(var k=N.g.length+1,O=[],F=0;F<k;F++)O[F]=N.i(F)<<1|N.i(F-1)>>>31;return new a(O,N.h)}function j(N,k){var O=k>>5;k%=32;for(var F=N.g.length-O,L=[],U=0;U<F;U++)L[U]=0<k?N.i(U+O)>>>k|N.i(U+O+1)<<32-k:N.i(U+O);return new a(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$3=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,Ql=a}).apply(typeof CD<"u"?CD:typeof self<"u"?self:typeof window<"u"?window:{});var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G3,q3,vp,W3,n_,Xb,H3,K3,Y3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _y=="object"&&_y];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var T=r;f=f.split(".");for(var x=0;x<f.length-1;x++){var z=f[x];if(!(z in T))break e;T=T[z]}f=f[f.length-1],x=T[f],w=w(x),w!=x&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function s(f,w){f instanceof String&&(f+="");var T=0,x=!1,z={next:function(){if(!x&&T<f.length){var W=T++;return{value:w(W,f[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(f){return f||function(){return s(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function m(f,w,T){return f.call.apply(f.bind,arguments)}function g(f,w,T){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),f.apply(w,z)}}return function(){return f.apply(w,arguments)}}function _(f,w,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function I(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function A(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(x,z,W){for(var re=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)re[Je-2]=arguments[Je];return w.prototype[z].apply(x,re)}}function E(f){const w=f.length;if(0<w){const T=Array(w);for(let x=0;x<w;x++)T[x]=f[x];return T}return[]}function C(f,w){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(c(x)){const z=f.length||0,W=x.length||0;f.length=z+W;for(let re=0;re<W;re++)f[z+re]=x[re]}else f.push(x)}}class b{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function V(f){return V[" "](f),f}V[" "]=function(){};var B=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function j(f,w,T){for(const x in f)w.call(T,f[x],x,f)}function N(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function k(f){const w={};for(const T in f)w[T]=f[T];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,w){let T,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(T in x)f[T]=x[T];for(let W=0;W<O.length;W++)T=O[W],Object.prototype.hasOwnProperty.call(x,T)&&(f[T]=x[T])}}function L(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function U(f){u.setTimeout(()=>{throw f},0)}function D(){var f=ue;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class We{constructor(){this.h=this.g=null}add(w,T){const x=xe.get();x.set(w,T),this.h?this.h.next=x:this.g=x,this.h=x}}var xe=new b(()=>new Ee,f=>f.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,se=!1,ue=new We,fe=()=>{const f=u.Promise.resolve(void 0);at=()=>{f.then(tt)}};var tt=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){U(T)}var w=xe;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}se=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var mi=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return f}();function gi(f,w){if(ft.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(B){e:{try{V(w.nodeName);var z=!0;break e}catch{}z=!1}z||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:vi[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&gi.aa.h.call(this)}}A(gi,ft);var vi={2:"touch",3:"pen",4:"mouse"};gi.prototype.h=function(){gi.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),Ng=0;function Lu(f,w,T,x,z){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!x,this.ha=z,this.key=++Ng,this.da=this.fa=!1}function Mu(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Vu(f){this.src=f,this.g={},this.h=0}Vu.prototype.add=function(f,w,T,x,z){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var re=Uu(f,w,x,z);return-1<re?(w=f[re],T||(w.fa=!1)):(w=new Lu(w,this.src,W,!!x,z),w.fa=T,f.push(w)),w};function Fu(f,w){var T=w.type;if(T in f.g){var x=f.g[T],z=Array.prototype.indexOf.call(x,w,void 0),W;(W=0<=z)&&Array.prototype.splice.call(x,z,1),W&&(Mu(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Uu(f,w,T,x){for(var z=0;z<f.length;++z){var W=f[z];if(!W.da&&W.listener==w&&W.capture==!!T&&W.ha==x)return z}return-1}var Ch="closure_lm_"+(1e6*Math.random()|0),Vn={};function Dg(f,w,T,x,z){if(Array.isArray(w)){for(var W=0;W<w.length;W++)Dg(f,w[W],T,x,z);return null}return T=Ph(T),f&&f[Ft]?f.K(w,T,h(x)?!!x.capture:!!x,z):H0(f,w,T,!1,x,z)}function H0(f,w,T,x,z,W){if(!w)throw Error("Invalid event type");var re=h(z)?!!z.capture:!!z,Je=el(f);if(Je||(f[Ch]=Je=new Vu(f)),T=Je.add(w,T,x,re,W),T.proxy)return T;if(x=K0(),T.proxy=x,x.src=f,x.listener=T,f.addEventListener)mi||(z=re),z===void 0&&(z=!1),f.addEventListener(w.toString(),x,z);else if(f.attachEvent)f.attachEvent(Lg(w.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function K0(){function f(T){return w.call(f.src,f.listener,T)}const w=Y0;return f}function Og(f,w,T,x,z){if(Array.isArray(w))for(var W=0;W<w.length;W++)Og(f,w[W],T,x,z);else x=h(x)?!!x.capture:!!x,T=Ph(T),f&&f[Ft]?(f=f.i,w=String(w).toString(),w in f.g&&(W=f.g[w],T=Uu(W,T,x,z),-1<T&&(Mu(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete f.g[w],f.h--)))):f&&(f=el(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Uu(w,T,x,z)),(T=-1<f?w[f]:null)&&Ah(T))}function Ah(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Ft])Fu(w.i,f);else{var T=f.type,x=f.proxy;w.removeEventListener?w.removeEventListener(T,x,f.capture):w.detachEvent?w.detachEvent(Lg(T),x):w.addListener&&w.removeListener&&w.removeListener(x),(T=el(w))?(Fu(T,f),T.h==0&&(T.src=null,w[Ch]=null)):Mu(f)}}}function Lg(f){return f in Vn?Vn[f]:Vn[f]="on"+f}function Y0(f,w){if(f.da)f=!0;else{w=new gi(w,this);var T=f.listener,x=f.ha||f.src;f.fa&&Ah(f),f=T.call(x,w)}return f}function el(f){return f=f[Ch],f instanceof Vu?f:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(f){return typeof f=="function"?f:(f[Yi]||(f[Yi]=function(w){return f.handleEvent(w)}),f[Yi])}function rn(){$e.call(this),this.i=new Vu(this),this.M=this,this.F=null}A(rn,$e),rn.prototype[Ft]=!0,rn.prototype.removeEventListener=function(f,w,T,x){Og(this,f,w,T,x)};function In(f,w){var T,x=f.F;if(x)for(T=[];x;x=x.F)T.push(x);if(f=f.M,x=w.type||w,typeof w=="string")w=new ft(w,f);else if(w instanceof ft)w.target=w.target||f;else{var z=w;w=new ft(x,f),F(w,z)}if(z=!0,T)for(var W=T.length-1;0<=W;W--){var re=w.g=T[W];z=Rs(re,x,!0,w)&&z}if(re=w.g=f,z=Rs(re,x,!0,w)&&z,z=Rs(re,x,!1,w)&&z,T)for(W=0;W<T.length;W++)re=w.g=T[W],z=Rs(re,x,!1,w)&&z}rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],x=0;x<T.length;x++)Mu(T[x]);delete f.g[w],f.h--}}this.F=null},rn.prototype.K=function(f,w,T,x){return this.i.add(String(f),w,!1,T,x)},rn.prototype.L=function(f,w,T,x){return this.i.add(String(f),w,!0,T,x)};function Rs(f,w,T,x){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var z=!0,W=0;W<w.length;++W){var re=w[W];if(re&&!re.da&&re.capture==T){var Je=re.listener,sn=re.ha||re.src;re.fa&&Fu(f.i,re),z=Je.call(sn,x)!==!1&&z}}return z&&!x.defaultPrevented}function xs(f,w,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function Qi(f){f.g=xs(()=>{f.g=null,f.i&&(f.i=!1,Qi(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Mg extends $e{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(f){$e.call(this),this.h=f,this.g={}}A(tl,$e);var Vg=[];function nl(f){j(f.g,function(w,T){this.g.hasOwnProperty(T)&&Ah(w)},f),f.g={}}tl.prototype.N=function(){tl.aa.N.call(this),nl(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xo=u.JSON.stringify,Ns=u.JSON.parse,Q0=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kh(){}kh.prototype.h=null;function Rh(f){return f.h||(f.h=f.i())}function xh(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nh(){ft.call(this,"d")}A(Nh,ft);function ei(){ft.call(this,"c")}A(ei,ft);var yi={},Bu=null;function No(){return Bu=Bu||new rn}yi.La="serverreachability";function ju(f){ft.call(this,yi.La,f)}A(ju,ft);function _i(f){const w=No();In(w,new ju(w))}yi.STAT_EVENT="statevent";function Do(f,w){ft.call(this,yi.STAT_EVENT,f),this.stat=w}A(Do,ft);function Fn(f){const w=No();In(w,new Do(w,f))}yi.Ma="timingevent";function Dh(f,w){ft.call(this,yi.Ma,f),this.size=w}A(Dh,ft);function rl(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function il(){this.g=!0}il.prototype.xa=function(){this.g=!1};function X0(f,w,T,x,z,W){f.info(function(){if(f.g)if(W)for(var re="",Je=W.split("&"),sn=0;sn<Je.length;sn++){var Ne=Je[sn].split("=");if(1<Ne.length){var bn=Ne[0];Ne=Ne[1];var bt=bn.split("_");re=2<=bt.length&&bt[1]=="type"?re+(bn+"="+Ne+"&"):re+(bn+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+w+`
`+T+`
`+re})}function J0(f,w,T,x,z,W,re){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+w+`
`+T+`
`+W+" "+re})}function ti(f,w,T,x){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ds(f,T)+(x?" "+x:"")})}function Ji(f,w){f.info(function(){return"TIMEOUT: "+w})}il.prototype.info=function(){};function Ds(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var x=T[f];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<z.length;re++)z[re]=""}}}}return xo(T)}catch{return w}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zi;function zu(){}A(zu,kh),zu.prototype.g=function(){return new XMLHttpRequest},zu.prototype.i=function(){return{}},Zi=new zu;function Kn(f,w,T,x){this.j=f,this.i=w,this.l=T,this.R=x||1,this.U=new tl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fg}function Fg(){this.i=null,this.g="",this.h=!1}var Ug={},$u={};function Gu(f,w,T){f.L=1,f.v=ni(rr(w)),f.m=T,f.P=!0,Rt(f,null)}function Rt(f,w){f.F=Date.now(),ol(f),f.A=rr(f.v);var T=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),bi(T.i,"t",x),f.C=0,T=f.j.J,f.h=new Fg,f.g=Kg(f.j,T?w:null,!f.m),0<f.O&&(f.M=new Mg(_(f.Y,f,f.g),f.O)),w=f.U,T=f.g,x=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(Vg[0]=z.toString()),z=Vg);for(var W=0;W<z.length;W++){var re=Dg(T,z[W],x||w.handleEvent,!1,w.h||w);if(!re)break;w.g[re.key]=re}w=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),_i(),X0(f.i,f.u,f.A,f.l,f.R,f.m)}Kn.prototype.ca=function(f){f=f.target;const w=this.M;w&&_r(f)==3?w.j():this.Y(f)},Kn.prototype.Y=function(f){try{if(f==this.g)e:{const bt=_r(this.g);var w=this.g.Ba();const jo=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||bt!=4||w==7||(w==8||0>=jo?_i(3):_i(2)),qu(this);var T=this.g.Z();this.X=T;t:if(Os(this)){var x=$h(this.g);f="";var z=x.length,W=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Ls(this);var re="";break t}this.h.i=new u.TextDecoder}for(w=0;w<z;w++)this.h.h=!0,f+=this.h.i.decode(x[w],{stream:!(W&&w==z-1)});x.length=0,this.h.g+=f,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=T==200,J0(this.i,this.u,this.A,this.l,this.R,bt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,sn=this.g;if((Je=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Je)){var Ne=Je;break t}}Ne=null}if(T=Ne)ti(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wu(this,T);else{this.o=!1,this.s=3,Fn(12),Ms(this),Ls(this);break e}}if(this.P){T=!0;let Bn;for(;!this.J&&this.C<re.length;)if(Bn=Bg(this,re),Bn==$u){bt==4&&(this.s=4,Fn(14),T=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Ug){this.s=4,Fn(15),ti(this.i,this.l,re,"[Invalid Chunk]"),T=!1;break}else ti(this.i,this.l,Bn,null),Wu(this,Bn);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||re.length!=0||this.h.h||(this.s=1,Fn(16),T=!1),this.o=this.o&&T,!T)ti(this.i,this.l,re,"[Invalid Chunked Response]"),Ms(this),Ls(this);else if(0<re.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ae(bn),bn.M=!0,Fn(11))}}else ti(this.i,this.l,re,null),Wu(this,re);bt==4&&Ms(this),this.o&&!this.J&&(bt==4?mt(this.j,this):(this.o=!1,ol(this)))}else n1(this.g),T==400&&0<re.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),Ms(this),Ls(this)}}}catch{}finally{}};function Os(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Bg(f,w){var T=f.C,x=w.indexOf(`
`,T);return x==-1?$u:(T=Number(w.substring(T,x)),isNaN(T)?Ug:(x+=1,x+T>w.length?$u:(w=w.slice(x,x+T),f.C=x+T,w)))}Kn.prototype.cancel=function(){this.J=!0,Ms(this)};function ol(f){f.S=Date.now()+f.I,ke(f,f.I)}function ke(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=rl(_(f.ba,f),w)}function qu(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Kn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ji(this.i,this.A),this.L!=2&&(_i(),Fn(17)),Ms(this),this.s=2,Ls(this)):ke(this,this.S-f)};function Ls(f){f.j.G==0||f.J||mt(f.j,f)}function Ms(f){qu(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,nl(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function Wu(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||fn(T.h,f))){if(!f.K&&fn(T.h,f)&&T.G==3){try{var x=T.Da.g.parse(w)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)rc(T),tc(T);else break e;Me(T),Fn(18)}}else T.za=z[1],0<T.za-T.T&&37500>z[2]&&T.F&&T.v==0&&!T.C&&(T.C=rl(_(T.Za,T),6e3));if(1>=vr(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else xt(T,11)}else if((f.K||T.g==f)&&rc(T),!S(w))for(z=T.Da.g.parse(w),w=0;w<z.length;w++){let Ne=z[w];if(T.T=Ne[0],Ne=Ne[1],T.G==2)if(Ne[0]=="c"){T.K=Ne[1],T.ia=Ne[2];const bn=Ne[3];bn!=null&&(T.la=bn,T.j.info("VER="+T.la));const bt=Ne[4];bt!=null&&(T.Aa=bt,T.j.info("SVER="+T.Aa));const jo=Ne[5];jo!=null&&typeof jo=="number"&&0<jo&&(x=1.5*jo,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Bn=f.g;if(Bn){const rs=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var W=x.h;W.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Lh(W,W.h),W.h=null))}if(x.D){const Wh=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wh&&(x.ya=Wh,st(x.I,x.D,Wh))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var re=f;if(x.qa=qh(x,x.J?x.ia:null,x.W),re.K){Ei(x.h,re);var Je=re,sn=x.L;sn&&(Je.I=sn),Je.B&&(qu(Je),ol(Je)),x.g=re}else fl(x);0<T.i.length&&nc(T)}else Ne[0]!="stop"&&Ne[0]!="close"||xt(T,7);else T.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?xt(T,7):js(T):Ne[0]!="noop"&&T.l&&T.l.ta(Ne),T.v=0)}}_i(4)}catch{}}var It=class{constructor(f,w){this.g=f,this.map=w}};function wi(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jg(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function vr(f){return f.h?1:f.g?f.g.size:0}function fn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Lh(f,w){f.g?f.g.add(w):f.h=w}function Ei(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}wi.prototype.cancel=function(){if(this.i=Mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Mh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return E(f.i)}function Hu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var w=[],T=f.length,x=0;x<T;x++)w.push(f[x]);return w}w=[],T=0;for(x in f)w[T++]=f[x];return w}function Vh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const x in f)w[T++]=x;return w}}}function Ku(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Vh(f),x=Hu(f),z=x.length,W=0;W<z;W++)w.call(void 0,x[W],T&&T[W],f)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z0(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var x=f[T].indexOf("="),z=null;if(0<=x){var W=f[T].substring(0,x);z=f[T].substring(x+1)}else W=f[T];w(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function nr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof nr){this.h=f.h,al(this,f.j),this.o=f.o,this.g=f.g,Ii(this,f.s),this.l=f.l;var w=f.i,T=new Lo;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Fh(this,T),this.m=f.m}else f&&(w=String(f).match(Yu))?(this.h=!1,al(this,w[1]||"",!0),this.o=Oo(w[2]||""),this.g=Oo(w[3]||"",!0),Ii(this,w[4]),this.l=Oo(w[5]||"",!0),Fh(this,w[6]||"",!0),this.m=Oo(w[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}nr.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ll(w,Yn,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ll(w,Yn,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ll(T,T.charAt(0)=="/"?$g:es,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ll(T,Gg)),f.join("")};function rr(f){return new nr(f)}function al(f,w,T){f.j=T?Oo(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ii(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Fh(f,w,T){w instanceof Lo?(f.i=w,qg(f.i,f.h)):(T||(w=ll(w,Qu)),f.i=new Lo(w,f.h))}function st(f,w,T){f.i.set(w,T)}function ni(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Oo(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ll(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,zg),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zg(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Yn=/[#\/\?@]/g,es=/[#\?:]/g,$g=/[#\?]/g,Qu=/[#\?@]/g,Gg=/#/g;function Lo(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function ri(f){f.g||(f.g=new Map,f.h=0,f.i&&Z0(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Lo.prototype,t.add=function(f,w){ri(this),this.i=null,f=Ti(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function Vs(f,w){ri(f),w=Ti(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Uh(f,w){return ri(f),w=Ti(f,w),f.g.has(w)}t.forEach=function(f,w){ri(this),this.g.forEach(function(T,x){T.forEach(function(z){f.call(w,z,x,this)},this)},this)},t.na=function(){ri(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let x=0;x<w.length;x++){const z=f[x];for(let W=0;W<z.length;W++)T.push(w[x])}return T},t.V=function(f){ri(this);let w=[];if(typeof f=="string")Uh(this,f)&&(w=w.concat(this.g.get(Ti(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},t.set=function(f,w){return ri(this),this.i=null,f=Ti(this,f),Uh(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function bi(f,w,T){Vs(f,w),0<T.length&&(f.i=null,f.g.set(Ti(f,w),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var x=w[T];const W=encodeURIComponent(String(x)),re=this.V(x);for(x=0;x<re.length;x++){var z=W;re[x]!==""&&(z+="="+encodeURIComponent(String(re[x]))),f.push(z)}}return this.i=f.join("&")};function Ti(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function qg(f,w){w&&!f.j&&(ri(f),f.i=null,f.g.forEach(function(T,x){var z=x.toLowerCase();x!=z&&(Vs(this,x),bi(this,z,T))},f)),f.j=w}function ul(f,w){const T=new il;if(u.Image){const x=new Image;x.onload=I(ts,T,"TestLoadImage: loaded",!0,w,x),x.onerror=I(ts,T,"TestLoadImage: error",!1,w,x),x.onabort=I(ts,T,"TestLoadImage: abort",!1,w,x),x.ontimeout=I(ts,T,"TestLoadImage: timeout",!1,w,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else w(!1)}function e1(f,w){const T=new il,x=new AbortController,z=setTimeout(()=>{x.abort(),ts(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:x.signal}).then(W=>{clearTimeout(z),W.ok?ts(T,"TestPingServer: ok",!0,w):ts(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(z),ts(T,"TestPingServer: error",!1,w)})}function ts(f,w,T,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(T)}catch{}}function t1(){this.g=new Q0}function Mo(f,w,T){const x=T||"";try{Ku(f,function(z,W){let re=z;h(z)&&(re=xo(z)),w.push(x+W+"="+encodeURIComponent(re))})}catch(z){throw w.push(x+"type="+encodeURIComponent("_badmap")),z}}function yr(f){this.l=f.Ub||null,this.j=f.eb||!1}A(yr,kh),yr.prototype.g=function(){return new Vo(this.l,this.j)},yr.prototype.i=function(f){return function(){return f}}({});function Vo(f,w){rn.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Vo,rn),t=Vo.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Us(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Fs(this):Us(this),this.readyState==3&&cl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Fs(this))},t.Qa=function(f){this.g&&(this.response=f,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Us(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function Us(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bh(f){let w="";return j(f,function(T,x){w+=x,w+=":",w+=T,w+=`\r
`}),w}function jh(f,w,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Bh(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):st(f,w,T))}function pt(f){rn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(pt,rn);var Xu=/^https?$/i,Bs=["POST","PUT"];t=pt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zi.g(),this.v=this.o?Rh(this.o):Rh(Zi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(W){Fo(this,W);return}if(f=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)T.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())T.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),z=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Bs,w,void 0))||x||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of T)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ec(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Fo(this,W)}};function Fo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Ju(f),Zu(f)}function Ju(f){f.A||(f.A=!0,In(f,"complete"),In(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,In(this,"complete"),In(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zh(this):this.bb())},t.bb=function(){zh(this)};function zh(f){if(f.h&&typeof a<"u"&&(!f.v[1]||_r(f)!=4||f.Z()!=2)){if(f.u&&_r(f)==4)xs(f.Ea,0,f);else if(In(f,"readystatechange"),_r(f)==4){f.h=!1;try{const re=f.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var x;if(x=re===0){var z=String(f.D).match(Yu)[1]||null;!z&&u.self&&u.self.location&&(z=u.self.location.protocol.slice(0,-1)),x=!Xu.test(z?z.toLowerCase():"")}T=x}if(T)In(f,"complete"),In(f,"success");else{f.m=6;try{var W=2<_r(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",Ju(f)}}finally{Zu(f)}}}}function Zu(f,w){if(f.g){ec(f);const T=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||In(f,"ready");try{T.onreadystatechange=x}catch{}}}function ec(f){f.I&&(u.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function _r(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Ns(w)}};function $h(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function n1(f){const w={};f=(f.g&&2<=_r(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(S(f[x]))continue;var T=L(f[x]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=w[z]||[];w[z]=W,W.push(T)}N(w,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Si(f){this.Aa=0,this.i=[],this.j=new il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,f),this.cb=Uo("retryDelaySeedMs",1e4,f),this.Wa=Uo("forwardChannelMaxRetries",2,f),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(f&&f.concurrentRequestLimit),this.Da=new t1,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Si.prototype,t.la=8,t.G=1,t.connect=function(f,w,T,x){Fn(0),this.W=f,this.H=w||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=qh(this,null,this.W),nc(this)};function js(f){if(Wg(f),f.G==3){var w=f.U++,T=rr(f.I);if(st(T,"SID",f.K),st(T,"RID",w),st(T,"TYPE","terminate"),we(f,T),w=new Kn(f,f.j,w),w.L=2,w.v=ni(rr(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=Kg(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ol(w)}ns(f)}function tc(f){f.g&&(ae(f),f.g.cancel(),f.g=null)}function Wg(f){tc(f),f.u&&(u.clearTimeout(f.u),f.u=null),rc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function nc(f){if(!jg(f.h)&&!f.s){f.s=!0;var w=f.Ga;at||fe(),se||(at(),se=!0),ue.add(w,f),f.B=0}}function r1(f,w){return vr(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=rl(_(f.Ga,f,w),Gh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new Kn(this,this.j,f);let W=this.o;if(this.S&&(W?(W=k(W),F(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(w+=x,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=hl(this,z,w),T=rr(this.I),st(T,"RID",f),st(T,"CVER",22),this.D&&st(T,"X-HTTP-Session-Id",this.D),we(this,T),W&&(this.O?w="headers="+encodeURIComponent(String(Bh(W)))+"&"+w:this.m&&jh(T,this.m,W)),Lh(this.h,z),this.Ua&&st(T,"TYPE","init"),this.P?(st(T,"$req",w),st(T,"SID","null"),z.T=!0,Gu(z,T,null)):Gu(z,T,w),this.G=2}}else this.G==3&&(f?dl(this,f):this.i.length==0||jg(this.h)||dl(this))};function dl(f,w){var T;w?T=w.l:T=f.U++;const x=rr(f.I);st(x,"SID",f.K),st(x,"RID",T),st(x,"AID",f.T),we(f,x),f.m&&f.o&&jh(x,f.m,f.o),T=new Kn(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=hl(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Lh(f.h,T),Gu(T,x,w)}function we(f,w){f.H&&j(f.H,function(T,x){st(w,x,T)}),f.l&&Ku({},function(T,x){st(w,x,T)})}function hl(f,w,T){T=Math.min(f.i.length,T);var x=f.l?_(f.l.Na,f.l,f):null;e:{var z=f.i;let W=-1;for(;;){const re=["count="+T];W==-1?0<T?(W=z[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let Je=!0;for(let sn=0;sn<T;sn++){let Ne=z[sn].g;const bn=z[sn].map;if(Ne-=W,0>Ne)W=Math.max(0,z[sn].g-100),Je=!1;else try{Mo(bn,re,"req"+Ne+"_")}catch{x&&x(bn)}}if(Je){x=re.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,x}function fl(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;at||fe(),se||(at(),se=!0),ue.add(w,f),f.v=0}}function Me(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=rl(_(f.Fa,f),Gh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Hg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=rl(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),tc(this),Hg(this))};function ae(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Hg(f){f.g=new Kn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=rr(f.qa);st(w,"RID","rpc"),st(w,"SID",f.K),st(w,"AID",f.T),st(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(w,"TO",f.ja),st(w,"TYPE","xmlhttp"),we(f,w),f.m&&f.o&&jh(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ni(rr(w)),T.m=null,T.P=!0,Rt(T,f)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),Me(this),Fn(19))};function rc(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function mt(f,w){var T=null;if(f.g==w){rc(f),ae(f),f.g=null;var x=2}else if(fn(f.h,w))T=w.D,Ei(f.h,w),x=1;else return;if(f.G!=0){if(w.o)if(x==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var z=f.B;x=No(),In(x,new Dh(x,T)),nc(f)}else fl(f);else if(z=w.s,z==3||z==0&&0<w.X||!(x==1&&r1(f,w)||x==2&&Me(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),z){case 1:xt(f,5);break;case 4:xt(f,10);break;case 3:xt(f,6);break;default:xt(f,2)}}}function Gh(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function xt(f,w){if(f.j.info("Error code "+w),w==2){var T=_(f.fb,f),x=f.Xa;const z=!x;x=new nr(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||al(x,"https"),ni(x),z?ul(x.toString(),T):e1(x.toString(),T)}else Fn(2);f.G=0,f.l&&f.l.sa(w),ns(f),Wg(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function ns(f){if(f.G=0,f.ka=[],f.l){const w=Mh(f.h);(w.length!=0||f.i.length!=0)&&(C(f.ka,w),C(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function qh(f,w,T){var x=T instanceof nr?rr(T):new nr(T);if(x.g!="")w&&(x.g=w+"."+x.g),Ii(x,x.s);else{var z=u.location;x=z.protocol,w=w?w+"."+z.hostname:z.hostname,z=+z.port;var W=new nr(null);x&&al(W,x),w&&(W.g=w),z&&Ii(W,z),T&&(W.l=T),x=W}return T=f.D,w=f.ya,T&&w&&st(x,T,w),st(x,"VER",f.la),we(f,x),x}function Kg(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new pt(new yr({eb:T})):new pt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ic(){}ic.prototype.g=function(f,w){return new Un(f,w)};function Un(f,w){rn.call(this),this.g=new Si(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!S(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!S(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Bo(this)}A(Un,rn),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){js(this.g)},Un.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=xo(f),f=T);w.i.push(new It(w.Ya++,f)),w.G==3&&nc(w)},Un.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Un.aa.N.call(this)};function Qg(f){Nh.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}A(Qg,Nh);function sc(){ei.call(this),this.status=1}A(sc,ei);function Bo(f){this.g=f}A(Bo,Yg),Bo.prototype.ua=function(){In(this.g,"a")},Bo.prototype.ta=function(f){In(this.g,new Qg(f))},Bo.prototype.sa=function(f){In(this.g,new sc)},Bo.prototype.ra=function(){In(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Y3=function(){return new ic},K3=function(){return No()},H3=yi,Xb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,n_=sl,Oh.COMPLETE="complete",W3=Oh,xh.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",rn.prototype.listen=rn.prototype.K,vp=xh,q3=yr,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,G3=pt}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});const AD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new rg("@firebase/firestore");function Wc(){return La.logLevel}function KX(t){La.setLogLevel(t)}function X(t,...e){if(La.logLevel<=De.DEBUG){const n=e.map(XC);La.debug(`Firestore (${vh}): ${t}`,...n)}}function tn(t,...e){if(La.logLevel<=De.ERROR){const n=e.map(XC);La.error(`Firestore (${vh}): ${t}`,...n)}}function Hi(t,...e){if(La.logLevel<=De.WARN){const n=e.map(XC);La.warn(`Firestore (${vh}): ${t}`,...n)}}function XC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: `+t;throw tn(e),new Error(e)}function ve(t,e){t||le()}function YX(t,e){t||le()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class XX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JX{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new On;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new On,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new On)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new Q3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Rn(e)}}class ZX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new tJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Gd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function J3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Pt(0,0))}static max(){return new _e(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Nm{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const iJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Nm{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return iJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Q(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new Q(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(je.fromString(e))}static fromName(e){return new ie(je.fromString(e).popFirst(5))}static empty(){return new ie(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Jb(t){return t.fields.find(e=>e.kind===2)}function Pl(t){return t.fields.filter(e=>e.kind!==2)}dw.UNKNOWN_ID=-1;class r_{constructor(e,n){this.fieldPath=e,this.kind=n}}class Dm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Dm(0,Yr.min())}}function Z3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Yr(i,ie.empty(),e)}function e5(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(_e.min(),ie.empty(),-1)}static max(){return new Yr(_e.max(),ie.empty(),-1)}}function JC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==t5)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(m=>{a[h]=m,++u,u===s&&r(a)},m=>i(m))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new On,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Up(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ZC(r.target.error);this.V.reject(new Up(e,i))}}static open(e,n,r,i){try{return new E0(n,e.transaction(i,r))}catch(s){throw new Up(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new oJ(n)}}class Ts{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ts.S(kt())===12.2&&tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),kl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fm())return!1;if(Ts.C())return!0;const e=kt(),n=Ts.S(e),r=0<n&&n<10,i=r5(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Up(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Q(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Q(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Up(e,a))},i.onupgradeneeded=s=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const u=E0.open(this.db,e,s?"readonly":"readwrite",r),c=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),$.reject(h))).toPromise();return c.catch(()=>{}),await u.m,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&a<3;if(X("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function r5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class sJ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return kl(this.B.delete())}}class Up extends Q{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Xa(t){return t.name==="IndexedDbTransactionError"}class oJ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kl(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),kl(this.store.add(e))}get(e){return kl(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),kl(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),kl(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $((a,u)=>{s.onerror=c=>{u(c.target.error)},s.onsuccess=c=>{a(c.target.result)}})}{const s=this.cursor(r),a=[];return this.W(s,(u,c)=>{a.push(c)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,a,u)=>u.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const a=ZC(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(u=>{u?a.continue():r()}):r()}})}W(e,n){const r=[];return new $((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void i();const c=new sJ(u),h=n(u.primaryKey,u.value,c);if(h instanceof $){const m=h.catch(g=>(c.done(),$.reject(g)));r.push(m)}c.isDone?i():c.K===null?u.continue():u.continue(c.K)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kl(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ZC(r.target.error);n(i)}})}let PD=!1;function ZC(t){const e=Ts.S(kt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PD||(PD=!0,setTimeout(()=>{throw r},0)),r}}return t}class aJ{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){X("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Xa(n)?X("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Qa(n)}await this.X(6e4)})}}class lJ{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return $.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return X("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(u=>{i-=u,r.add(a)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(u=>(X("IndexBackfiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const a=e5(s);JC(a,r)>0&&(r=a)}),new Yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cr.oe=-1;function gg(t){return t==null}function Om(t){return t===0&&1/t==-1/0}function i5(t){return typeof t=="number"&&Number.isInteger(t)&&!Om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kD(e)),e=uJ(t.get(n),e);return kD(e)}function uJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function kD(t){return t+""}function _s(t){const e=t.length;if(ve(e>=2),e===2)return ve(t.charAt(0)===""&&t.charAt(1)===""),je.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>n)&&le(),t.charAt(a+1)){case"":const u=t.substring(s,a);let c;i.length===0?c=u:(i+=u,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:le()}s=a+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){return[t,hr(e)]}function s5(t,e,n){return[t,hr(e),n]}const cJ={},dJ=["prefixPath","collectionGroup","readTime","documentId"],hJ=["prefixPath","collectionGroup","documentId"],fJ=["collectionGroup","readTime","prefixPath","documentId"],pJ=["canonicalId","targetId"],mJ=["targetId","path"],gJ=["path","targetId"],vJ=["collectionId","parent"],yJ=["indexId","uid"],_J=["uid","sequenceNumber"],wJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EJ=["indexId","uid","orderedDocumentKey"],IJ=["userId","collectionPath","documentId"],bJ=["userId","collectionPath","largestBatchId"],TJ=["userId","collectionGroup","largestBatchId"],o5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SJ=[...o5,"documentOverlays"],a5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],l5=a5,u5=[...l5,"indexConfiguration","indexState","indexEntries"],CJ=u5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends n5{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ln(t,e){const n=oe(t);return Ts.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ku(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wy(this.root,e,this.comparator,!1)}getReverseIterator(){return new wy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wy(this.root,e,this.comparator,!0)}}class wy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=s??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ND(this.data.getIterator())}getIteratorFrom(e){return new ND(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class ND{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new ot(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new d5("Invalid base64 string: "+s):s}}(e);return new wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const PJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){if(ve(!!t),typeof t=="string"){let e=0;const n=PJ.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eA(t){const e=t.mapValue.fields.__previous_value__;return I0(e)?eA(e):e}function Lm(t){const e=go(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e,n,r,i,s,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}class Va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},s_={nullValue:"NULL_VALUE"};function cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:h5(t)?9007199254740991:10:le()}function Ps(t,e){if(t===e)return!0;const n=cu(t);if(n!==cu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lm(t).isEqual(Lm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=go(i.timestampValue),u=go(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ma(i.bytesValue).isEqual(Ma(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=$t(i.doubleValue),u=$t(s.doubleValue);return a===u?Om(a)===Om(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return Gd(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(xD(a)!==xD(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Ps(a[c],u[c])))return!1;return!0}(t,e);default:return le()}}function Mm(t,e){return(t.values||[]).find(n=>Ps(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=cu(t),r=cu(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=$t(s.integerValue||s.doubleValue),c=$t(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return DD(t.timestampValue,e.timestampValue);case 4:return DD(Lm(t),Lm(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,a){const u=Ma(s),c=Ma(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=Se(u[h],c[h]);if(m!==0)return m}return Se(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=Se($t(s.latitude),$t(a.latitude));return u!==0?u:Se($t(s.longitude),$t(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const u=s.values||[],c=a.values||[];for(let h=0;h<u.length&&h<c.length;++h){const m=Fa(u[h],c[h]);if(m)return m}return Se(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===fa.mapValue&&a===fa.mapValue)return 0;if(s===fa.mapValue)return 1;if(a===fa.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const _=Se(c[g],m[g]);if(_!==0)return _;const I=Fa(u[c[g]],h[m[g]]);if(I!==0)return I}return Se(c.length,m.length)}(t.mapValue,e.mapValue);default:throw le()}}function DD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=go(t),r=go(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function qd(t){return eT(t)}function eT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=eT(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${eT(n.fields[a])}`;return i+"}"}(t.mapValue):le()}function du(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tT(t){return!!t&&"integerValue"in t}function Vm(t){return!!t&&"arrayValue"in t}function OD(t){return!!t&&"nullValue"in t}function LD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o_(t){return!!t&&"mapValue"in t}function Bp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ku(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function RJ(t){return"nullValue"in t?s_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?du(Va.empty(),ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:le()}function xJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?du(Va.empty(),ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?fa:le()}function MD(t,e){const n=Fa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VD(t,e){const n=Fa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!o_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bp(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Bp(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());o_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];o_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ku(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gn(Bp(this.value))}}function f5(t){const e=[];return ku(t.fields,(n,r)=>{const i=new Ct([n]);if(o_(r)){const s=f5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,_e.min(),_e.min(),_e.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,_e.min(),_e.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,_e.min(),_e.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.position=e,this.inclusive=n}}function FD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(a.referenceValue),n.key):r=Fa(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n="asc"){this.field=e,this.dir=n}}function NJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{}class ze extends p5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DJ(e,n,r):n==="array-contains"?new MJ(e,r):n==="in"?new w5(e,r):n==="not-in"?new VJ(e,r):n==="array-contains-any"?new FJ(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OJ(e,r):new LJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&cu(this.value)===cu(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends p5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rt(e,n)}matches(e){return Wd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wd(t){return t.op==="and"}function nT(t){return t.op==="or"}function tA(t){return m5(t)&&Wd(t)}function m5(t){for(const e of t.filters)if(e instanceof rt)return!1;return!0}function rT(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+qd(t.value);if(tA(t))return t.filters.map(e=>rT(e)).join(",");{const e=t.filters.map(n=>rT(n)).join(",");return`${t.op}(${e})`}}function g5(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Ps(r.value,i.value)}(t,e):t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&g5(a,i.filters[u]),!0):!1}(t,e):void le()}function v5(t,e){const n=t.filters.concat(e);return rt.create(n,t.op)}function y5(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${qd(n.value)}`}(t):t instanceof rt?function(n){return n.op.toString()+" {"+n.getFilters().map(y5).join(" ,")+"}"}(t):"Filter"}class DJ extends ze{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class OJ extends ze{constructor(e,n){super(e,"in",n),this.keys=_5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LJ extends ze{constructor(e,n){super(e,"not-in",n),this.keys=_5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class MJ extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&Mm(n.arrayValue,this.value)}}class w5 extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mm(this.value.arrayValue,n)}}class VJ extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mm(this.value.arrayValue,n)}}class FJ extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function iT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new UJ(t,e,n,r,i,s,a)}function hu(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qd(r)).join(",")),e.ue=n}return e.ue}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UD(t.startAt,e.startAt)&&UD(t.endAt,e.endAt)}function hw(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fw(t,e){return t.filters.filter(n=>n instanceof ze&&n.field.isEqual(e))}function BD(t,e,n){let r=s_,i=!0;for(const s of fw(t,e)){let a=s_,u=!0;switch(s.op){case"<":case"<=":a=RJ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=s_}MD({value:r,inclusive:i},{value:a,inclusive:u})<0&&(r=a,i=u)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];MD({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function jD(t,e,n){let r=fa,i=!0;for(const s of fw(t,e)){let a=fa,u=!0;switch(s.op){case">=":case">":a=xJ(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=fa}VD({value:r,inclusive:i},{value:a,inclusive:u})>0&&(r=a,i=u)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];VD({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function E5(t,e,n,r,i,s,a,u){return new Co(t,e,n,r,i,s,a,u)}function yh(t){return new Co(t)}function zD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nA(t){return t.collectionGroup!==null}function Cd(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new ot(Ct.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fm(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new Fm(Ct.keyField(),r))}return e.ce}function fr(t){const e=oe(t);return e.le||(e.le=BJ(e,Cd(t))),e.le}function BJ(t,e){if(t.limitType==="F")return iT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fm(i.field,s)});const n=t.endAt?new Ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ua(t.startAt.position,t.startAt.inclusive):null;return iT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sT(t,e){const n=t.filters.concat([e]);return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pw(t,e,n){return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yg(t,e){return vg(fr(t),fr(e))&&t.limitType===e.limitType}function I5(t){return`${hu(fr(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y5(i)).join(", ")}]`),gg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qd(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Cd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=FD(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,Cd(r),i)||r.endAt&&!function(a,u,c){const h=FD(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,Cd(r),i))}(t,e)}function b5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T5(t){return(e,n)=>{let r=!1;for(const i of Cd(t)){const s=jJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jJ(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?Fa(c,h):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return c5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=new ht(ie.comparator);function Pr(){return zJ}const S5=new ht(ie.comparator);function yp(...t){let e=S5;for(const n of t)e=e.insert(n.key,n);return e}function C5(t){let e=S5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return jp()}function A5(){return jp()}function jp(){return new Ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const $J=new ht(ie.comparator),GJ=new ot(ie.comparator);function Pe(...t){let e=GJ;for(const n of t)e=e.add(n);return e}const qJ=new ot(Se);function rA(){return qJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Om(e)?"-0":e}}function k5(t){return{integerValue:""+t}}function R5(t,e){return i5(e)?k5(e):P5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this._=void 0}}function WJ(t,e,n){return t instanceof Hd?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I0(s)&&(s=eA(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof fu?N5(t,e):t instanceof pu?D5(t,e):function(i,s){const a=x5(i,s),u=$D(a)+$D(i.Pe);return tT(a)&&tT(i.Pe)?k5(u):P5(i.serializer,u)}(t,e)}function HJ(t,e,n){return t instanceof fu?N5(t,e):t instanceof pu?D5(t,e):n}function x5(t,e){return t instanceof Kd?function(r){return tT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hd extends b0{}class fu extends b0{constructor(e){super(),this.elements=e}}function N5(t,e){const n=O5(e);for(const r of t.elements)n.some(i=>Ps(i,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends b0{constructor(e){super(),this.elements=e}}function D5(t,e){let n=O5(e);for(const r of t.elements)n=n.filter(i=>!Ps(i,r));return{arrayValue:{values:n}}}class Kd extends b0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $D(t){return $t(t.integerValue||t.doubleValue)}function O5(t){return Vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.field=e,this.transform=n}}function KJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?Gd(r.elements,i.elements,Ps):r instanceof Kd&&i instanceof Kd?Ps(r.Pe,i.Pe):r instanceof Hd&&i instanceof Hd}(t.transform,e.transform)}class YJ{constructor(e,n){this.version=e,this.transformResults=n}}class At{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class T0{}function L5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wh(t.key,At.none()):new _h(t.key,t.data,At.none());{const n=t.data,r=Gn.empty();let i=new ot(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ao(t.key,r,new Ar(i.toArray()),At.none())}}function QJ(t,e,n){t instanceof _h?function(i,s,a){const u=i.value.clone(),c=qD(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(i,s,a){if(!a_(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=qD(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(M5(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function zp(t,e,n,r){return t instanceof _h?function(s,a,u,c){if(!a_(s.precondition,a))return u;const h=s.value.clone(),m=WD(s.fieldTransforms,c,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(s,a,u,c){if(!a_(s.precondition,a))return u;const h=WD(s.fieldTransforms,c,a),m=a.data;return m.setAll(M5(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return a_(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function XJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=x5(r.transform,i||null);s!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,s))}return n||null}function GD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gd(r,i,(s,a)=>KJ(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _h extends T0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends T0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qD(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,HJ(a,u,n[i]))}return r}function WD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,WJ(s,a,e))}return r}class wh extends T0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iA extends T0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A5();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=L5(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Gd(this.mutations,e.mutations,(n,r)=>GD(n,r))&&Gd(this.baseMutations,e.baseMutations,(n,r)=>GD(n,r))}}class oA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return $J}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new oA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,He;function V5(t){switch(t){default:return le();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function F5(t){if(t===void 0)return tn("GRPC error has no .code"),q.UNKNOWN;switch(t){case un.OK:return q.OK;case un.CANCELLED:return q.CANCELLED;case un.UNKNOWN:return q.UNKNOWN;case un.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case un.INTERNAL:return q.INTERNAL;case un.UNAVAILABLE:return q.UNAVAILABLE;case un.UNAUTHENTICATED:return q.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case un.NOT_FOUND:return q.NOT_FOUND;case un.ALREADY_EXISTS:return q.ALREADY_EXISTS;case un.PERMISSION_DENIED:return q.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case un.ABORTED:return q.ABORTED;case un.OUT_OF_RANGE:return q.OUT_OF_RANGE;case un.UNIMPLEMENTED:return q.UNIMPLEMENTED;case un.DATA_LOSS:return q.DATA_LOSS;default:return le()}}(He=un||(un={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=new Ql([4294967295,4294967295],0);function HD(t){const e=U5().encode(t),n=new $3;return n.update(e),new Uint8Array(n.digest())}function KD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ql([n,r],0),new Ql([i,s],0)]}class lA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _p(`Invalid padding: ${n}`);if(r<0)throw new _p(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _p(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _p(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ql.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ql.fromNumber(r)));return i.compare(ZJ)===1&&(i=new Ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=HD(e),[r,i]=KD(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new lA(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=HD(e),[r,i]=KD(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _p extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ig.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eg(_e.min(),i,new ht(Se),Pr(),Pe())}}class Ig{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ig(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class B5{constructor(e,n){this.targetId=e,this.me=n}}class j5{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YD{constructor(){this.fe=0,this.ge=XD(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ig(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=XD()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=QD(),this.Qe=new ht(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(hw(s))if(r===0){const a=new ie(s.path);this.Ue(n,a,_t.newNoDocument(a,_e.min()))}else ve(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=Ma(r).toUint8Array()}catch(c){if(c instanceof d5)return Hi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new lA(a,i,s)}catch(c){return Hi(c instanceof _p?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&hw(u.target)){const c=new ie(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,_t.newNoDocument(c,e))}s.be&&(n.set(a,s.Ce()),s.ve())}});let r=Pe();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Eg(e,n,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=QD(),this.Qe=new ht(Se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YD,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YD),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function QD(){return new ht(ie.comparator)}function XD(){return new ht(ie.comparator)}const tZ={asc:"ASCENDING",desc:"DESCENDING"},nZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rZ={and:"AND",or:"OR"};class iZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oT(t,e){return t.useProto3Json||gg(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sZ(t,e){return Yd(t,e.toTimestamp())}function nn(t){return ve(!!t),_e.fromTimestamp(function(n){const r=go(n);return new Pt(r.seconds,r.nanos)}(t))}function uA(t,e){return aT(t,e).canonicalString()}function aT(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $5(t){const e=je.fromString(t);return ve(Z5(e)),e}function Um(t,e){return uA(t.databaseId,e.path)}function Ss(t,e){const n=$5(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(W5(n))}function G5(t,e){return uA(t.databaseId,e)}function q5(t){const e=$5(t);return e.length===4?je.emptyPath():W5(e)}function lT(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W5(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JD(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function H5(t,e,n){const r=Ss(t,e.name),i=nn(e.updateTime),s=e.createTime?nn(e.createTime):_e.min(),a=new Gn({mapValue:{fields:e.fields}}),u=_t.newFoundDocument(r,i,s,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function oZ(t,e){return"found"in e?function(r,i){ve(!!i.found),i.found.name,i.found.updateTime;const s=Ss(r,i.found.name),a=nn(i.found.updateTime),u=i.found.createTime?nn(i.found.createTime):_e.min(),c=new Gn({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,a,u,c)}(t,e):"missing"in e?function(r,i){ve(!!i.missing),ve(!!i.readTime);const s=Ss(r,i.missing),a=nn(i.readTime);return _t.newNoDocument(s,a)}(t,e):le()}function aZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(ve(m===void 0||typeof m=="string"),wn.fromBase64String(m||"")):(ve(m===void 0||m instanceof Buffer||m instanceof Uint8Array),wn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const m=h.code===void 0?q.UNKNOWN:F5(h.code);return new Q(m,h.message||"")}(a);n=new j5(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ss(t,r.document.name),s=nn(r.document.updateTime),a=r.document.createTime?nn(r.document.createTime):_e.min(),u=new Gn({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(i,s,a,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new l_(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ss(t,r.document),s=r.readTime?nn(r.readTime):_e.min(),a=_t.newNoDocument(i,s),u=r.removedTargetIds||[];n=new l_([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ss(t,r.document),s=r.removedTargetIds||[];n=new l_([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new JJ(i,s),u=r.targetId;n=new B5(u,a)}}return n}function Bm(t,e){let n;if(e instanceof _h)n={update:JD(t,e.key,e.value)};else if(e instanceof wh)n={delete:Um(t,e.key)};else if(e instanceof Ao)n={update:JD(t,e.key,e.data),updateMask:fZ(e.fieldMask)};else{if(!(e instanceof iA))return le();n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof Hd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Kd)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function uT(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?At.updateTime(nn(s.updateTime)):s.exists!==void 0?At.exists(s.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let c=null;if("setToServerValue"in u)ve(u.setToServerValue==="REQUEST_TIME"),c=new Hd;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];c=new fu(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];c=new pu(m)}else"increment"in u?c=new Kd(a,u.increment):le();const h=Ct.fromServerFormat(u.fieldPath);return new wg(h,c)}(t,i)):[];if(e.update){e.update.name;const i=Ss(t,e.update.name),s=new Gn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const h=c.fieldPaths||[];return new Ar(h.map(m=>Ct.fromServerFormat(m)))}(e.updateMask);return new Ao(i,s,a,n,r)}return new _h(i,s,n,r)}if(e.delete){const i=Ss(t,e.delete);return new wh(i,n)}if(e.verify){const i=Ss(t,e.verify);return new iA(i,n)}return le()}function lZ(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?nn(i.updateTime):nn(s);return a.isEqual(_e.min())&&(a=nn(s)),new YJ(a,i.transformResults||[])}(n,e))):[]}function K5(t,e){return{documents:[G5(t,e.path)]}}function Y5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G5(t,i);const s=function(h){if(h.length!==0)return J5(rt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Kc(_.field),direction:cZ(_.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=oT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function Q5(t){let e=q5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const _=X5(g);return _ instanceof rt&&tA(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(A){return new Fm(Yc(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,gg(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(g){const _=!!g.before,I=g.values||[];return new Ua(I,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,I=g.values||[];return new Ua(I,_)}(n.endAt)),E5(e,i,a,s,u,"F",c,h)}function uZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yc(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yc(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yc(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yc(n.unaryFilter.field);return ze.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Yc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rt.create(n.compositeFilter.filters.map(r=>X5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function cZ(t){return tZ[t]}function dZ(t){return nZ[t]}function hZ(t){return rZ[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Yc(t){return Ct.fromServerFormat(t.fieldPath)}function J5(t){return t instanceof ze?function(n){if(n.op==="=="){if(LD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(OD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(OD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:dZ(n.op),value:n.value}}}(t):t instanceof rt?function(n){const r=n.getFilters().map(i=>J5(i));return r.length===1?r[0]:{compositeFilter:{op:hZ(n.op),filters:r}}}(t):le()}function fZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=_e.min(),a=_e.min(),u=wn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.ct=e}}function pZ(t,e){let n;if(e.document)n=H5(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ie.fromSegments(e.noDocument.path),i=gu(e.noDocument.readTime);n=_t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{const r=ie.fromSegments(e.unknownDocument.path),i=gu(e.unknownDocument.version);n=_t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Pt(i[0],i[1]);return _e.fromTimestamp(s)}(e.readTime)),n}function ZD(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,a){return{name:Um(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Yd(s,a.version.toTimestamp()),createTime:Yd(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mu(e.version)};else{if(!e.isUnknownDocument())return le();r.unknownDocument={path:n.path.toArray(),version:mu(e.version)}}return r}function mw(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gu(t){const e=new Pt(t.seconds,t.nanoseconds);return _e.fromTimestamp(e)}function Rl(t,e){const n=(e.baseMutations||[]).map(s=>uT(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>uT(t.ct,s)),i=Pt.fromMillis(e.localWriteTimeMs);return new sA(e.batchId,i,n,r)}function wp(t){const e=gu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?gu(t.lastLimboFreeSnapshotVersion):_e.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ve(s.documents.length===1),fr(yh(q5(s.documents[0])))}(t.query):function(s){return fr(Q5(s))}(t.query),new no(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wn.fromBase64String(t.resumeToken))}function t6(t,e){const n=mu(e.snapshotVersion),r=mu(e.lastLimboFreeSnapshotVersion);let i;i=hw(e.target)?K5(t.ct,e.target):Y5(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cA(t){const e=Q5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pw(e,e.limit,"L"):e}function hI(t,e){return new aA(e.largestBatchId,uT(t.ct,e.overlayMutation))}function eO(t,e){const n=e.path.lastSegment();return[t,hr(e.path.popLast()),n]}function tO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:mu(r.readTime),documentKey:hr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{getBundleMetadata(e,n){return nO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:gu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return nO(e).put(function(i){return{bundleId:i.id,createTime:mu(nn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return rO(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:cA(s.bundledQuery),readTime:gu(s.readTime)}}(r)})}saveNamedQuery(e,n){return rO(e).put(function(i){return{name:i.name,readTime:mu(nn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function nO(t){return Ln(t,"bundles")}function rO(t){return Ln(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new S0(e,r)}getOverlay(e,n){return ip(e).get(eO(this.userId,n)).next(r=>r?hI(this.serializer,r):null)}getOverlays(e,n){const r=ws();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,a)=>{const u=new aA(n,a);i.push(this.ht(e,u))}),$.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(hr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(ip(e).j("collectionPathOverlayIndex",u))}),$.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ws(),s=hr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ip(e).U("collectionPathOverlayIndex",a).next(u=>{for(const c of u){const h=hI(this.serializer,c);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ws();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ip(e).J({index:"collectionGroupOverlayIndex",range:u},(c,h,m)=>{const g=hI(this.serializer,h);s.size()<i||g.largestBatchId===a?(s.set(g.getKey(),g),a=g.largestBatchId):m.done()}).next(()=>s)}ht(e,n){return ip(e).put(function(i,s,a){const[u,c,h]=eO(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:h,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Bm(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function ip(t){return Ln(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($t(e.integerValue));else if("doubleValue"in e){const r=$t(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Om(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=go(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ma(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?h5(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):le()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ie.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}xl.bt=new xl;function gZ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function iO(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const a=gZ(255&r[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class vZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=iO(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=iO(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yZ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class _Z{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class sp{constructor(){this.Gt=new vZ,this.zt=new yZ(this.Gt),this.jt=new _Z(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Nl(this.indexId,this.documentKey,this.arrayValue,r)}}function ea(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=sO(t.arrayValue,e.arrayValue),n!==0?n:(n=sO(t.directionalValue,e.directionalValue),n!==0?n:ie.comparator(t.documentKey,e.documentKey)))}function sO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.Yt=new ot((n,r)=>Ct.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ve(e.collectionGroup===this.collectionId),this.en)return!1;const n=Jb(e);if(n!==void 0&&!this.nn(n))return!1;const r=Pl(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const u=this.Yt.getIterator().getNext();if(!i.has(u.field.canonicalString())){const c=r[s];if(!this.rn(u,c)||!this.sn(this.Zt[a++],c))return!1}++s}for(;s<r.length;++s){const u=r[s];if(a>=this.Zt.length||!this.sn(this.Zt[a++],u))return!1}return!0}on(){if(this.en)return null;let e=new ot(Ct.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new r_(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new r_(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new r_(r.field,r.dir==="asc"?0:1)));return new dw(dw.UNKNOWN_ID,this.collectionId,n,Dm.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){var e,n;if(ve(t instanceof ze||t instanceof rt),t instanceof ze){if(t instanceof w5){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ze.create(t.field,"==",s)))||[];return rt.create(i,"or")}return t}const r=t.filters.map(i=>n6(i));return rt.create(r,t.op)}function wZ(t){if(t.getFilters().length===0)return[];const e=hT(n6(t));return ve(r6(e)),cT(e)||dT(e)?[e]:e.getFilters()}function cT(t){return t instanceof ze}function dT(t){return t instanceof rt&&tA(t)}function r6(t){return cT(t)||dT(t)||function(n){if(n instanceof rt&&nT(n)){for(const r of n.getFilters())if(!cT(r)&&!dT(r))return!1;return!0}return!1}(t)}function hT(t){if(ve(t instanceof ze||t instanceof rt),t instanceof ze)return t;if(t.filters.length===1)return hT(t.filters[0]);const e=t.filters.map(r=>hT(r));let n=rt.create(e,t.op);return n=gw(n),r6(n)?n:(ve(n instanceof rt),ve(Wd(n)),ve(n.filters.length>1),n.filters.reduce((r,i)=>dA(r,i)))}function dA(t,e){let n;return ve(t instanceof ze||t instanceof rt),ve(e instanceof ze||e instanceof rt),n=t instanceof ze?e instanceof ze?function(i,s){return rt.create([i,s],"and")}(t,e):aO(t,e):e instanceof ze?aO(e,t):function(i,s){if(ve(i.filters.length>0&&s.filters.length>0),Wd(i)&&Wd(s))return v5(i,s.getFilters());const a=nT(i)?i:s,u=nT(i)?s:i,c=a.filters.map(h=>dA(h,u));return rt.create(c,"or")}(t,e),gw(n)}function aO(t,e){if(Wd(e))return v5(e,t.getFilters());{const n=e.filters.map(r=>dA(t,r));return rt.create(n,"or")}}function gw(t){if(ve(t instanceof ze||t instanceof rt),t instanceof ze)return t;const e=t.getFilters();if(e.length===1)return gw(e[0]);if(m5(t))return t;const n=e.map(i=>gw(i)),r=[];return n.forEach(i=>{i instanceof ze?r.push(i):i instanceof rt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this._n=new hA}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Yr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class hA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Uint8Array(0);class IZ{constructor(e,n){this.databaseId=n,this.an=new hA,this.un=new Ja(r=>hu(r),(r,i)=>vg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:hr(i)};return lO(e).put(s)}return $.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[J3(n),""],!1,!0);return lO(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==n)break;r.push(_s(a.parent))}return r})}addFieldIndex(e,n){const r=op(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Gc(e);return s.next(u=>{a.put(tO(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=op(e),i=Gc(e),s=$c(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=op(e),r=$c(e),i=Gc(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return $.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new oO(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=$c(e);let i=!0;const s=new Map;return $.forEach(this.cn(n),a=>this.ln(e,a).next(u=>{i&&(i=!!u),s.set(a,u)})).next(()=>{if(i){let a=Pe();const u=[];return $.forEach(s,(c,h)=>{X("IndexedDbIndexManager",`Using index ${function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`}(c)} to execute ${hu(n)}`);const m=function(R,V){const B=Jb(V);if(B===void 0)return null;for(const j of fw(R,B.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(h,c),g=function(R,V){const B=new Map;for(const j of Pl(V))for(const N of fw(R,j.fieldPath))switch(N.op){case"==":case"in":B.set(j.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return B.set(j.fieldPath.canonicalString(),N.value),Array.from(B.values())}return null}(h,c),_=function(R,V){const B=[];let j=!0;for(const N of Pl(V)){const k=N.kind===0?BD(R,N.fieldPath,R.startAt):jD(R,N.fieldPath,R.startAt);B.push(k.value),j&&(j=k.inclusive)}return new Ua(B,j)}(h,c),I=function(R,V){const B=[];let j=!0;for(const N of Pl(V)){const k=N.kind===0?jD(R,N.fieldPath,R.endAt):BD(R,N.fieldPath,R.endAt);B.push(k.value),j&&(j=k.inclusive)}return new Ua(B,j)}(h,c),A=this.hn(c,h,_),E=this.hn(c,h,I),C=this.Pn(c,h,g),b=this.In(c.indexId,m,A,_.inclusive,E,I.inclusive,C);return $.forEach(b,S=>r.G(S,n.limit).next(R=>{R.forEach(V=>{const B=ie.fromSegments(V.documentKey);a.has(B)||(a=a.add(B),u.push(B))})}))}).next(()=>u)}return $.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=wZ(rt.create(e.filters,"and")).map(r=>iT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),h=c/(n!=null?n.length:1),m=[];for(let g=0;g<c;++g){const _=n?this.Tn(n[g/h]):Ey,I=this.En(e,_,r[g%h],i),A=this.dn(e,_,s[g%h],a),E=u.map(C=>this.En(e,_,C,!0));m.push(...this.createRange(I,A,E))}return m}En(e,n,r,i){const s=new Nl(e,ie.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Nl(e,ie.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new oO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const u of s)r.tn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(e,n){let r=2;const i=this.cn(n);return $.forEach(i,s=>this.ln(e,s).next(a=>{a?r!==0&&a.fields.length<function(c){let h=new ot(Ct.comparator),m=!1;for(const g of c.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of c.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new sp;for(const i of Pl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Ht(i.kind);xl.bt.Pt(s,a)}return r.Wt()}Tn(e){const n=new sp;return xl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new sp;return xl.bt.Pt(du(this.databaseId,n),r.Ht(function(s){const a=Pl(s);return a.length===0?0:a[a.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new sp);let s=0;for(const a of Pl(e)){const u=r[s++];for(const c of i)if(this.Vn(n,a.fieldPath)&&Vm(u))i=this.mn(i,a,u);else{const h=c.Ht(a.kind);xl.bt.Pt(u,h)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const u of i){const c=new sp;c.seed(u.Wt()),xl.bt.Pt(a,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=op(e),i=Gc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const a=[];return $.forEach(s,u=>i.get([u.indexId,this.uid]).next(c=>{a.push(function(m,g){const _=g?new Dm(g.sequenceNumber,new Yr(gu(g.readTime),new ie(_s(g.documentKey)),g.largestBatchId)):Dm.empty(),I=m.fields.map(([A,E])=>new r_(Ct.fromServerFormat(A),E));return new dw(m.indexId,m.collectionGroup,I,_)}(u,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Se(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=op(e),s=Gc(e);return this.gn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(u=>$.forEach(u,c=>s.put(tO(c.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(i,s)=>{const a=r.get(i.collectionGroup);return(a?$.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),$.forEach(u,c=>this.pn(e,i,c).next(h=>{const m=this.yn(s,c);return h.isEqual(m)?$.resolve():this.wn(e,s,c,h,m)}))))})}Sn(e,n,r,i){return $c(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return $c(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=$c(e);let s=new ot(ea);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(a,u)=>{s=s.add(new Nl(r.indexId,n,u.arrayValue,u.directionalValue))}).next(()=>s)}yn(e,n){let r=new ot(ea);const i=this.An(n,e);if(i==null)return r;const s=Jb(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Vm(a))for(const u of a.arrayValue.values||[])r=r.add(new Nl(n.indexId,e.key,this.Tn(u),i))}else r=r.add(new Nl(n.indexId,e.key,Ey,i));return r}wn(e,n,r,i,s){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(c,h,m,g,_){const I=c.getIterator(),A=h.getIterator();let E=zc(I),C=zc(A);for(;E||C;){let b=!1,S=!1;if(E&&C){const R=m(E,C);R<0?S=!0:R>0&&(b=!0)}else E!=null?S=!0:b=!0;b?(g(C),C=zc(A)):S?(_(E),E=zc(I)):(E=zc(I),C=zc(A))}}(i,s,ea,u=>{a.push(this.Sn(e,n,r,u))},u=>{a.push(this.bn(e,n,r,u))}),$.waitFor(a)}gn(e){let n=1;return Gc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,u)=>ea(a,u)).filter((a,u,c)=>!u||ea(a,c[u-1])!==0);const i=[];i.push(e);for(const a of r){const u=ea(a,e),c=ea(a,n);if(u===0)i[0]=e.Jt();else if(u>0&&c<0)i.push(a),i.push(a.Jt());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Dn(i[a],i[a+1]))return[];const u=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Ey,[]],c=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Ey,[]];s.push(IDBKeyRange.bound(u,c))}return s}Dn(e,n){return ea(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uO)}getMinOffset(e,n){return $.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||le())).next(uO)}}function lO(t){return Ln(t,"collectionParents")}function $c(t){return Ln(t,"indexEntries")}function op(t){return Ln(t,"indexConfiguration")}function Gc(t){return Ln(t,"indexState")}function uO(t){ve(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;JC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class br{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.J({range:a},(m,g,_)=>(u++,_.delete()));s.push(c.next(()=>{ve(u===1)}));const h=[];for(const m of n.mutations){const g=s5(e,m.key.path,n.batchId);s.push(i.delete(g)),h.push(m.key)}return $.waitFor(s).next(()=>h)}function vw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(41943040,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);class C0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ve(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new C0(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).J({index:"userMutationsIndex",range:r},(i,s,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Qc(e),a=ta(e);return a.add({}).next(u=>{ve(typeof u=="number");const c=new sA(u,n,r,i),h=function(I,A,E){const C=E.baseMutations.map(S=>Bm(I.ct,S)),b=E.mutations.map(S=>Bm(I.ct,S));return{userId:A,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:C,mutations:b}}(this.serializer,this.userId,c),m=[];let g=new ot((_,I)=>Se(_.canonicalString(),I.canonicalString()));for(const _ of i){const I=s5(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(a.put(h)),m.push(s.put(I,cJ))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Cn[u]=c.keys()}),$.waitFor(m).next(()=>c)})}lookupMutationBatch(e,n){return ta(e).get(n).next(r=>r?(ve(r.userId===this.userId),Rl(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?$.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ta(e).J({index:"userMutationsIndex",range:i},(a,u,c)=>{u.userId===this.userId&&(ve(u.batchId>=r),s=Rl(this.serializer,u)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ta(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).U("userMutationsIndex",n).next(r=>r.map(i=>Rl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=i_(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Qc(e).J({range:i},(a,u,c)=>{const[h,m,g]=a,_=_s(m);if(h===this.userId&&n.path.isEqual(_))return ta(e).get(g).next(I=>{if(!I)throw le();ve(I.userId===this.userId),s.push(Rl(this.serializer,I))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Se);const i=[];return n.forEach(s=>{const a=i_(this.userId,s.path),u=IDBKeyRange.lowerBound(a),c=Qc(e).J({range:u},(h,m,g)=>{const[_,I,A]=h,E=_s(I);_===this.userId&&s.path.isEqual(E)?r=r.add(A):g.done()});i.push(c)}),$.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=i_(this.userId,r),a=IDBKeyRange.lowerBound(s);let u=new ot(Se);return Qc(e).J({range:a},(c,h,m)=>{const[g,_,I]=c,A=_s(_);g===this.userId&&r.isPrefixOf(A)?A.length===i&&(u=u.add(I)):m.done()}).next(()=>this.Fn(e,u))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ta(e).get(s).next(a=>{if(a===null)throw le();ve(a.userId===this.userId),r.push(Rl(this.serializer,a))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return i6(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return Qc(e).J({range:r},(s,a,u)=>{if(s[0]===this.userId){const c=_s(s[1]);i.push(c)}else u.done()}).next(()=>{ve(i.length===0)})})}containsKey(e,n){return s6(e,this.userId,n)}xn(e){return o6(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function s6(t,e,n){const r=i_(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Qc(t).J({range:s,H:!0},(u,c,h)=>{const[m,g,_]=u;m===e&&g===i&&(a=!0),h.done()}).next(()=>a)}function ta(t){return Ln(t,"mutations")}function Qc(t){return Ln(t,"documentMutations")}function o6(t){return Ln(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vu(0)}static Ln(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new vu(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>_e.fromTimestamp(new Pt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ve(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return qc(e).J((a,u)=>{const c=wp(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>$.waitFor(s)).next(()=>i)}forEachTarget(e,n){return qc(e).J((r,i)=>{const s=wp(i);n(s)})}Bn(e){return dO(e).get("targetGlobalKey").next(n=>(ve(n!==null),n))}kn(e,n){return dO(e).put("targetGlobalKey",n)}qn(e,n){return qc(e).put(t6(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=hu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return qc(e).J({range:i,index:"queryTargetsIndex"},(a,u,c)=>{const h=wp(u);vg(n,h.target)&&(s=h,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=la(e);return n.forEach(a=>{const u=hr(a.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,a))}),$.waitFor(i)}removeMatchingKeys(e,n,r){const i=la(e);return $.forEach(n,s=>{const a=hr(s.path);return $.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=la(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=la(e);let s=Pe();return i.J({range:r,H:!0},(a,u,c)=>{const h=_s(a[1]),m=new ie(h);s=s.add(m)}).next(()=>s)}containsKey(e,n){const r=hr(n.path),i=IDBKeyRange.bound([r],[J3(r)],!1,!0);let s=0;return la(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,u],c,h)=>{a!==0&&(s++,h.done())}).next(()=>s>0)}ot(e,n){return qc(e).get(n).next(r=>r?wp(r):null)}}function qc(t){return Ln(t,"targets")}function dO(t){return Ln(t,"targetGlobal")}function la(t){return Ln(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class TZ{constructor(e){this.Kn=e,this.buffer=new ot(hO),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xa(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.zn(3e5)})}}class CZ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Cr.oe);const r=new TZ(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(cO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cO):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,a,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Wc()<=De.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function AZ(t,e){return new CZ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n){this.db=e,this.garbageCollector=AZ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Iy(e,r)}removeReference(e,n,r){return Iy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Iy(e,n)}er(e,n){return function(i,s){let a=!1;return o6(i).Y(u=>s6(i,u,s).next(c=>(c&&(a=!0),$.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(a,u)=>{if(u<=n){const c=this.er(e,a).next(h=>{if(!h)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,_e.min()),la(e).delete(function(g){return[0,hr(g.path)]}(a))))});i.push(c)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Iy(e,n)}Xn(e,n){const r=la(e);let i,s=Cr.oe;return r.J({index:"documentTargetsIndex"},([a,u],{path:c,sequenceNumber:h})=>{a===0?(s!==Cr.oe&&n(new ie(_s(i)),s),s=h,i=c):s=Cr.oe}).next(()=>{s!==Cr.oe&&n(new ie(_s(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iy(t,e){return la(t).put(function(r,i){return{targetId:0,path:hr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return bl(e).put(r)}removeEntry(e,n,r){return bl(e).delete(function(s,a){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],mw(a),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=_t.newInvalidDocument(n);return bl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ap(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:_t.newInvalidDocument(n)};return bl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ap(n))},(i,s)=>{r={document:this.nr(n,s),size:vw(s)}}).next(()=>r)}getEntries(e,n){let r=Pr();return this.ir(e,n,(i,s)=>{const a=this.nr(i,s);r=r.insert(i,a)}).next(()=>r)}sr(e,n){let r=Pr(),i=new ht(ie.comparator);return this.ir(e,n,(s,a)=>{const u=this.nr(s,a);r=r.insert(s,u),i=i.insert(s,vw(a))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return $.resolve();let i=new ot(mO);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(ap(i.first()),ap(i.last())),a=i.getIterator();let u=a.getNext();return bl(e).J({index:"documentKeyIndex",range:s},(c,h,m)=>{const g=ie.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&mO(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?m.$(ap(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),mw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bl(e).U(IDBKeyRange.bound(u,c,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=Pr();for(const g of h){const _=this.nr(ie.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(_g(n,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,n,r,i){let s=Pr();const a=pO(n,r),u=pO(n,Yr.max());return bl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(c,h,m)=>{const g=this.nr(ie.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new RZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fO(e).get("remoteDocumentGlobalKey").next(n=>(ve(!!n),n))}tr(e,n){return fO(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=pZ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_e.min())))return r}return _t.newInvalidDocument(e)}}function l6(t){return new kZ(t)}class RZ extends a6{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ja(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ot((s,a)=>Se(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,u.readTime)),a.isValidDocument()){const c=ZD(this.ar.serializer,a);i=i.add(s.path.popLast());const h=vw(c);r+=h-u.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=u.size,this.trackRemovals){const c=ZD(this.ar.serializer,a.convertToNoDocument(_e.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,a)=>{this.ur.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function fO(t){return Ln(t,"remoteDocumentGlobal")}function bl(t){return Ln(t,"remoteDocumentsV14")}function ap(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pO(t,e){const n=e.documentKey.path.toArray();return[t,mw(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Se(n[s],r[s]),i)return i;return i=Se(n.length,r.length),i||(i=Se(n[n.length-2],r[r.length-2]),i||Se(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zp(r.mutation,i,Ar.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=yp();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=Pr();const a=jp(),u=function(){return jp()}();return n.forEach((c,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Ao)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),zp(m.mutation,h,m.mutation.getFieldMask(),Pt.now())):a.set(h.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var g;return u.set(h,new xZ(m,(g=a.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=jp();let i=new ht((a,u)=>a-u),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||Ar.empty();m=u.applyToLocalView(h,m),r.set(c,m);const g=(i.get(u.batchId)||Pe()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,g=A5();m.forEach(_=>{if(!s.has(_)){const I=L5(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ws());let u=-1,c=s;return a.next(h=>$.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?$.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{c=c.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Pe())).next(m=>({batchId:u,changes:C5(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=yp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=yp();return this.indexManager.getCollectionParents(e,s).next(u=>$.forEach(u,c=>{const h=function(g,_){return new Co(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,_t.newInvalidDocument(m)))});let u=yp();return a.forEach((c,h)=>{const m=s.get(c);m!==void 0&&zp(m.mutation,h,Ar.empty(),Pt.now()),_g(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:cA(i.bundledQuery),readTime:nn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this.overlays=new ht(ie.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,a=new ie(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht((h,m)=>h-m);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=ws(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=ws(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return $.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aA(n,r));let s=this.hr.get(n);s===void 0&&(s=Pe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Pr=new ot(Pn.Ir),this.Tr=new ot(Pn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Pn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new je([])),r=new Pn(n,e),i=new Pn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new je([])),r=new Pn(n,e),i=new Pn(n,e+1);let s=Pe();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Pn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ot(Pn.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new sA(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.wr=this.wr.add(new Pn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const u=this.Sr(a.pr);s.push(u)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Se);return n.forEach(i=>{const s=new Pn(i,0),a=new Pn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],u=>{r=r.add(u.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const a=new Pn(new ie(s),0);let u=new ot(Se);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.pr)),!0)},a),$.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,i=>{const s=new Pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Pn(n,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e){this.vr=e,this.docs=function(){return new ht(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pr();const a=n.path,u=new ie(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||JC(e5(m),r)<=0||(i.has(m.key)||_g(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MZ(this)}getSize(e){return $.resolve(this.size)}}class MZ extends a6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(e){this.persistence=e,this.Mr=new Ja(n=>hu(n),vg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fA,this.targetCount=0,this.Lr=vu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.Br={},this.overlays={},this.kr=new Cr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new VZ(this),this.indexManager=new EZ,this.remoteDocumentCache=function(i){return new LZ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new e6(n),this.$r=new NZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new OZ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new FZ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class FZ extends n5{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.zr=new fA,this.jr=null}static Hr(e){return new A0(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e){this.serializer=e}O(e,n,r,i){const s=new E0("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RD,{unique:!0}),c.createObjectStore("documentMutations")}(e),gO(e),function(c){c.createObjectStore("remoteDocuments")}(e));let a=$.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),gO(e)),a=a.next(()=>function(c){const h=c.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_e.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",m)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(c,h){return h.store("mutations").U().next(m=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RD,{unique:!0});const g=h.store("mutations"),_=m.map(I=>g.put(I));return $.waitFor(_)})}(e,s))),a=a.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.Xr(s))),r<6&&i>=6&&(a=a.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(a=a.next(()=>this.ti(s))),r<8&&i>=8&&(a=a.next(()=>this.ni(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.ri(s))),r<11&&i>=11&&(a=a.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(c){const h=c.createObjectStore("documentOverlays",{keyPath:IJ});h.createIndex("collectionPathOverlayIndex",bJ,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",TJ,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:dJ});h.createIndex("documentKeyIndex",hJ),h.createIndex("collectionGroupIndex",fJ)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.si(e,s))),r<15&&i>=15&&(a=a.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:yJ}).createIndex("sequenceNumberIndex",_J,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:wJ}).createIndex("documentKeyIndex",EJ,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),a}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vw(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>$.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(u=>$.forEach(u,c=>{ve(c.userId===s.userId);const h=Rl(this.serializer,c);return i6(e,s.userId,h).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((a,u)=>{const c=new je(a),h=function(g){return[0,hr(g)]}(c);s.push(n.get(h).next(m=>m?$.resolve():(g=>n.put({targetId:0,path:hr(g),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>$.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:vJ});const r=n.store("collectionParents"),i=new hA,s=a=>{if(i.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:hr(c)})}};return n.store("remoteDocuments").J({H:!0},(a,u)=>{const c=new je(a);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,u,c],h)=>{const m=_s(u);return s(m.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=wp(i),a=t6(this.serializer,s);return n.put(a)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,a)=>{const u=n.store("remoteDocumentsV14"),c=function(g){return g.document?new ie(je.fromString(g.document.name).popFirst(5)):g.noDocument?ie.fromSegments(g.noDocument.path):g.unknownDocument?ie.fromSegments(g.unknownDocument.path):le()}(a).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(u.put(h))}).next(()=>$.waitFor(i))}si(e,n){const r=n.store("mutations"),i=l6(this.serializer),s=new c6(A0.Hr,this.serializer.ct);return r.U().next(a=>{const u=new Map;return a.forEach(c=>{var h;let m=(h=u.get(c.userId))!==null&&h!==void 0?h:Pe();Rl(this.serializer,c).keys().forEach(g=>m=m.add(g)),u.set(c.userId,m)}),$.forEach(u,(c,h)=>{const m=new Rn(h),g=S0.lt(this.serializer,m),_=s.getIndexManager(m),I=C0.lt(m,this.serializer,_,s.referenceDelegate);return new u6(i,I,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Zb(n,Cr.oe),c).next()})})}}function gO(t){t.createObjectStore("targetDocuments",{keyPath:mJ}).createIndex("documentTargetsIndex",gJ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pJ,{unique:!0}),t.createObjectStore("targetGlobal")}const fI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pA{constructor(e,n,r,i,s,a,u,c,h,m,g=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=a,this.document=u,this._i=h,this.ai=m,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=_=>Promise.resolve(),!pA.D())throw new Q(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PZ(this,i),this.Ti=n+"main",this.serializer=new e6(c),this.Ei=new Ts(this.Ti,this.ui,new UZ(this.serializer)),this.Qr=new bZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=l6(this.serializer),this.$r=new mZ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,m===!1&&tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(q.FAILED_PRECONDITION,fI);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Cr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>by(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Xa(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return lp(e).get("owner").next(n=>$.resolve(this.Si(n)))}bi(e){return by(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ln(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),a=i.filter(u=>s.indexOf(u)===-1);return $.forEach(a,u=>r.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$.resolve(!0):lp(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Q(q.FAILED_PRECONDITION,fI);return!1}}return!(!this.networkEnabled||!this.inForeground)||by(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||a&&u)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Zb(e,Cr.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>by(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return C0.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IZ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return S0.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?CJ:c===15?u5:c===14?l5:c===13?a5:c===12?SJ:c===11?o5:void le()}(this.ui);let a;return this.Ei.runTransaction(e,i,s,u=>(a=new Zb(u,this.kr?this.kr.next():Cr.oe),n==="readwrite-primary"?this.gi(a).next(c=>!!c||this.pi(a)).next(c=>{if(!c)throw tn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Q(q.FAILED_PRECONDITION,t5);return r(a)}).next(c=>this.wi(a).next(()=>c)):this.ki(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}ki(e){return lp(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q(q.FAILED_PRECONDITION,fI)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lp(e).put("owner",n)}static D(){return Ts.D()}yi(e){const n=lp(e);return n.get("owner").next(r=>this.Si(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(tn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;uF()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){tn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lp(t){return Ln(t,"owner")}function by(t){return Ln(t,"clientMetadata")}function mA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return uF()?8:r5(kt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new BZ;return this.Ji(e,n,a).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,n,a,u.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Wc()<=De.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(Wc()<=De.DEBUG&&X("QueryEngine","Query:",Hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Wc()<=De.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):$.resolve())}ji(e,n){if(zD(n))return $.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pw(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Pe(...s);return this.zi.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,u);return this.Xi(n,h,a,c.readTime)?this.ji(e,pw(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return zD(n)||i.isEqual(_e.min())?$.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?$.resolve(null):(Wc()<=De.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hc(n)),this.es(e,a,n,Z3(i,-1)).next(u=>u))})}Zi(e,n){let r=new ot(T5(e));return n.forEach((i,s)=>{_g(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Wc()<=De.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Hc(n)),this.zi.getDocumentsMatchingQuery(e,n,Yr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ht(Se),this.rs=new Ja(s=>hu(s),vg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function h6(t,e,n,r){return new jZ(t,e,n,r)}async function f6(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=Pe();for(const h of i){a.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:a,addedBatchIds:u}))})})}function zZ(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(u,c,h,m){const g=h.batch,_=g.keys();let I=$.resolve();return _.forEach(A=>{I=I.next(()=>m.getEntry(c,A)).next(E=>{const C=h.docVersions.get(A);ve(C!==null),E.version.compareTo(C)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),m.addEntry(E)))})}),I.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Pe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function p6(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $Z(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(n.Qr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,m.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(wn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(g,I),function(E,C,b){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,I,m)&&u.push(n.Qr.updateTargetData(s,I))});let c=Pr(),h=Pe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(m6(s,a,e.documentUpdates).next(m=>{c=m.cs,h=m.ls})),!r.isEqual(_e.min())){const m=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return $.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function m6(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Pr();return n.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):X("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{cs:a,ls:i}})}function GZ(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qd(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new no(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Xd(t,e,n){const r=oe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Xa(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function yw(t,e,n){const r=oe(t);let i=_e.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,m){const g=oe(c),_=g.rs.get(m);return _!==void 0?$.resolve(g.ns.get(_)):g.Qr.getTargetData(h,m)}(r,a,fr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:_e.min(),n?s:Pe())).next(u=>(y6(r,b5(e),u),{documents:u,hs:s})))}function g6(t,e){const n=oe(t),r=oe(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(a=>a?a.target:null))}function v6(t,e){const n=oe(t),r=n.ss.get(e)||_e.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Z3(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(y6(n,e,i),i))}function y6(t,e,n){let r=t.ss.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function qZ(t,e,n,r){const i=oe(t);let s=Pe(),a=Pr();for(const h of n){const m=e.Ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.Is(h);g.setReadTime(e.Ts(h.metadata.readTime)),a=a.insert(m,g)}const u=i.os.newChangeBuffer({trackRemovals:!0}),c=await Qd(i,function(m){return fr(yh(je.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>m6(h,u,a).next(m=>(u.apply(h),m)).next(m=>i.Qr.removeMatchingKeysForTargetId(h,c.targetId).next(()=>i.Qr.addMatchingKeys(h,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.cs,m.ls)).next(()=>m.cs)))}async function WZ(t,e,n=Pe()){const r=await Qd(t,fr(cA(e.bundledQuery))),i=oe(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const a=nn(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.$r.saveNamedQuery(s,e);const u=r.withResumeToken(wn.EMPTY_BYTE_STRING,a);return i.ns=i.ns.insert(u.targetId,u),i.Qr.updateTargetData(s,u).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function vO(t,e){return`firestore_clients_${t}_${e}`}function yO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pI(t,e){return`firestore_targets_${t}_${e}`}class _w{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Q(i.error.code,i.error.message))),a?new _w(e,n,i.state,s):(tn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $p{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Q(r.error.code,r.error.message))),s?new $p(e,r.state,i):(tn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ww{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=rA();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=i5(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new ww(e,s):(tn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vA{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new vA(n.clientId,n.onlineState):(tn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fT{constructor(){this.activeTargetIds=rA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ht(Se),this.started=!1,this.ys=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=vO(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new fT),this.bs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(vO(this.persistenceKey,r));if(i){const s=ww.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pI(this.persistenceKey,e));if(r){const i=$p.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pI(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n}setItem(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(X("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let a=Cr.oe;if(s!=null)try{const u=JSON.parse(s);ve(typeof u=="number"),a=u}catch(u){tn("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(n.newValue);r!==Cr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new _w(this.currentUser,e,n,r),s=yO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=yO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=pI(this.persistenceKey,e),s=new $p(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return ww.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _w.Es(new Rn(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return $p.Es(i,n)}xs(e){return vA.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),a=[],u=[];return s.forEach(c=>{i.has(c)||a.push(c)}),i.forEach(c=>{s.has(c)||u.push(c)}),this.syncEngine.eo(a,u).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=rA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _6{constructor(){this.no=new fT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty=null;function gI(){return Ty===null?Ty=function(){return 268435456+Math.round(2147483648*Math.random())}():Ty++,"0x"+Ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class QZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,a){const u=gI(),c=this.vo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,s,a),this.Mo(n,c,h,i).then(m=>(X("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Hi("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",c,"request:",i),m})}xo(n,r,i,s,a,u){return this.Co(n,r,i,s,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}vo(n,r){const i=KZ[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=gI();return new Promise((a,u)=>{const c=new G3;c.setWithCredentials(!0),c.listenOnce(W3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case n_.NO_ERROR:const m=c.getResponseJson();X(Jn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case n_.TIMEOUT:X(Jn,`RPC '${e}' ${s} timed out`),u(new Q(q.DEADLINE_EXCEEDED,"Request time out"));break;case n_.HTTP_ERROR:const g=c.getStatus();if(X(Jn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const A=function(C){const b=C.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(I.status);u(new Q(A,I.message))}else u(new Q(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Q(q.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(Jn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);X(Jn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=gI(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Y3(),u=K3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new q3({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");X(Jn,`Creating RPC '${e}' stream ${i}: ${m}`,c);const g=a.createWebChannel(m,c);let _=!1,I=!1;const A=new YZ({lo:C=>{I?X(Jn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(X(Jn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),X(Jn,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},ho:()=>g.close()}),E=(C,b,S)=>{C.listen(b,R=>{try{S(R)}catch(V){setTimeout(()=>{throw V},0)}})};return E(g,vp.EventType.OPEN,()=>{I||(X(Jn,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),E(g,vp.EventType.CLOSE,()=>{I||(I=!0,X(Jn,`RPC '${e}' stream ${i} transport closed`),A.po())}),E(g,vp.EventType.ERROR,C=>{I||(I=!0,Hi(Jn,`RPC '${e}' stream ${i} transport errored:`,C),A.po(new Q(q.UNAVAILABLE,"The operation could not be completed")))}),E(g,vp.EventType.MESSAGE,C=>{var b;if(!I){const S=C.data[0];ve(!!S);const R=S,V=R.error||((b=R[0])===null||b===void 0?void 0:b.error);if(V){X(Jn,`RPC '${e}' stream ${i} received error:`,V);const B=V.status;let j=function(O){const F=un[O];if(F!==void 0)return F5(F)}(B),N=V.message;j===void 0&&(j=q.INTERNAL,N="Unknown error status: "+B+" with message "+V.message),I=!0,A.po(new Q(j,N)),g.close()}else X(Jn,`RPC '${e}' stream ${i} received:`,S),A.yo(S)}}),E(u,H3.STAT_EVENT,C=>{C.stat===Xb.PROXY?X(Jn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Xb.NOPROXY&&X(Jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(){return typeof window<"u"?window:null}function u_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return new iZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i,s,a,u,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new yA(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(tn(n.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Q(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XZ extends E6{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=aZ(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?nn(a.readTime):_e.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=lT(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=hw(c)?{documents:K5(s,c)}:{query:Y5(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=z5(s,a.resumeToken);const h=oT(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(_e.min())>0){u.readTime=Yd(s,a.snapshotVersion.toTimestamp());const h=oT(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=uZ(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=lT(this.serializer),n.removeTarget=e,this.i_(n)}}class JZ extends E6{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=lZ(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.A_(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=lT(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bm(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Q(q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,aT(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(q.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.xo(e,aT(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(q.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class eee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(tn(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget(async()=>{Za(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=oe(c);h.M_.add(4),await Eh(h),h.N_.set("Unknown"),h.M_.delete(4),await Tg(h)}(this))})}),this.N_=new eee(r,i)}}async function Tg(t){if(Za(t))for(const e of t.x_)await e(!0)}async function Eh(t){for(const e of t.x_)await e(!1)}function P0(t,e){const n=oe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),EA(n)?wA(n):bh(n).Xo()&&_A(n,e))}function Jd(t,e){const n=oe(t),r=bh(n);n.F_.delete(e),r.Xo()&&I6(n,e),n.F_.size===0&&(r.Xo()?r.n_():Za(n)&&n.N_.set("Unknown"))}function _A(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bh(t).P_(e)}function I6(t,e){t.L_.xe(e),bh(t).I_(e)}function wA(t){t.L_=new eZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bh(t).start(),t.N_.w_()}function EA(t){return Za(t)&&!bh(t).Zo()&&t.F_.size>0}function Za(t){return oe(t).M_.size===0}function b6(t){t.L_=void 0}async function nee(t){t.N_.set("Online")}async function ree(t){t.F_.forEach((e,n)=>{_A(t,e)})}async function iee(t,e){b6(t),EA(t)?(t.N_.D_(e),wA(t)):t.N_.set("Unknown")}async function see(t,e,n){if(t.N_.set("Online"),e instanceof j5&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.F_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.F_.delete(u),i.L_.removeTarget(u))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ew(t,r)}else if(e instanceof l_?t.L_.Ke(e):e instanceof B5?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{const r=await p6(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.L_.rt(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.F_.get(h);m&&s.F_.set(h,m.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const m=s.F_.get(c);if(!m)return;s.F_.set(c,m.withResumeToken(wn.EMPTY_BYTE_STRING,m.snapshotVersion)),I6(s,c);const g=new no(m.target,c,h,m.sequenceNumber);_A(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Ew(t,r)}}async function Ew(t,e,n){if(!Xa(e))throw e;t.M_.add(1),await Eh(t),t.N_.set("Offline"),n||(n=()=>p6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Tg(t)})}function T6(t,e){return e().catch(n=>Ew(t,n,e))}async function Ih(t){const e=oe(t),n=Ba(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;oee(e);)try{const i=await GZ(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,aee(e,i)}catch(i){await Ew(e,i)}S6(e)&&C6(e)}function oee(t){return Za(t)&&t.v_.length<10}function aee(t,e){t.v_.push(e);const n=Ba(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function S6(t){return Za(t)&&!Ba(t).Zo()&&t.v_.length>0}function C6(t){Ba(t).start()}async function lee(t){Ba(t).V_()}async function uee(t){const e=Ba(t);for(const n of t.v_)e.d_(n.mutations)}async function cee(t,e,n){const r=t.v_.shift(),i=oA.from(r,e,n);await T6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function dee(t,e){e&&Ba(t).E_&&await async function(r,i){if(function(a){return V5(a)&&a!==q.ABORTED}(i.code)){const s=r.v_.shift();Ba(r).t_(),await T6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ih(r)}}(t,e),S6(t)&&C6(t)}async function wO(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Za(n);n.M_.add(3),await Eh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Tg(n)}async function pT(t,e){const n=oe(t);e?(n.M_.delete(2),await Tg(n)):e||(n.M_.add(2),await Eh(n),n.N_.set("Unknown"))}function bh(t){return t.B_||(t.B_=function(n,r,i){const s=oe(n);return s.f_(),new XZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:nee.bind(null,t),To:ree.bind(null,t),Ao:iee.bind(null,t),h_:see.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),EA(t)?wA(t):t.N_.set("Unknown")):(await t.B_.stop(),b6(t))})),t.B_}function Ba(t){return t.k_||(t.k_=function(n,r,i){const s=oe(n);return s.f_(),new JZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:lee.bind(null,t),Ao:dee.bind(null,t),R_:uee.bind(null,t),A_:cee.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Ih(t)):(await t.k_.stop(),t.v_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new IA(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Th(t,e){if(tn("AsyncQueue",`${e}: ${t}`),Xa(t))return new Q(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=yp(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new Ad(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ad)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ad;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.q_=new ht(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zd{constructor(e,n,r,i,s,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Zd(e,n,Ad.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class fee{constructor(){this.queries=new Ja(e=>I5(e),yg),this.onlineState="Unknown",this.z_=new Set}}async function bA(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new hee,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Th(a,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&SA(n)}async function TA(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.U_.indexOf(e);a>=0&&(s.U_.splice(a,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pee(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.U_)u.H_(i)&&(r=!0);a.K_=i}}r&&SA(n)}function mee(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function SA(t){t.z_.forEach(e=>{e.next()})}var mT,IO;(IO=mT||(mT={})).J_="default",IO.Cache="cache";class CA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.serializer=e}Ps(e){return Ss(this.serializer,e)}Is(e){return e.metadata.exists?H5(this.serializer,e.document,!1):_t.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return nn(e)}}class vee{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=A6(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=je.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new bO(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const a of i.metadata.queries){const u=(n.get(a)||Pe()).add(s);n.set(a,u)}}return n}async complete(){const e=await qZ(this.localStore,new bO(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await WZ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function A6(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.key=e}}class k6{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Pe(),this.mutatedKeys=Pe(),this.Ia=T5(e),this.Ta=new Ad(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new EO,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),I=_g(this.query,g)?g:null,A=!!_&&this.mutatedKeys.has(_.key),E=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;_&&I?_.data.isEqual(I.data)?A!==E&&(r.track({type:3,doc:I}),C=!0):this.Ra(_,I)||(r.track({type:2,doc:I}),C=!0,(c&&this.Ia(I,c)>0||h&&this.Ia(I,h)<0)&&(u=!0)):!_&&I?(r.track({type:0,doc:I}),C=!0):_&&!I&&(r.track({type:1,doc:_}),C=!0,(c||h)&&(u=!0)),C&&(I?(a=a.add(I),s=E?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Ta:a,Aa:r,Xi:u,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((m,g)=>function(I,A){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return E(I)-E(A)}(m.type,g.type)||this.Ia(m.doc,g.doc)),this.Va(r),i=i!=null&&i;const u=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,h=c!==this.ha;return this.ha=c,a.length!==0||h?{snapshot:new Zd(this.query,e.Ta,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new EO,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Pe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new k6(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new P6(r))}),n}pa(e){this.la=e.hs,this.Pa=Pe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Zd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class yee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _ee{constructor(e){this.key=e,this.wa=!1}}class wee{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new Ja(u=>I5(u),yg),this.Da=new Map,this.Ca=new Set,this.va=new ht(ie.comparator),this.Fa=new Map,this.Ma=new fA,this.xa={},this.Oa=new Map,this.Na=vu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Eee(t,e,n=!0){const r=k0(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await x6(r,e,n,!0),i}async function Iee(t,e){const n=k0(t);await x6(n,e,!0,!1)}async function x6(t,e,n,r){const i=await Qd(t.localStore,fr(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await AA(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&P0(t.remoteStore,i),u}async function AA(t,e,n,r,i){t.Ba=(g,_,I)=>async function(E,C,b,S){let R=C.view.da(b);R.Xi&&(R=await yw(E.localStore,C.query,!1).then(({documents:N})=>C.view.da(N,R)));const V=S&&S.targetChanges.get(C.targetId),B=S&&S.targetMismatches.get(C.targetId)!=null,j=C.view.applyChanges(R,E.isPrimaryClient,V,B);return gT(E,C.targetId,j.fa),j.snapshot}(t,g,_,I);const s=await yw(t.localStore,e,!0),a=new R6(e,s.hs),u=a.da(s.documents),c=Ig.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(u,t.isPrimaryClient,c);gT(t,n,h.fa);const m=new yee(e,n,a);return t.ba.set(e,m),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function bee(t,e,n){const r=oe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(a=>!yg(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jd(r.remoteStore,i.targetId),eh(r,i.targetId)}).catch(Qa)):(eh(r,i.targetId),await Xd(r.localStore,i.targetId,!0))}async function Tee(t,e){const n=oe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jd(n.remoteStore,r.targetId))}async function See(t,e,n){const r=xA(t);try{const i=await function(a,u){const c=oe(a),h=Pt.now(),m=u.reduce((I,A)=>I.add(A.key),Pe());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Pr(),E=Pe();return c.os.getEntries(I,m).next(C=>{A=C,A.forEach((b,S)=>{S.isValidDocument()||(E=E.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,A)).next(C=>{g=C;const b=[];for(const S of u){const R=XJ(S,g.get(S.key).overlayedDocument);R!=null&&b.push(new Ao(S.key,R,f5(R.value.mapValue),At.exists(!0)))}return c.mutationQueue.addMutationBatch(I,h,b,u)}).next(C=>{_=C;const b=C.applyToLocalDocumentSet(g,E);return c.documentOverlayCache.saveOverlays(I,C.batchId,b)})}).then(()=>({batchId:_.batchId,changes:C5(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.xa[a.currentUser.toKey()];h||(h=new ht(Se)),h=h.insert(u,c),a.xa[a.currentUser.toKey()]=h}(r,i.batchId,n),await Po(r,i.changes),await Ih(r.remoteStore)}catch(i){const s=Th(i,"Failed to persist write");n.reject(s)}}async function N6(t,e){const n=oe(t);try{const r=await $Z(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Fa.get(s);a&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?ve(a.wa):i.removedDocuments.size>0&&(ve(a.wa),a.wa=!1))}),await Po(n,r,e)}catch(r){await Qa(r)}}function TO(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,a)=>{const u=a.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=oe(a);c.onlineState=u;let h=!1;c.queries.forEach((m,g)=>{for(const _ of g.U_)_.j_(u)&&(h=!0)}),h&&SA(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cee(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let a=new ht(ie.comparator);a=a.insert(s,_t.newNoDocument(s,_e.min()));const u=Pe().add(s),c=new Eg(_e.min(),new Map,new ht(Se),a,u);await N6(r,c),r.va=r.va.remove(s),r.Fa.delete(e),RA(r)}else await Xd(r.localStore,e,!1).then(()=>eh(r,e,n)).catch(Qa)}async function Aee(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await zZ(n.localStore,e);kA(n,r,null),PA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Po(n,i)}catch(i){await Qa(i)}}async function Pee(t,e,n){const r=oe(t);try{const i=await function(a,u){const c=oe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(ve(g!==null),m=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);kA(r,e,n),PA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Po(r,i)}catch(i){await Qa(i)}}async function kee(t,e){const n=oe(t);Za(n.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(a){const u=oe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>u.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Th(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function PA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function kA(t,e,n){const r=oe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function eh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||D6(t,r)})}function D6(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Jd(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),RA(t))}function gT(t,e,n){for(const r of n)r instanceof P6?(t.Ma.addReference(r.key,e),Ree(t,r)):r instanceof k6?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||D6(t,r.key)):le()}function Ree(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(r),RA(t))}function RA(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(je.fromString(e)),r=t.Na.next();t.Fa.set(r,new _ee(n)),t.va=t.va.insert(n,r),P0(t.remoteStore,new no(fr(yh(n.path)),r,"TargetPurposeLimboResolution",Cr.oe))}}async function Po(t,e,n){const r=oe(t),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach((u,c)=>{a.push(r.Ba(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const m=h&&!h.fromCache;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=gA.Ki(c.targetId,h);s.push(m)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(c,h){const m=oe(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>$.forEach(h,_=>$.forEach(_.qi,I=>m.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>$.forEach(_.Qi,I=>m.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Xa(g))throw g;X("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const I=m.ns.get(_),A=I.snapshotVersion,E=I.withLastLimboFreeSnapshotVersion(A);m.ns=m.ns.insert(_,E)}}}(r.localStore,s))}async function xee(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await f6(n.localStore,e);n.currentUser=e,function(s,a){s.Oa.forEach(u=>{u.forEach(c=>{c.reject(new Q(q.CANCELLED,a))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Po(n,r.us)}}function Nee(t,e){const n=oe(t),r=n.Fa.get(e);if(r&&r.wa)return Pe().add(r.key);{let i=Pe();const s=n.Da.get(e);if(!s)return i;for(const a of s){const u=n.ba.get(a);i=i.unionWith(u.view.Ea)}return i}}async function Dee(t,e){const n=oe(t),r=await yw(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&gT(n,e.targetId,i.fa),i}async function Oee(t,e){const n=oe(t);return v6(n.localStore,e).then(r=>Po(n,r))}async function Lee(t,e,n,r){const i=oe(t),s=await function(u,c){const h=oe(u),m=oe(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.vn(g,c).next(_=>_?h.localDocuments.getDocuments(g,_):$.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Ih(i.remoteStore):n==="acknowledged"||n==="rejected"?(kA(i,e,r||null),PA(i,e),function(u,c){oe(oe(u).mutationQueue).Mn(c)}(i.localStore,e)):le(),await Po(i,s)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Mee(t,e){const n=oe(t);if(k0(n),xA(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await SO(n,r.toArray());n.La=!0,await pT(n.remoteStore,!0);for(const s of i)P0(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(eh(n,a),Xd(n.localStore,a,!0))),Jd(n.remoteStore,a)}),await i,await SO(n,r),function(a){const u=oe(a);u.Fa.forEach((c,h)=>{Jd(u.remoteStore,h)}),u.Ma.mr(),u.Fa=new Map,u.va=new ht(ie.comparator)}(n),n.La=!1,await pT(n.remoteStore,!1)}}async function SO(t,e,n){const r=oe(t),i=[],s=[];for(const a of e){let u;const c=r.Da.get(a);if(c&&c.length!==0){u=await Qd(r.localStore,fr(c[0]));for(const h of c){const m=r.ba.get(h),g=await Dee(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await g6(r.localStore,a);u=await Qd(r.localStore,h),await AA(r,O6(h),a,!1,u.resumeToken)}i.push(u)}return r.Sa.h_(s),i}function O6(t){return E5(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Vee(t){return function(n){return oe(oe(n).persistence).Bi()}(oe(t).localStore)}async function Fee(t,e,n,r){const i=oe(t);if(i.La)return void X("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await v6(i.localStore,b5(s[0])),u=Eg.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wn.EMPTY_BYTE_STRING);await Po(i,a,u);break}case"rejected":await Xd(i.localStore,e,!0),eh(i,e,r);break;default:le()}}async function Uee(t,e,n){const r=k0(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){X("SyncEngine","Adding an already active target "+i);continue}const s=await g6(r.localStore,i),a=await Qd(r.localStore,s);await AA(r,O6(s),a.targetId,!1,a.resumeToken),P0(r.remoteStore,a)}for(const i of n)r.Da.has(i)&&await Xd(r.localStore,i,!1).then(()=>{Jd(r.remoteStore,i),eh(r,i)}).catch(Qa)}}function k0(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cee.bind(null,e),e.Sa.h_=pee.bind(null,e.eventManager),e.Sa.ka=mee.bind(null,e.eventManager),e}function xA(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pee.bind(null,e),e}function Bee(t,e,n){const r=oe(t);(async function(s,a,u){try{const c=await a.getMetadata();if(await function(I,A){const E=oe(I),C=nn(A.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",b=>E.$r.getBundleMetadata(b,A.id)).then(b=>!!b&&b.createTime.compareTo(C)>=0)}(s.localStore,c))return await a.close(),u._completeWith(function(I){return{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}}(c)),Promise.resolve(new Set);u._updateProgress(A6(c));const h=new vee(c,s.localStore,a.serializer);let m=await a.qa();for(;m;){const _=await h._a(m);_&&u._updateProgress(_),m=await a.qa()}const g=await h.complete();return await Po(s,g.ca,void 0),await function(I,A){const E=oe(I);return E.persistence.runTransaction("Save bundle","readwrite",C=>E.$r.saveBundleMetadata(C,A))}(s.localStore,c),u._completeWith(g.progress),Promise.resolve(g.ua)}catch(c){return Hi("SyncEngine",`Loading bundle failed with ${c}`),u._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class vT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return h6(this.persistence,new d6,e.initialUser,this.serializer)}createPersistence(e){return new c6(A0.Hr,this.serializer)}createSharedClientState(e){return new _6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class L6 extends vT{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await xA(this.Qa.syncEngine),await Ih(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return h6(this.persistence,new d6,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new SZ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new lJ(n,this.persistence);return new aJ(e.asyncQueue,r)}createPersistence(e){const n=mA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new pA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,w6(),u_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _6}}class jee extends L6{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof mI&&(this.sharedClientState.syncEngine={Zs:Lee.bind(null,n),Xs:Fee.bind(null,n),eo:Uee.bind(null,n),Bi:Vee.bind(null,n),Ys:Oee.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await Mee(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=w6();if(!mI.D(n))throw new Q(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mI(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class NA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xee.bind(null,this.syncEngine),await pT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fee}()}createDatastore(e){const n=bg(e.databaseInfo.databaseId),r=function(s){return new QZ(s)}(e.databaseInfo);return function(s,a,u,c){return new ZZ(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new tee(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>TO(this.syncEngine,n,0),function(){return _O.D()?new _O:new HZ}())}createSyncEngine(e,n){return function(i,s,a,u,c,h,m){const g=new wee(i,s,a,u,c,h);return m&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=oe(r);X("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Eh(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):tn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new On,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new gee(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const a=oe(i),u={documents:s.map(g=>Um(a.serializer,g))},c=await a.xo("BatchGetDocuments",a.serializer.databaseId,je.emptyPath(),u,s.length),h=new Map;c.forEach(g=>{const _=oZ(a.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());ve(!!_),m.push(_)}),m}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new iA(i,this.precondition(i)))}),await async function(r,i){const s=oe(r),a={writes:i.map(u=>Bm(s.serializer,u))};await s.Co("Commit",s.serializer.databaseId,je.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw le();n=_e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(_e.min())?At.exists(!1):At.updateTime(n):At.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_e.min()))throw new Q(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(n)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new yA(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new $ee(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!gg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!V5(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=X3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Th(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c_(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await f6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DA(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wO(e.remoteStore,i)),t._onlineComponents=e}function M6(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function DA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await c_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!M6(n))throw n;Hi("Error using user provided cache. Falling back to memory cache: "+n),await c_(t,new vT)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await c_(t,new vT);return t._offlineComponents}async function x0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await yT(t,new NA))),t._onlineComponents}function V6(t){return DA(t).then(e=>e.persistence)}function OA(t){return DA(t).then(e=>e.localStore)}function F6(t){return x0(t).then(e=>e.remoteStore)}function LA(t){return x0(t).then(e=>e.syncEngine)}function Wee(t){return x0(t).then(e=>e.datastore)}async function th(t){const e=await x0(t),n=e.eventManager;return n.onListen=Eee.bind(null,e.syncEngine),n.onUnlisten=bee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Iee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tee.bind(null,e.syncEngine),n}function Hee(t){return t.asyncQueue.enqueue(async()=>{const e=await V6(t),n=await F6(t);return e.setNetworkEnabled(!0),function(i){const s=oe(i);return s.M_.delete(0),Tg(s)}(n)})}function Kee(t){return t.asyncQueue.enqueue(async()=>{const e=await V6(t),n=await F6(t);return e.setNetworkEnabled(!1),async function(i){const s=oe(i);s.M_.add(0),await Eh(s),s.N_.set("Offline")}(n)})}function Yee(t,e){const n=new On;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,a){try{const u=await function(h,m){const g=oe(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Q(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=Th(u,`Failed to get document '${s} from cache`);a.reject(c)}}(await OA(t),e,n)),n.promise}function U6(t,e,n={}){const r=new On;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const m=new R0({next:_=>{a.enqueueAndForget(()=>TA(s,g));const I=_.docs.has(u);!I&&_.fromCache?h.reject(new Q(q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&c&&c.source==="server"?h.reject(new Q(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new CA(yh(u.path),m,{includeMetadataChanges:!0,ra:!0});return bA(s,g)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function Qee(t,e){const n=new On;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,a){try{const u=await yw(i,s,!0),c=new R6(s,u.hs),h=c.da(u.documents),m=c.applyChanges(h,!1);a.resolve(m.snapshot)}catch(u){const c=Th(u,`Failed to execute query '${s} against cache`);a.reject(c)}}(await OA(t),e,n)),n.promise}function B6(t,e,n={}){const r=new On;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const m=new R0({next:_=>{a.enqueueAndForget(()=>TA(s,g)),_.fromCache&&c.source==="server"?h.reject(new Q(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new CA(u,m,{includeMetadataChanges:!0,ra:!0});return bA(s,g)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function Xee(t,e){const n=new R0(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){oe(i).z_.add(s),s.next()}(await th(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){oe(i).z_.delete(s)}(await th(t),n))}}function Jee(t,e,n,r){const i=function(a,u){let c;return c=typeof a=="string"?U5().encode(a):a,function(m,g){return new zee(m,g)}(function(m,g){if(m instanceof Uint8Array)return CO(m,g);if(m instanceof ArrayBuffer)return CO(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),u)}(n,bg(e));t.asyncQueue.enqueueAndForget(async()=>{Bee(await LA(t),i,r)})}function Zee(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=oe(r);return s.persistence.runTransaction("Get named query","readonly",a=>s.$r.getNamedQuery(a,i))}(await OA(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e,n){if(!n)throw new Q(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z6(t,e,n,r){if(e===!0&&r===!0)throw new Q(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PO(t){if(!ie.isDocumentKey(t))throw new Q(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kO(t){if(ie.isDocumentKey(t))throw new Q(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N0(t);throw new Q(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $6(t,e){if(e<=0)throw new Q(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QX;switch(r.type){case"firstParty":return new eJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AO.get(n);r&&(X("ComponentProvider","Removing Datastore"),AO.delete(n),r.terminate())}(this),Promise.resolve()}}function ete(t,e,n,r={}){var i;const s=(t=Ye(t,Sg))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Rn.MOCK_USER;else{u=iF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rn(h)}t._authCredentials=new XX(new Q3(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=class G6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G6(this.firestore,e,this._query)}},Lt=class q6{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new q6(this.firestore,e,this._key)}},Aa=class W6 extends pr{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ie(e))}withConverter(e){return new W6(this.firestore,e,this._path)}};function H6(t,e,...n){if(t=ye(t),MA("collection","path",e),t instanceof Sg){const r=je.fromString(e,...n);return kO(r),new Aa(t,null,r)}{if(!(t instanceof Lt||t instanceof Aa))throw new Q(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return kO(r),new Aa(t.firestore,null,r)}}function tte(t,e){if(t=Ye(t,Sg),MA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(t,null,function(r){return new Co(je.emptyPath(),r)}(e))}function Iw(t,e,...n){if(t=ye(t),arguments.length===1&&(e=X3.newId()),MA("doc","path",e),t instanceof Sg){const r=je.fromString(e,...n);return PO(r),new Lt(t,null,new ie(r))}{if(!(t instanceof Lt||t instanceof Aa))throw new Q(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return PO(r),new Lt(t.firestore,t instanceof Aa?t.converter:null,new ie(r))}}function K6(t,e){return t=ye(t),e=ye(e),(t instanceof Lt||t instanceof Aa)&&(e instanceof Lt||e instanceof Aa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Y6(t,e){return t=ye(t),e=ye(e),t instanceof pr&&e instanceof pr&&t.firestore===e.firestore&&yg(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new yA(this,"async_queue_retry"),this.hu=()=>{const n=u_();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=u_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=u_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new On;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Xa(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw tn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=IA.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function _T(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class rte{constructor(){this._progressObserver={},this._taskCompletionResolver=new On,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite=-1;let Kt=class extends Sg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new nte}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q6(this),this._firestoreClient.terminate()}};function Mn(t){return t._firestoreClient||Q6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Q6(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,h,m){return new kJ(u,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,j6(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qee(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ste(t,e){J6(t=Ye(t,Kt));const n=Mn(t);if(n._uninitializedComponentsProvider)throw new Q(q.FAILED_PRECONDITION,"SDK cache is already specified.");Hi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new NA;return X6(n,i,new L6(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function ote(t){J6(t=Ye(t,Kt));const e=Mn(t);if(e._uninitializedComponentsProvider)throw new Q(q.FAILED_PRECONDITION,"SDK cache is already specified.");Hi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new NA;return X6(e,r,new jee(r,n.cacheSizeBytes))}function X6(t,e,n){const r=new On;return t.asyncQueue.enqueue(async()=>{try{await c_(t,n),await yT(t,e),r.resolve()}catch(i){const s=i;if(!M6(s))throw s;Hi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function ate(t){if(t._initialized&&!t._terminated)throw new Q(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new On;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ts.D())return Promise.resolve();const i=r+"main";await Ts.delete(i)}(mA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function lte(t){return function(n){const r=new On;return n.asyncQueue.enqueueAndForget(async()=>kee(await LA(n),r)),r.promise}(Mn(t=Ye(t,Kt)))}function ute(t){return Hee(Mn(t=Ye(t,Kt)))}function cte(t){return Kee(Mn(t=Ye(t,Kt)))}function dte(t,e){const n=Mn(t=Ye(t,Kt)),r=new rte;return Jee(n,t._databaseId,e,r),r}function hte(t,e){return Zee(Mn(t=Ye(t,Kt)),e).then(n=>n?new pr(t,null,n.query):null)}function J6(t){if(t._initialized||t._terminated)throw new Q(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(wn.fromBase64String(e))}catch(n){throw new Q(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=/^__.*__$/;class pte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new _h(e,this.data,n,this.fieldTransforms)}}class Z6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class O0{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new O0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return bw(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(e9(this.fu)&&fte.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class mte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bg(e)}Fu(e,n,r,i=!1){return new O0({fu:e,methodName:n,vu:r,path:Ct.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xu(t){const e=t._freezeSettings(),n=bg(t._databaseId);return new mte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L0(t,e,n,r,i,s={}){const a=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);$A("Data must be an object, but it was:",a,r);const u=r9(r,a);let c,h;if(s.merge)c=new Ar(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=wT(e,g,n);if(!a.contains(_))throw new Q(q.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);s9(m,_)||m.push(_)}c=new Ar(m),h=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=a.fieldTransforms;return new pte(new Gn(u),c,h)}class Cg extends Ru{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cg}}function t9(t,e,n){return new O0({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class VA extends Ru{_toFieldTransform(e){return new wg(e.path,new Hd)}isEqual(e){return e instanceof VA}}class FA extends Ru{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=t9(this,e,!0),r=this.Mu.map(s=>Nu(s,n)),i=new fu(r);return new wg(e.path,i)}isEqual(e){return e instanceof FA&&mm(this.Mu,e.Mu)}}class UA extends Ru{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=t9(this,e,!0),r=this.Mu.map(s=>Nu(s,n)),i=new pu(r);return new wg(e.path,i)}isEqual(e){return e instanceof UA&&mm(this.Mu,e.Mu)}}class BA extends Ru{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new Kd(e.serializer,R5(e.serializer,this.xu));return new wg(e.path,n)}isEqual(e){return e instanceof BA&&this.xu===e.xu}}function jA(t,e,n,r){const i=t.Fu(1,e,n);$A("Data must be an object, but it was:",i,r);const s=[],a=Gn.empty();ku(r,(c,h)=>{const m=GA(e,c,n);h=ye(h);const g=i.Su(m);if(h instanceof Cg)s.push(m);else{const _=Nu(h,g);_!=null&&(s.push(m),a.set(m,_))}});const u=new Ar(s);return new Z6(a,u,i.fieldTransforms)}function zA(t,e,n,r,i,s){const a=t.Fu(1,e,n),u=[wT(e,r,n)],c=[i];if(s.length%2!=0)throw new Q(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(wT(e,s[_])),c.push(s[_+1]);const h=[],m=Gn.empty();for(let _=u.length-1;_>=0;--_)if(!s9(h,u[_])){const I=u[_];let A=c[_];A=ye(A);const E=a.Su(I);if(A instanceof Cg)h.push(I);else{const C=Nu(A,E);C!=null&&(h.push(I),m.set(I,C))}}const g=new Ar(h);return new Z6(m,g,a.fieldTransforms)}function n9(t,e,n,r=!1){return Nu(n,t.Fu(r?4:3,e))}function Nu(t,e){if(i9(t=ye(t)))return $A("Unsupported field value:",e,t),r9(t,e);if(t instanceof Ru)return function(r,i){if(!e9(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=Nu(u,i.bu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Yd(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(r instanceof D0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:z5(i.serializer,r._byteString)};if(r instanceof Lt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${N0(r)}`)}(t,e)}function r9(t,e){const n={};return c5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(t,(r,i)=>{const s=Nu(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof D0||t instanceof ks||t instanceof Lt||t instanceof Ru)}function $A(t,e,n){if(!i9(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=N0(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function wT(t,e,n){if((e=ye(e))instanceof ja)return e._internalPath;if(typeof e=="string")return GA(t,e);throw bw("Field path arguments must be of type string or ",t,!1,void 0,n)}const gte=new RegExp("[~\\*/\\[\\]]");function GA(t,e,n){if(e.search(gte)>=0)throw bw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ja(...e.split("."))._internalPath}catch{throw bw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bw(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Q(q.INVALID_ARGUMENT,u+t+c)}function s9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vte extends jm{data(){return super.data()}}function M0(t,e){return typeof e=="string"?GA(t,e):e instanceof ja?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qA{}class Ag extends qA{}function na(t,e,...n){let r=[];e instanceof qA&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof WA).length,u=s.filter(c=>c instanceof V0).length;if(a>1||a>0&&u>0)throw new Q(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class V0 extends Ag{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new V0(e,n,r)}_apply(e){const n=this._parse(e);return l9(e._query,n),new pr(e.firestore,e.converter,sT(e._query,n))}_parse(e){const n=xu(e.firestore);return function(s,a,u,c,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Q(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){NO(g,m);const I=[];for(const A of g)I.push(xO(c,s,A));_={arrayValue:{values:I}}}else _=xO(c,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||NO(g,m),_=n9(u,a,g,m==="in"||m==="not-in");return ze.create(h,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yte(t,e,n){const r=e,i=M0("where",t);return V0._create(i,r,n)}class WA extends qA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)l9(a,c),a=sT(a,c)}(e._query,n),new pr(e.firestore,e.converter,sT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HA extends Ag{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HA(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Q(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fm(s,a)}(e._query,this._field,this._direction);return new pr(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Co(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _te(t,e="asc"){const n=e,r=M0("orderBy",t);return HA._create(r,n)}class F0 extends Ag{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new F0(e,n,r)}_apply(e){return new pr(e.firestore,e.converter,pw(e._query,this._limit,this._limitType))}}function wte(t){return $6("limit",t),F0._create("limit",t,"F")}function Ete(t){return $6("limitToLast",t),F0._create("limitToLast",t,"L")}class U0 extends Ag{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new U0(e,n,r)}_apply(e){const n=a9(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,function(i,s){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Ite(...t){return U0._create("startAt",t,!0)}function bte(...t){return U0._create("startAfter",t,!1)}class B0 extends Ag{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new B0(e,n,r)}_apply(e){const n=a9(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,function(i,s){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function Tte(...t){return B0._create("endBefore",t,!1)}function Ste(...t){return B0._create("endAt",t,!0)}function a9(t,e,n,r){if(n[0]=ye(n[0]),n[0]instanceof jm)return function(s,a,u,c,h){if(!c)throw new Q(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Cd(s))if(g.field.isKeyField())m.push(du(a,c.key));else{const _=c.data.field(g.field);if(I0(_))throw new Q(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const I=g.field.canonicalString();throw new Q(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}m.push(_)}return new Ua(m,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xu(t.firestore);return function(a,u,c,h,m,g){const _=a.explicitOrderBy;if(m.length>_.length)throw new Q(q.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let A=0;A<m.length;A++){const E=m[A];if(_[A].field.isKeyField()){if(typeof E!="string")throw new Q(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof E}`);if(!nA(a)&&E.indexOf("/")!==-1)throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${E}' contains a slash.`);const C=a.path.child(je.fromString(E));if(!ie.isDocumentKey(C))throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const b=new ie(C);I.push(du(u,b))}else{const C=n9(c,h,E);I.push(C)}}return new Ua(I,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function xO(t,e,n){if(typeof(n=ye(n))=="string"){if(n==="")throw new Q(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(e)&&n.indexOf("/")!==-1)throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!ie.isDocumentKey(r))throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(t,new ie(r))}if(n instanceof Lt)return du(t,n._key);throw new Q(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(n)}.`)}function NO(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l9(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KA{convertValue(e,n="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ku(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new D0($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lm(e));default:return null}}convertTimestamp(e){const n=go(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ve(Z5(r));const i=new Va(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||tn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cte extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let vo=class extends jm{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(M0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Gp=class extends vo{data(e={}){return super.data(e)}},za=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gp(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Gp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Gp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:Ate(u.type),doc:c,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Ate(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function u9(t,e){return t instanceof vo&&e instanceof vo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof za&&e instanceof za&&t._firestore===e._firestore&&Y6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t){t=Ye(t,Lt);const e=Ye(t.firestore,Kt);return U6(Mn(e),t._key).then(n=>YA(e,t,n))}class Du extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function kte(t){t=Ye(t,Lt);const e=Ye(t.firestore,Kt),n=Mn(e),r=new Du(e);return Yee(n,t._key).then(i=>new vo(e,r,t._key,i,new Bl(i!==null&&i.hasLocalMutations,!0),t.converter))}function Rte(t){t=Ye(t,Lt);const e=Ye(t.firestore,Kt);return U6(Mn(e),t._key,{source:"server"}).then(n=>YA(e,t,n))}function xte(t){t=Ye(t,pr);const e=Ye(t.firestore,Kt),n=Mn(e),r=new Du(e);return o9(t._query),B6(n,t._query).then(i=>new za(e,r,t,i))}function Nte(t){t=Ye(t,pr);const e=Ye(t.firestore,Kt),n=Mn(e),r=new Du(e);return Qee(n,t._query).then(i=>new za(e,r,t,i))}function Dte(t){t=Ye(t,pr);const e=Ye(t.firestore,Kt),n=Mn(e),r=new Du(e);return B6(n,t._query,{source:"server"}).then(i=>new za(e,r,t,i))}function DO(t,e,n){t=Ye(t,Lt);const r=Ye(t.firestore,Kt),i=j0(t.converter,e,n);return Pg(r,[L0(xu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,At.none())])}function OO(t,e,n,...r){t=Ye(t,Lt);const i=Ye(t.firestore,Kt),s=xu(i);let a;return a=typeof(e=ye(e))=="string"||e instanceof ja?zA(s,"updateDoc",t._key,e,n,r):jA(s,"updateDoc",t._key,e),Pg(i,[a.toMutation(t._key,At.exists(!0))])}function Ote(t){return Pg(Ye(t.firestore,Kt),[new wh(t._key,At.none())])}function Lte(t,e){const n=Ye(t.firestore,Kt),r=Iw(t),i=j0(t.converter,e);return Pg(n,[L0(xu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function c9(t,...e){var n,r,i;t=ye(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_T(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_T(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,h,m;if(t instanceof Lt)h=Ye(t.firestore,Kt),m=yh(t._key.path),c={next:g=>{e[a]&&e[a](YA(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Ye(t,pr);h=Ye(g.firestore,Kt),m=g._query;const _=new Du(h);c={next:I=>{e[a]&&e[a](new za(h,_,g,I))},error:e[a+1],complete:e[a+2]},o9(t._query)}return function(_,I,A,E){const C=new R0(E),b=new CA(I,C,A);return _.asyncQueue.enqueueAndForget(async()=>bA(await th(_),b)),()=>{C.$a(),_.asyncQueue.enqueueAndForget(async()=>TA(await th(_),b))}}(Mn(h),m,u,c)}function Mte(t,e){return Xee(Mn(t=Ye(t,Kt)),_T(e)?e:{next:e})}function Pg(t,e){return function(r,i){const s=new On;return r.asyncQueue.enqueueAndForget(async()=>See(await LA(r),i,s)),s.promise}(Mn(t),e)}function YA(t,e,n){const r=n.docs.get(e._key),i=new Du(t);return new vo(t,i,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fte=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,n,r){this._verifyNotCommitted();const i=ua(e,this._firestore),s=j0(i.converter,n,r),a=L0(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,At.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ua(e,this._firestore);let a;return a=typeof(n=ye(n))=="string"||n instanceof ja?zA(this._dataReader,"WriteBatch.update",s._key,n,r,i):jA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ua(e,this._firestore);return this._mutations=this._mutations.concat(new wh(n._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ua(t,e){if((t=ye(t)).firestore!==e)throw new Q(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ute=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=xu(n)}get(n){const r=ua(n,this._firestore),i=new Cte(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return le();const a=s[0];if(a.isFoundDocument())return new jm(this._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new jm(this._firestore,i,r._key,null,r.converter);throw le()})}set(n,r,i){const s=ua(n,this._firestore),a=j0(s.converter,r,i),u=L0(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,i);return this._transaction.set(s._key,u),this}update(n,r,i,...s){const a=ua(n,this._firestore);let u;return u=typeof(r=ye(r))=="string"||r instanceof ja?zA(this._dataReader,"Transaction.update",a._key,r,i,s):jA(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,u),this}delete(n){const r=ua(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ua(e,this._firestore),r=new Du(this._firestore);return super.get(e).then(i=>new vo(this._firestore,r,n._key,i._document,new Bl(!1,!1),n.converter))}};function Bte(t,e,n){t=Ye(t,Kt);const r=Object.assign(Object.assign({},Vte),n);return function(s){if(s.maxAttempts<1)throw new Q(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,a,u){const c=new On;return s.asyncQueue.enqueueAndForget(async()=>{const h=await Wee(s);new Gee(s.asyncQueue,h,u,a,c).Xa()}),c.promise}(Mn(t),i=>e(new Ute(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(){return new Cg("deleteField")}function zte(){return new VA("serverTimestamp")}function $te(...t){return new FA("arrayUnion",t)}function Gte(...t){return new UA("arrayRemove",t)}function qte(t){return new BA("increment",t)}(function(e,n=!0){(function(i){vh=i})(Io),ho(new qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Kt(new JX(r.getProvider("auth-internal")),new nJ(r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(h.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Hr(AD,"4.6.3",e),Hr(AD,"4.6.3","esm2017")})();const Wte="@firebase/firestore-compat",Hte="0.3.32";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){if(typeof Uint8Array>"u")throw new Q("unimplemented","Uint8Arrays are not available in this environment.")}function MO(){if(!AJ())throw new Q("unimplemented","Blobs are unavailable in Firestore in this environment.")}let d9=class ET{constructor(e){this._delegate=e}static fromBase64String(e){return MO(),new ET(ks.fromBase64String(e))}static fromUint8Array(e){return LO(),new ET(ks.fromUint8Array(e))}toBase64(){return MO(),this._delegate.toBase64()}toUint8Array(){return LO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){return Kte(t,["next","error","complete"])}function Kte(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{enableIndexedDbPersistence(e,n){return ste(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return ote(e._delegate)}clearIndexedDbPersistence(e){return ate(e._delegate)}}class h9{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){ete(this._delegate,e,n,r)}enableNetwork(){return ute(this._delegate)}disableNetwork(){return cte(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,z6("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return lte(this._delegate)}onSnapshotsInSync(e){return Mte(this._delegate,e)}get app(){if(!this._appCompat)throw new Q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nh(this,H6(this._delegate,e))}catch(n){throw lr(n,"collection()","Firestore.collection()")}}doc(e){try{return new li(this,Iw(this._delegate,e))}catch(n){throw lr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ar(this,tte(this._delegate,e))}catch(n){throw lr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Bte(this._delegate,n=>e(new f9(this,n)))}batch(){return Mn(this._delegate),new p9(new Fte(this._delegate,e=>Pg(this._delegate,e)))}loadBundle(e){return dte(this._delegate,e)}namedQuery(e){return hte(this._delegate,e).then(n=>n?new ar(this,n):null)}}class z0 extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new d9(new ks(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return li.forKey(n,this.firestore,null)}}function Qte(t){KX(t)}class f9{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new z0(e)}get(e){const n=jl(e);return this._delegate.get(n).then(r=>new zm(this._firestore,new vo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=jl(e);return r?(QA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jl(e);return this._delegate.delete(n),this}}class p9{constructor(e){this._delegate=e}set(e,n,r){const i=jl(e);return r?(QA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class yu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Gp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $m(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=yu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new yu(e,new z0(e),n),i.set(n,s)),s}}yu.INSTANCES=new WeakMap;class li{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new z0(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new li(n,new Lt(n._delegate,r,new ie(e)))}static forKey(e,n,r){return new li(n,new Lt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nh(this.firestore,H6(this._delegate,e))}catch(n){throw lr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ye(e),e instanceof Lt?K6(this._delegate,e):!1}set(e,n){n=QA("DocumentReference.set",n);try{return n?DO(this._delegate,e,n):DO(this._delegate,e)}catch(r){throw lr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?OO(this._delegate,e):OO(this._delegate,e,n,...r)}catch(i){throw lr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Ote(this._delegate)}onSnapshot(...e){const n=m9(e),r=g9(e,i=>new zm(this.firestore,new vo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return c9(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=kte(this._delegate):(e==null?void 0:e.source)==="server"?n=Rte(this._delegate):n=Pte(this._delegate),n.then(r=>new zm(this.firestore,new vo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new li(this.firestore,e?this._delegate.withConverter(yu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lr(t,e,n){return t.message=t.message.replace(e,n),t}function m9(t){for(const e of t)if(typeof e=="object"&&!IT(e))return e;return{}}function g9(t,e){var n,r;let i;return IT(t[0])?i=t[0]:IT(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class zm{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return u9(this._delegate,e._delegate)}}class $m extends zm{data(e){const n=this._delegate.data(e);return this._delegate._converter||YX(n!==void 0),n}}class ar{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new z0(e)}where(e,n,r){try{return new ar(this.firestore,na(this._delegate,yte(e,n,r)))}catch(i){throw lr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ar(this.firestore,na(this._delegate,_te(e,n)))}catch(r){throw lr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ar(this.firestore,na(this._delegate,wte(e)))}catch(n){throw lr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ar(this.firestore,na(this._delegate,Ete(e)))}catch(n){throw lr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ar(this.firestore,na(this._delegate,Ite(...e)))}catch(n){throw lr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ar(this.firestore,na(this._delegate,bte(...e)))}catch(n){throw lr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ar(this.firestore,na(this._delegate,Tte(...e)))}catch(n){throw lr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ar(this.firestore,na(this._delegate,Ste(...e)))}catch(n){throw lr(n,"endAt()","Query.endAt()")}}isEqual(e){return Y6(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Nte(this._delegate):(e==null?void 0:e.source)==="server"?n=Dte(this._delegate):n=xte(this._delegate),n.then(r=>new bT(this.firestore,new za(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=m9(e),r=g9(e,i=>new bT(this.firestore,new za(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return c9(this._delegate,n,r)}withConverter(e){return new ar(this.firestore,e?this._delegate.withConverter(yu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Xte{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new $m(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ar(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $m(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Xte(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new $m(this._firestore,r))})}isEqual(e){return u9(this._delegate,e._delegate)}}class nh extends ar{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new li(this.firestore,e):null}doc(e){try{return e===void 0?new li(this.firestore,Iw(this._delegate)):new li(this.firestore,Iw(this._delegate,e))}catch(n){throw lr(n,"doc()","CollectionReference.doc()")}}add(e){return Lte(this._delegate,e).then(n=>new li(this.firestore,n))}isEqual(e){return K6(this._delegate,e._delegate)}withConverter(e){return new nh(this.firestore,e?this._delegate.withConverter(yu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jl(t){return Ye(t,Lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(...e){this._delegate=new ja(...e)}static documentId(){return new XA(Ct.keyField().canonicalString())}isEqual(e){return e=ye(e),e instanceof ja?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._delegate=e}static serverTimestamp(){const e=zte();return e._methodName="FieldValue.serverTimestamp",new Dl(e)}static delete(){const e=jte();return e._methodName="FieldValue.delete",new Dl(e)}static arrayUnion(...e){const n=$te(...e);return n._methodName="FieldValue.arrayUnion",new Dl(n)}static arrayRemove(...e){const n=Gte(...e);return n._methodName="FieldValue.arrayRemove",new Dl(n)}static increment(e){const n=qte(e);return n._methodName="FieldValue.increment",new Dl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte={Firestore:h9,GeoPoint:D0,Timestamp:Pt,Blob:d9,Transaction:f9,WriteBatch:p9,DocumentReference:li,DocumentSnapshot:zm,Query:ar,QueryDocumentSnapshot:$m,QuerySnapshot:bT,CollectionReference:nh,FieldPath:XA,FieldValue:Dl,setLogLevel:Qte,CACHE_SIZE_UNLIMITED:ite};function Zte(t,e){t.INTERNAL.registerComponent(new qi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Jte)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t){Zte(t,(e,n)=>new h9(e,n,new Yte)),t.registerVersion(Wte,Hte)}ene(me);const tne={apiKey:"AIzaSyB3V82mH6Ydl_hlMbB6b7ioLFT_1Gcz8Bc",authDomain:"exercise-d4c15.firebaseapp.com",projectId:"exercise-d4c15",storageBucket:"exercise-d4c15.appspot.com",messagingSenderId:"833031562012",appId:"1:833031562012:web:e44d878e820e3a7c3690d9"},nne=me.initializeApp(tne),ko=me.auth(),JA=async t=>{let e;return t?e=t:e=Math.floor(Math.random()*251)+1,(await hn.get(`https://pokeapi.co/api/v2/pokemon/${e}`)).data},rne=async t=>{const e=localStorage.getItem(`pokemon_${t}`);if(e)return JSON.parse(e);const n=await JA(t);try{localStorage.setItem(`pokemon_${t}`,JSON.stringify(n))}catch{}return n},ine=async()=>{try{const t=ko.currentUser;if(t){const e=t.uid,n=Au(),r=po(n,`users/${e}/visited`);return(await PC(r)).val()}}catch{}},VO=async(t,e)=>{try{const n=ko.currentUser;if(n){const r=n.uid,i=Au(),s=po(i,`users/${r}/shop`);if(await sw(s,t),!e){const a=po(i,`users/${r}/visited`);await sw(a,Date.now())}}}catch(n){console.error("Error resetting shop and adding visited time:",n)}},sne=async()=>{try{const t=ko.currentUser;if(t){const e=t.uid,n=Au(),r=po(n,`users/${e}/shop`);return(await PC(r)).val()}}catch{}},v9=async t=>{console.log(`adding ${t.name} to collection`);try{const e=ko.currentUser;if(e){const n=e.uid,r=Au(),i=po(r,`users/${n}/pokemon`);await IH(i,t.id)}}catch(e){console.error("Error adding pokemon to collection:",e)}},d_=async t=>{try{const e=ko.currentUser;if(e){const n=e.uid,r=Au(),i=po(r,`users/${n}/balance`),a=(await PC(i)).val();if(console.log(a,"currentBalance"),console.log(t,"amount"),a+t<0)return console.error("Insufficient balance"),!1;console.log(t,"amount");const u=(a||0)+t;return await sw(i,u),!0}return!1}catch(e){console.error("Error deducting from balance:",e)}},TT=t=>t.length===0?"":t[0].toUpperCase()+t.substring(1),one=t=>({normal:"#A8A878",fighting:"#C03028",flying:"#A890F0",poison:"#e63ce6",ground:"#E0C068",rock:"#B8A038",bug:"#A8B820",ghost:"#705898",steel:"#B8B8D0",fire:"#F08030",water:"#6890F0",grass:"#78C850",electric:"#F8D030",psychic:"#F85888",ice:"#98D8D8",dragon:"#7038F8",dark:"#705848",fairy:"#EE99AC",stellar:"#FFD700",unknown:"#FFFFFF"})[t],y9=({hp:t,imgSrc:e,pokeName:n,statAttack:r,statDefense:i,statSpeed:s,types:a,isNewCard:u,onClick:c})=>{const[h,m]=Ie.useState("#242424");Ie.useEffect(()=>{a.length>0&&g(a[0].type.name)},[a]);const g=I=>{const A=one(I)||"#ffffff";m(A)},_=()=>a.map((I,A)=>te.jsx("span",{style:{color:h},children:TT(I.type.name)},A));return te.jsxs("div",{id:"card",style:{background:`radial-gradient(circle at 50% 0%, ${h} 36%, #404060 36%)`},onClick:c,children:[u&&te.jsx("div",{className:"ribbon ribbon-top-left",children:te.jsx("span",{children:"New"})}),te.jsxs("p",{className:"hp",children:[te.jsx("span",{children:"HP"}),t]}),te.jsx("img",{src:e,alt:n}),te.jsx("h2",{className:"poke-name",children:TT(n)}),te.jsx("div",{className:"types",children:_()}),te.jsxs("div",{className:"stats",children:[te.jsxs("div",{children:[te.jsx("h3",{children:r}),te.jsx("p",{style:{color:h},children:"Attack"})]}),te.jsxs("div",{children:[te.jsx("h3",{children:i}),te.jsx("p",{style:{color:h},children:"Defense"})]}),te.jsxs("div",{children:[te.jsx("h3",{children:s}),te.jsx("p",{style:{color:h},children:"Speed"})]})]})]})},ZA=({message:t})=>te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"spinner"}),te.jsx("p",{className:"",children:t})]});function FO(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function eP(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:FO(e[n])&&FO(t[n])&&Object.keys(e[n]).length>0&&eP(t[n],e[n])})}const _9={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ou(){const t=typeof document<"u"?document:{};return eP(t,_9),t}const ane={document:_9,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Jr(){const t=typeof window<"u"?window:{};return eP(t,ane),t}function lne(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function ST(t,e=0){return setTimeout(t,e)}function Tw(){return Date.now()}function une(t){const e=Jr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function cne(t,e="x"){const n=Jr();let r,i,s;const a=une(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(u=>u.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Sy(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function dne(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function zr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!dne(i)){const s=Object.keys(Object(i)).filter(a=>n.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const c=s[a],h=Object.getOwnPropertyDescriptor(i,c);h!==void 0&&h.enumerable&&(Sy(e[c])&&Sy(i[c])?i[c].__swiper__?e[c]=i[c]:zr(e[c],i[c]):!Sy(e[c])&&Sy(i[c])?(e[c]={},i[c].__swiper__?e[c]=i[c]:zr(e[c],i[c])):e[c]=i[c])}}}return e}function Cy(t,e,n){t.style.setProperty(e,n)}function w9({swiper:t,targetPosition:e,side:n}){const r=Jr(),i=-t.translate;let s=null,a;const u=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>i?"next":"prev",h=(g,_)=>c==="next"&&g>=_||c==="prev"&&g<=_,m=()=>{a=new Date().getTime(),s===null&&(s=a);const g=Math.max(Math.min((a-s)/u,1),0),_=.5-Math.cos(g*Math.PI)/2;let I=i+_*(e-i);if(h(I,e)&&(I=e),t.wrapperEl.scrollTo({[n]:I}),h(I,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:I})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(m)};m()}function ro(t,e=""){return[...t.children].filter(n=>n.matches(e))}function hne(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function fne(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function pne(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function pa(t,e){return Jr().getComputedStyle(t,null).getPropertyValue(e)}function UO(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function mne(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function BO(t,e,n){const r=Jr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let vI;function gne(){const t=Jr(),e=Ou();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function E9(){return vI||(vI=gne()),vI}let yI;function vne({userAgent:t}={}){const e=E9(),n=Jr(),r=n.navigator.platform,i=t||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,u=n.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let h=i.match(/(iPad).*OS\s([\d_]+)/);const m=i.match(/(iPod)(.*OS\s([\d_]+))?/),g=!h&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_=r==="Win32";let I=r==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&I&&e.touch&&A.indexOf(`${a}x${u}`)>=0&&(h=i.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),I=!1),c&&!_&&(s.os="android",s.android=!0),(h||g||m)&&(s.os="ios",s.ios=!0),s}function yne(t={}){return yI||(yI=vne(t)),yI}let _I;function _ne(){const t=Jr();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[i,s]=r.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=i<16||i===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function wne(){return _I||(_I=_ne()),_I}function Ene({swiper:t,on:e,emit:n}){const r=Jr();let i=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},u=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(m=>{s=r.requestAnimationFrame(()=>{const{width:g,height:_}=t;let I=g,A=_;m.forEach(({contentBoxSize:E,contentRect:C,target:b})=>{b&&b!==t.el||(I=C?C.width:(E[0]||E).inlineSize,A=C?C.height:(E[0]||E).blockSize)}),(I!==g||A!==_)&&a()})}),i.observe(t.el))},c=()=>{s&&r.cancelAnimationFrame(s),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},h=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",h)}),e("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",h)})}function Ine({swiper:t,extendParams:e,on:n,emit:r}){const i=[],s=Jr(),a=(h,m={})=>{const g=s.MutationObserver||s.WebkitMutationObserver,_=new g(I=>{if(t.__preventObserver__)return;if(I.length===1){r("observerUpdate",I[0]);return}const A=function(){r("observerUpdate",I[0])};s.requestAnimationFrame?s.requestAnimationFrame(A):s.setTimeout(A,0)});_.observe(h,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:typeof m.childList>"u"?!0:m.childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),i.push(_)},u=()=>{if(t.params.observer){if(t.params.observeParents){const h=mne(t.el);for(let m=0;m<h.length;m+=1)a(h[m])}a(t.el,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(h=>{h.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",u),n("destroy",c)}const bne={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...s){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(i,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(u=>{u.apply(i,r)})}),e}};function Tne(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(pa(r,"padding-left")||0,10)-parseInt(pa(r,"padding-right")||0,10),n=n-parseInt(pa(r,"padding-top")||0,10)-parseInt(pa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Sne(){const t=this;function e(L){return t.isHorizontal()?L:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[L]}function n(L,U){return parseFloat(L.getPropertyValue(e(U))||0)}const r=t.params,{wrapperEl:i,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:c}=t,h=t.virtual&&r.virtual.enabled,m=h?t.virtual.slides.length:t.slides.length,g=ro(s,`.${t.params.slideClass}, swiper-slide`),_=h?t.virtual.slides.length:g.length;let I=[];const A=[],E=[];let C=r.slidesOffsetBefore;typeof C=="function"&&(C=r.slidesOffsetBefore.call(t));let b=r.slidesOffsetAfter;typeof b=="function"&&(b=r.slidesOffsetAfter.call(t));const S=t.snapGrid.length,R=t.slidesGrid.length;let V=r.spaceBetween,B=-C,j=0,N=0;if(typeof a>"u")return;typeof V=="string"&&V.indexOf("%")>=0?V=parseFloat(V.replace("%",""))/100*a:typeof V=="string"&&(V=parseFloat(V)),t.virtualSize=-V,g.forEach(L=>{u?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Cy(i,"--swiper-centered-offset-before",""),Cy(i,"--swiper-centered-offset-after",""));const k=r.grid&&r.grid.rows>1&&t.grid;k&&t.grid.initSlides(_);let O;const F=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(L=>typeof r.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<_;L+=1){O=0;let U;if(g[L]&&(U=g[L]),k&&t.grid.updateSlide(L,U,_,e),!(g[L]&&pa(U,"display")==="none")){if(r.slidesPerView==="auto"){F&&(g[L].style[e("width")]="");const D=getComputedStyle(U),We=U.style.transform,xe=U.style.webkitTransform;if(We&&(U.style.transform="none"),xe&&(U.style.webkitTransform="none"),r.roundLengths)O=t.isHorizontal()?BO(U,"width"):BO(U,"height");else{const Ee=n(D,"width"),at=n(D,"padding-left"),se=n(D,"padding-right"),ue=n(D,"margin-left"),fe=n(D,"margin-right"),tt=D.getPropertyValue("box-sizing");if(tt&&tt==="border-box")O=Ee+ue+fe;else{const{clientWidth:$e,offsetWidth:ft}=U;O=Ee+at+se+ue+fe+(ft-$e)}}We&&(U.style.transform=We),xe&&(U.style.webkitTransform=xe),r.roundLengths&&(O=Math.floor(O))}else O=(a-(r.slidesPerView-1)*V)/r.slidesPerView,r.roundLengths&&(O=Math.floor(O)),g[L]&&(g[L].style[e("width")]=`${O}px`);g[L]&&(g[L].swiperSlideSize=O),E.push(O),r.centeredSlides?(B=B+O/2+j/2+V,j===0&&L!==0&&(B=B-a/2-V),L===0&&(B=B-a/2-V),Math.abs(B)<1/1e3&&(B=0),r.roundLengths&&(B=Math.floor(B)),N%r.slidesPerGroup===0&&I.push(B),A.push(B)):(r.roundLengths&&(B=Math.floor(B)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&I.push(B),A.push(B),B=B+O+V),t.virtualSize+=O+V,j=O,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+b,u&&c&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${t.virtualSize+V}px`),r.setWrapperSize&&(i.style[e("width")]=`${t.virtualSize+V}px`),k&&t.grid.updateWrapperSize(O,I,e),!r.centeredSlides){const L=[];for(let U=0;U<I.length;U+=1){let D=I[U];r.roundLengths&&(D=Math.floor(D)),I[U]<=t.virtualSize-a&&L.push(D)}I=L,Math.floor(t.virtualSize-a)-Math.floor(I[I.length-1])>1&&I.push(t.virtualSize-a)}if(h&&r.loop){const L=E[0]+V;if(r.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),D=L*r.slidesPerGroup;for(let We=0;We<U;We+=1)I.push(I[I.length-1]+D)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)r.slidesPerGroup===1&&I.push(I[I.length-1]+L),A.push(A[A.length-1]+L),t.virtualSize+=L}if(I.length===0&&(I=[0]),V!==0){const L=t.isHorizontal()&&u?"marginLeft":e("marginRight");g.filter((U,D)=>!r.cssMode||r.loop?!0:D!==g.length-1).forEach(U=>{U.style[L]=`${V}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let L=0;E.forEach(D=>{L+=D+(V||0)}),L-=V;const U=L-a;I=I.map(D=>D<=0?-C:D>U?U+b:D)}if(r.centerInsufficientSlides){let L=0;if(E.forEach(U=>{L+=U+(V||0)}),L-=V,L<a){const U=(a-L)/2;I.forEach((D,We)=>{I[We]=D-U}),A.forEach((D,We)=>{A[We]=D+U})}}if(Object.assign(t,{slides:g,snapGrid:I,slidesGrid:A,slidesSizesGrid:E}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Cy(i,"--swiper-centered-offset-before",`${-I[0]}px`),Cy(i,"--swiper-centered-offset-after",`${t.size/2-E[E.length-1]/2}px`);const L=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+L),t.slidesGrid=t.slidesGrid.map(D=>D+U)}if(_!==m&&t.emit("slidesLengthChange"),I.length!==S&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),A.length!==R&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!h&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const L=`${r.containerModifierClass}backface-hidden`,U=t.el.classList.contains(L);_<=r.maxBackfaceHiddenSlides?U||t.el.classList.add(L):U&&t.el.classList.remove(L)}}function Cne(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>r?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const u=e.activeIndex+s;if(u>e.slides.length&&!r)break;n.push(a(u))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const u=n[s].offsetHeight;i=u>i?u:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Ane(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function Pne(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<r.length;c+=1){const h=r[c];let m=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);const g=(a+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+u),_=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+u),I=-(a-m),A=I+e.slidesSizesGrid[c];(I>=0&&I<e.size-1||A>1&&A<=e.size||I<=0&&A>=e.size)&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),h.progress=i?-g:g,h.originalProgress=i?-_:_}}function kne(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:u}=e;const c=s,h=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const m=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;s=m||i<=0,a=g||i>=1,m&&(i=0),g&&(i=1)}if(n.loop){const m=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[m],I=e.slidesGrid[g],A=e.slidesGrid[e.slidesGrid.length-1],E=Math.abs(t);E>=_?u=(E-_)/A:u=(E+A-I)/A,u>1&&(u-=1)}Object.assign(e,{progress:i,progressLoop:u,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(c&&!s||h&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}function Rne(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=c=>ro(r,`.${n.slideClass}${c}, swiper-slide${c}`)[0];e.forEach(c=>{c.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let u;if(s)if(n.loop){let c=i-t.virtual.slidesBefore;c<0&&(c=t.virtual.slides.length+c),c>=t.virtual.slides.length&&(c-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${c}"]`)}else u=a(`[data-swiper-slide-index="${i}"]`);else u=e[i];if(u){u.classList.add(n.slideActiveClass);let c=pne(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!c&&(c=e[0]),c&&c.classList.add(n.slideNextClass);let h=fne(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!h===0&&(h=e[e.length-1]),h&&h.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const h_=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){const i=r.querySelector(`.${t.params.lazyPreloaderClass}`);i&&i.remove()}},wI=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},CT=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,u=[a-e];u.push(...Array.from({length:e}).map((c,h)=>a+r+h)),t.slides.forEach((c,h)=>{u.includes(c.column)&&wI(t,h)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const u=(a%n+n)%n;(u<i||u>s)&&wI(t,u)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&wI(t,a)};function xne(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Nne(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:u}=e;let c=t,h;const m=_=>{let I=_-e.virtual.slidesBefore;return I<0&&(I=e.virtual.slides.length+I),I>=e.virtual.slides.length&&(I-=e.virtual.slides.length),I};if(typeof c>"u"&&(c=xne(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const _=Math.min(i.slidesPerGroupSkip,c);h=_+Math.floor((c-_)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),c===s){h!==u&&(e.snapIndex=h,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=m(c));return}let g;e.virtual&&i.virtual.enabled&&i.loop?g=m(c):e.slides[c]?g=parseInt(e.slides[c].getAttribute("data-swiper-slide-index")||c,10):g=c,Object.assign(e,{previousSnapIndex:u,snapIndex:h,previousRealIndex:a,realIndex:g,previousIndex:s,activeIndex:c}),e.initialized&&CT(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==g&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Dne(t){const e=this,n=e.params,r=t.closest(`.${n.slideClass}, swiper-slide`);let i=!1,s;if(r){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===r){i=!0,s=a;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const One={updateSize:Tne,updateSlides:Sne,updateAutoHeight:Cne,updateSlidesOffset:Ane,updateSlidesProgress:Pne,updateProgress:kne,updateSlidesClasses:Rne,updateActiveIndex:Nne,updateClickedSlide:Dne};function Lne(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=cne(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function Mne(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let u=0,c=0;const h=0;n.isHorizontal()?u=r?-t:t:c=t,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${u}px, ${c}px, ${h}px)`);let m;const g=n.maxTranslate()-n.minTranslate();g===0?m=0:m=(t-n.minTranslate())/g,m!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Vne(){return-this.snapGrid[0]}function Fne(){return-this.snapGrid[this.snapGrid.length-1]}function Une(t=0,e=this.params.speed,n=!0,r=!0,i){const s=this,{params:a,wrapperEl:u}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),h=s.maxTranslate();let m;if(r&&t>c?m=c:r&&t<h?m=h:m=t,s.updateProgress(m),a.cssMode){const g=s.isHorizontal();if(e===0)u[g?"scrollLeft":"scrollTop"]=-m;else{if(!s.support.smoothScroll)return w9({swiper:s,targetPosition:-m,side:g?"left":"top"}),!0;u.scrollTo({[g?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(_){!s||s.destroyed||_.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}const Bne={getTranslate:Lne,setTranslate:Mne,minTranslate:Vne,maxTranslate:Fne,translateTo:Une};function jne(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function I9({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:s}=t;let a=n;if(a||(i>s?a="next":i<s?a="prev":a="reset"),t.emit(`transition${r}`),e&&i!==s){if(a==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function zne(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),I9({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function $ne(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),I9({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const Gne={setTransition:jne,transitionStart:zne,transitionEnd:$ne};function qne(t=0,e=this.params.speed,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:c,slidesGrid:h,previousIndex:m,activeIndex:g,rtlTranslate:_,wrapperEl:I,enabled:A}=s;if(s.animating&&u.preventInteractionOnTransition||!A&&!r&&!i)return!1;const E=Math.min(s.params.slidesPerGroupSkip,a);let C=E+Math.floor((a-E)/s.params.slidesPerGroup);C>=c.length&&(C=c.length-1);const b=-c[C];if(u.normalizeSlideIndex)for(let R=0;R<h.length;R+=1){const V=-Math.floor(b*100),B=Math.floor(h[R]*100),j=Math.floor(h[R+1]*100);typeof h[R+1]<"u"?V>=B&&V<j-(j-B)/2?a=R:V>=B&&V<j&&(a=R+1):V>=B&&(a=R)}if(s.initialized&&a!==g&&(!s.allowSlideNext&&(_?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(g||0)!==a))return!1;a!==(m||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let S;if(a>g?S="next":a<g?S="prev":S="reset",_&&-b===s.translate||!_&&b===s.translate)return s.updateActiveIndex(a),u.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),u.effect!=="slide"&&s.setTranslate(b),S!=="reset"&&(s.transitionStart(n,S),s.transitionEnd(n,S)),!1;if(u.cssMode){const R=s.isHorizontal(),V=_?b:-b;if(e===0){const B=s.virtual&&s.params.virtual.enabled;B&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),B&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{I[R?"scrollLeft":"scrollTop"]=V})):I[R?"scrollLeft":"scrollTop"]=V,B&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return w9({swiper:s,targetPosition:V,side:R?"left":"top"}),!0;I.scrollTo({[R?"left":"top"]:V,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,S),e===0?s.transitionEnd(n,S):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(V){!s||s.destroyed||V.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,S))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Wne(t=0,e=this.params.speed,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;let s=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?s=s+i.virtual.slidesBefore:s=i.getSlideIndexByData(s)),i.slideTo(s,e,n,r)}function Hne(t=this.params.speed,e=!0,n){const r=this,{enabled:i,params:s,animating:a}=r;if(!i)return r;let u=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(u=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:u,h=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!h&&s.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Kne(t=this.params.speed,e=!0,n){const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:u,enabled:c,animating:h}=r;if(!c)return r;const m=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!m&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=u?r.translate:-r.translate;function _(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const I=_(g),A=s.map(b=>_(b));let E=s[A.indexOf(I)-1];if(typeof E>"u"&&i.cssMode){let b;s.forEach((S,R)=>{I>=S&&(b=R)}),typeof b<"u"&&(E=s[b>0?b-1:b])}let C=0;if(typeof E<"u"&&(C=a.indexOf(E),C<0&&(C=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(C=C-r.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}return r.slideTo(C,t,e,n)}function Yne(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function Qne(t=this.params.speed,e=!0,n,r=.5){const i=this;let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),u=a+Math.floor((s-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[u]){const h=i.snapGrid[u],m=i.snapGrid[u+1];c-h>(m-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[u-1],m=i.snapGrid[u];c-h<=(m-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Xne(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(ro(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),ST(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(ro(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),ST(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const Jne={slideTo:qne,slideToLoop:Wne,slideNext:Hne,slidePrev:Kne,slideReset:Yne,slideToClosest:Qne,slideToClickedSlide:Xne};function Zne(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;ro(r,`.${n.slideClass}, swiper-slide`).forEach((s,a)=>{s.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function ere({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,byController:s,byMousewheel:a}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:c,allowSlidePrev:h,allowSlideNext:m,slidesEl:g,params:_}=u;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&_.virtual.enabled){e&&(!_.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):_.centeredSlides&&u.snapIndex<_.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=m,u.emit("loopFix");return}const I=_.slidesPerView==="auto"?u.slidesPerViewDynamic():Math.ceil(parseFloat(_.slidesPerView,10));let A=_.loopedSlides||I;A%_.slidesPerGroup!==0&&(A+=_.slidesPerGroup-A%_.slidesPerGroup),u.loopedSlides=A;const E=[],C=[];let b=u.activeIndex;typeof i>"u"?i=u.getSlideIndex(u.slides.filter(j=>j.classList.contains(_.slideActiveClass))[0]):b=i;const S=n==="next"||!n,R=n==="prev"||!n;let V=0,B=0;if(i<A){V=Math.max(A-i,_.slidesPerGroup);for(let j=0;j<A-i;j+=1){const N=j-Math.floor(j/c.length)*c.length;E.push(c.length-N-1)}}else if(i>u.slides.length-A*2){B=Math.max(i-(u.slides.length-A*2),_.slidesPerGroup);for(let j=0;j<B;j+=1){const N=j-Math.floor(j/c.length)*c.length;C.push(N)}}if(R&&E.forEach(j=>{u.slides[j].swiperLoopMoveDOM=!0,g.prepend(u.slides[j]),u.slides[j].swiperLoopMoveDOM=!1}),S&&C.forEach(j=>{u.slides[j].swiperLoopMoveDOM=!0,g.append(u.slides[j]),u.slides[j].swiperLoopMoveDOM=!1}),u.recalcSlides(),_.slidesPerView==="auto"&&u.updateSlides(),_.watchSlidesProgress&&u.updateSlidesOffset(),e){if(E.length>0&&R)if(typeof t>"u"){const j=u.slidesGrid[b],k=u.slidesGrid[b+V]-j;a?u.setTranslate(u.translate-k):(u.slideTo(b+V,0,!1,!0),r&&(u.touches[u.isHorizontal()?"startX":"startY"]+=k))}else r&&u.slideToLoop(t,0,!1,!0);else if(C.length>0&&S)if(typeof t>"u"){const j=u.slidesGrid[b],k=u.slidesGrid[b-B]-j;a?u.setTranslate(u.translate-k):(u.slideTo(b-B,0,!1,!0),r&&(u.touches[u.isHorizontal()?"startX":"startY"]+=k))}else u.slideToLoop(t,0,!1,!0)}if(u.allowSlidePrev=h,u.allowSlideNext=m,u.controller&&u.controller.control&&!s){const j={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(N=>{!N.destroyed&&N.params.loop&&N.loopFix(j)}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix(j)}u.emit("loopFix")}function tre(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}const nre={loopCreate:Zne,loopFix:ere,loopDestroy:tre};function rre(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function ire(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}const sre={setGrabCursor:rre,unsetGrabCursor:ire};function ore(t,e=this){function n(r){if(!r||r===Ou()||r===Jr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function are(t){const e=this,n=Ou(),r=Jr(),i=e.touchEventsData;i.evCache.push(t);const{params:s,touches:a,enabled:u}=e;if(!u||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=t;c.originalEvent&&(c=c.originalEvent);let h=c.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(h)||"which"in c&&c.which===3||"button"in c&&c.button>0||i.isTouched&&i.isMoved)return;const m=!!s.noSwipingClass&&s.noSwipingClass!=="",g=t.composedPath?t.composedPath():t.path;m&&c.target&&c.target.shadowRoot&&g&&(h=g[0]);const _=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,I=!!(c.target&&c.target.shadowRoot);if(s.noSwiping&&(I?ore(_,h):h.closest(_))){e.allowClick=!0;return}if(s.swipeHandler&&!h.closest(s.swipeHandler))return;a.currentX=c.pageX,a.currentY=c.pageY;const A=a.currentX,E=a.currentY,C=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,b=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(C&&(A<=b||A>=r.innerWidth-b))if(C==="prevent")t.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=A,a.startY=E,i.touchStartTime=Tw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let S=!0;h.matches(i.focusableElements)&&(S=!1,h.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==h&&n.activeElement.blur();const R=S&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||R)&&!h.isContentEditable&&c.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",c)}function lre(t){const e=Ou(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:u}=n;if(!u||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const h=r.evCache.findIndex(j=>j.pointerId===c.pointerId);h>=0&&(r.evCache[h]=c);const m=r.evCache.length>1?r.evCache[0]:c,g=m.pageX,_=m.pageY;if(c.preventedByNestedSwiper){s.startX=g,s.startY=_;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:g,startY:_,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:g,currentY:_}),r.touchStartTime=Tw());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(_<s.startY&&n.translate<=n.maxTranslate()||_>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(g<s.startX&&n.translate<=n.maxTranslate()||g>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;s.currentX=g,s.currentY=_;const I=s.currentX-s.startX,A=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(I**2+A**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:I*I+A*A>=25&&(j=Math.atan2(Math.abs(A),Math.abs(I))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>i.touchAngle:90-j>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let E=n.isHorizontal()?I:A,C=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(E=Math.abs(E)*(a?1:-1),C=Math.abs(C)*(a?1:-1)),s.diff=E,E*=i.touchRatio,a&&(E=-E,C=-C);const b=n.touchesDirection;n.swipeDirection=E>0?"prev":"next",n.touchesDirection=C>0?"prev":"next";const S=n.params.loop&&!i.cssMode;if(!r.isMoved){if(S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let R;r.isMoved&&b!==n.touchesDirection&&S&&Math.abs(E)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),R=!0),n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let V=!0,B=i.resistanceRatio;if(i.touchReleaseOnEdges&&(B=0),E>0?(S&&!R&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(V=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+E)**B))):E<0&&(S&&!R&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(V=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-E)**B))),V&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(E)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function ure(t){const e=this,n=e.touchEventsData,r=n.evCache.findIndex(R=>R.pointerId===t.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:s,rtlTranslate:a,slidesGrid:u,enabled:c}=e;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let h=t;if(h.originalEvent&&(h=h.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",h),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const m=Tw(),g=m-n.touchStartTime;if(e.allowClick){const R=h.path||h.composedPath&&h.composedPath();e.updateClickedSlide(R&&R[0]||h.target),e.emit("tap click",h),g<300&&m-n.lastClickTime<300&&e.emit("doubleTap doubleClick",h)}if(n.lastClickTime=Tw(),ST(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(i.followFinger?_=a?e.translate:-e.translate:_=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}let I=0,A=e.slidesSizesGrid[0];for(let R=0;R<u.length;R+=R<i.slidesPerGroupSkip?1:i.slidesPerGroup){const V=R<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof u[R+V]<"u"?_>=u[R]&&_<u[R+V]&&(I=R,A=u[R+V]-u[R]):_>=u[R]&&(I=R,A=u[u.length-1]-u[u.length-2])}let E=null,C=null;i.rewind&&(e.isBeginning?C=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const b=(_-u[I])/A,S=I<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(g>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?E:I+S):e.slideTo(I)),e.swipeDirection==="prev"&&(b>1-i.longSwipesRatio?e.slideTo(I+S):C!==null&&b<0&&Math.abs(b)>i.longSwipesRatio?e.slideTo(C):e.slideTo(I))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(h.target===e.navigation.nextEl||h.target===e.navigation.prevEl)?h.target===e.navigation.nextEl?e.slideTo(I+S):e.slideTo(I):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:I+S),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:I))}}function jO(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function cre(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function dre(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function hre(t){const e=this;h_(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let zO=!1;function fre(){}const b9=(t,e)=>{const n=Ou(),{params:r,el:i,wrapperEl:s,device:a}=t,u=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",h=e;i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",jO,!0):t[h]("observerUpdate",jO,!0),i[c]("load",t.onLoad,{capture:!0})};function pre(){const t=this,e=Ou(),{params:n}=t;t.onTouchStart=are.bind(t),t.onTouchMove=lre.bind(t),t.onTouchEnd=ure.bind(t),n.cssMode&&(t.onScroll=dre.bind(t)),t.onClick=cre.bind(t),t.onLoad=hre.bind(t),zO||(e.addEventListener("touchstart",fre),zO=!0),b9(t,"on")}function mre(){b9(this,"off")}const gre={attachEvents:pre,detachEvents:mre},$O=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function vre(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,h=$O(t,r),m=$O(t,c),g=r.enabled;h&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof c[E]>"u")return;const C=r[E]&&r[E].enabled,b=c[E]&&c[E].enabled;C&&!b&&t[E].disable(),!C&&b&&t[E].enable()});const _=c.direction&&c.direction!==r.direction,I=r.loop&&(c.slidesPerView!==r.slidesPerView||_);_&&n&&t.changeDirection(),zr(t.params,c);const A=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),g&&!A?t.disable():!g&&A&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),I&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",c)}function yre(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=Jr(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:s*c,point:u}}return{value:u,point:u}});a.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<a.length;u+=1){const{point:c,value:h}=a[u];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=c):h<=n.clientWidth&&(r=c)}return r||"max"}const _re={setBreakpoint:vre,getBreakpoint:yre};function wre(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Ere(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=wre(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function Ire(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}const bre={addClasses:Ere,removeClasses:Ire};function Tre(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const Sre={checkOverflow:Tre},GO={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Cre(t,e){return function(r={}){const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){zr(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in s)){zr(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),zr(e,r)}}const EI={eventsEmitter:bne,update:One,translate:Bne,transition:Gne,slide:Jne,loop:nre,grabCursor:sre,events:gre,breakpoints:_re,checkOverflow:Sre,classes:bre},II={};let Gm=class Ks{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=zr({},r),n&&!r.el&&(r.el=n);const i=Ou();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const c=[];return i.querySelectorAll(r.el).forEach(h=>{const m=zr({},r,{el:h});c.push(new Ks(m))}),c}const s=this;s.__swiper__=!0,s.support=E9(),s.device=yne({userAgent:r.userAgent}),s.browser=wne(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const a={};s.modules.forEach(c=>{c({params:r,swiper:s,extendParams:Cre(r,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const u=zr({},GO,a);return s.params=zr({},u,II,r),s.originalParams=zr({},s.params),s.passedParams=zr({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(c=>{s.on(c,s.params.on[c])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=ro(n,`.${r.slideClass}, swiper-slide`),s=UO(i[0]);return UO(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ro(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:u,size:c,activeIndex:h}=r;let m=1;if(i.centeredSlides){let g=s[h]?s[h].swiperSlideSize:0,_;for(let I=h+1;I<s.length;I+=1)s[I]&&!_&&(g+=s[I].swiperSlideSize,m+=1,g>c&&(_=!0));for(let I=h-1;I>=0;I-=1)s[I]&&!_&&(g+=s[I].swiperSlideSize,m+=1,g>c&&(_=!0))}else if(e==="current")for(let g=h+1;g<s.length;g+=1)(n?a[g]+u[g]-a[h]<c:a[g]-a[h]<c)&&(m+=1);else for(let g=h-1;g>=0;g-=1)a[h]-a[g]<c&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&h_(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.shadowEl&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ro(r,i())[0];return!a&&n.params.createElements&&(a=hne("div",n.params.wrapperClass),r.append(a),ro(r,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement?r:a,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||pa(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||pa(r,"direction")==="rtl"),wrongRTL:pa(a,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete?h_(n,i):i.addEventListener("load",s=>{h_(n,s.target)})}),CT(n),n.initialized=!0,CT(n),n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,el:s,wrapperEl:a,slides:u}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,lne(r)),r.destroyed=!0),null}static extendDefaults(e){zr(II,e)}static get extendedDefaults(){return II}static get defaults(){return GO}static installModule(e){Ks.prototype.__modules__||(Ks.prototype.__modules__=[]);const n=Ks.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ks.installModule(n)),Ks):(Ks.installModule(e),Ks)}};Object.keys(EI).forEach(t=>{Object.keys(EI[t]).forEach(e=>{Gm.prototype[e]=EI[t][e]})});Gm.use([Ene,Ine]);function _u(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function ma(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:_u(e[r])&&_u(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ma(t[r],e[r]):t[r]=e[r]})}function T9(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function S9(t={}){return t.pagination&&typeof t.pagination.el>"u"}function C9(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function A9(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Are(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}const P9=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Pre(t={},e=!0){const n={on:{}},r={},i={};ma(n,Gm.defaults),ma(n,Gm.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},a=P9.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?_u(t[c])?(n[c]={},i[c]={},ma(n[c],t[c]),ma(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function kre({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:s},a){T9(a)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),S9(a)&&r&&(s.params.pagination.el=r,s.originalParams.pagination.el=r),C9(a)&&i&&(s.params.scrollbar.el=i,s.originalParams.scrollbar.el=i),s.init(t)}function Rre(t,e,n,r,i){const s=[];if(!e)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),h=n.map(i);c.join("")!==h.join("")&&a("children"),r.length!==n.length&&a("children")}return P9.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(_u(t[c])&&_u(e[c])){const h=Object.keys(t[c]),m=Object.keys(e[c]);h.length!==m.length?a(c):(h.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}),m.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}))}else t[c]!==e[c]&&a(c)}),s}function k9(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function R9(t){const e=[];return jt.Children.toArray(t).forEach(n=>{k9(n)?e.push(n):n.props&&n.props.children&&R9(n.props.children).forEach(r=>e.push(r))}),e}function xre(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return jt.Children.toArray(t).forEach(r=>{if(k9(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=R9(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Nre({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:s,scrollbarEl:a,paginationEl:u}){const c=r.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:h,pagination:m,navigation:g,scrollbar:_,virtual:I,thumbs:A}=t;let E,C,b,S,R,V,B,j;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&h.thumbs&&!h.thumbs.swiper&&(E=!0),r.includes("controller")&&n.controller&&n.controller.control&&h.controller&&!h.controller.control&&(C=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||u)&&(h.pagination||h.pagination===!1)&&m&&!m.el&&(b=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(h.scrollbar||h.scrollbar===!1)&&_&&!_.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||i)&&(h.navigation||h.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(R=!0);const N=k=>{t[k]&&(t[k].destroy(),k==="navigation"?(t.isElement&&(t[k].prevEl.remove(),t[k].nextEl.remove()),h[k].prevEl=void 0,h[k].nextEl=void 0,t[k].prevEl=void 0,t[k].nextEl=void 0):(t.isElement&&t[k].el.remove(),h[k].el=void 0,t[k].el=void 0))};r.includes("loop")&&t.isElement&&(h.loop&&!n.loop?V=!0:!h.loop&&n.loop?B=!0:j=!0),c.forEach(k=>{if(_u(h[k])&&_u(n[k]))ma(h[k],n[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in n[k]&&!n[k].enabled&&N(k);else{const O=n[k];(O===!0||O===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?O===!1&&N(k):h[k]=n[k]}}),c.includes("controller")&&!C&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),r.includes("children")&&e&&I&&h.virtual.enabled&&(I.slides=e,I.update(!0)),r.includes("children")&&e&&h.loop&&(j=!0),E&&A.init()&&A.update(!0),C&&(t.controller.control=h.controller.control),b&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),t.el.shadowEl.appendChild(u)),u&&(h.pagination.el=u),m.init(),m.render(),m.update()),S&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),t.el.shadowEl.appendChild(a)),a&&(h.scrollbar.el=a),_.init(),_.updateSize(),_.setTranslate()),R&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),t.el.shadowEl.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),t.el.shadowEl.appendChild(s))),i&&(h.navigation.nextEl=i),s&&(h.navigation.prevEl=s),g.init(),g.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(V||j)&&t.loopDestroy(),(B||j)&&t.loopCreate(),t.update()}function Dre(t,e,n){if(!n)return null;const r=m=>{let g=m;return m<0?g=e.length+m:g>=e.length&&(g=g-e.length),g},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,h=[];for(let m=u;m<c;m+=1)m>=s&&m<=a&&h.push(e[r(m)]);return h.map((m,g)=>jt.cloneElement(m,{swiper:t,style:i,key:`slide-${g}`}))}const Ore=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function qp(t,e){return typeof window>"u"?Ie.useEffect(t,e):Ie.useLayoutEffect(t,e)}const qO=Ie.createContext(null),Lre=Ie.createContext(null);function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(this,arguments)}const tP=Ie.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...u}=t===void 0?{}:t,c=!1;const[h,m]=Ie.useState("swiper"),[g,_]=Ie.useState(null),[I,A]=Ie.useState(!1),E=Ie.useRef(!1),C=Ie.useRef(null),b=Ie.useRef(null),S=Ie.useRef(null),R=Ie.useRef(null),V=Ie.useRef(null),B=Ie.useRef(null),j=Ie.useRef(null),N=Ie.useRef(null),{params:k,passedParams:O,rest:F,events:L}=Pre(u),{slides:U,slots:D}=xre(s),We=()=>{A(!I)};Object.assign(k.on,{_containerClasses(ue,fe){m(fe)}});const xe=()=>{Object.assign(k.on,L),c=!0;const ue={...k};if(delete ue.wrapperClass,b.current=new Gm(ue),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=U;const fe={cache:!1,slides:U,renderExternal:_,renderExternalUpdate:!1};ma(b.current.params.virtual,fe),ma(b.current.originalParams.virtual,fe)}};C.current||xe(),b.current&&b.current.on("_beforeBreakpoint",We);const Ee=()=>{c||!L||!b.current||Object.keys(L).forEach(ue=>{b.current.on(ue,L[ue])})},at=()=>{!L||!b.current||Object.keys(L).forEach(ue=>{b.current.off(ue,L[ue])})};Ie.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",We)}),Ie.useEffect(()=>{!E.current&&b.current&&(b.current.emitSlidesClasses(),E.current=!0)}),qp(()=>{if(e&&(e.current=C.current),!!C.current)return b.current.destroyed&&xe(),kre({el:C.current,nextEl:V.current,prevEl:B.current,paginationEl:j.current,scrollbarEl:N.current,swiper:b.current},k),a&&a(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),qp(()=>{Ee();const ue=Rre(O,S.current,U,R.current,fe=>fe.key);return S.current=O,R.current=U,ue.length&&b.current&&!b.current.destroyed&&Nre({swiper:b.current,slides:U,passedParams:O,changedParams:ue,nextEl:V.current,prevEl:B.current,scrollbarEl:N.current,paginationEl:j.current}),()=>{at()}}),qp(()=>{Ore(b.current)},[g]);function se(){return k.virtual?Dre(b.current,U,g):U.map((ue,fe)=>jt.cloneElement(ue,{swiper:b.current,swiperSlideIndex:fe}))}return jt.createElement(r,AT({ref:C,className:A9(`${h}${n?` ${n}`:""}`)},F),jt.createElement(Lre.Provider,{value:b.current},D["container-start"],jt.createElement(i,{className:Are(k.wrapperClass)},D["wrapper-start"],se(),D["wrapper-end"]),T9(k)&&jt.createElement(jt.Fragment,null,jt.createElement("div",{ref:B,className:"swiper-button-prev"}),jt.createElement("div",{ref:V,className:"swiper-button-next"})),C9(k)&&jt.createElement("div",{ref:N,className:"swiper-scrollbar"}),S9(k)&&jt.createElement("div",{ref:j,className:"swiper-pagination"}),D["container-end"]))});tP.displayName="Swiper";function PT(){return PT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PT.apply(this,arguments)}const nP=Ie.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:u,virtualIndex:c,swiperSlideIndex:h,...m}=t===void 0?{}:t;const g=Ie.useRef(null),[_,I]=Ie.useState("swiper-slide"),[A,E]=Ie.useState(!1);function C(V,B,j){B===g.current&&I(j)}qp(()=>{if(typeof h<"u"&&(g.current.swiperSlideIndex=h),e&&(e.current=g.current),!(!g.current||!s)){if(s.destroyed){_!=="swiper-slide"&&I("swiper-slide");return}return s.on("_slideClass",C),()=>{s&&s.off("_slideClass",C)}}}),qp(()=>{s&&g.current&&!s.destroyed&&I(s.getSlideClasses(g.current))},[s]);const b={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},S=()=>typeof r=="function"?r(b):r,R=()=>{E(!0)};return jt.createElement(n,PT({ref:g,className:A9(`${_}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:R},m),a&&jt.createElement(qO.Provider,{value:b},jt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},S(),u&&!A&&jt.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&jt.createElement(qO.Provider,{value:b},S(),u&&!A&&jt.createElement("div",{className:"swiper-lazy-preloader"})))});nP.displayName="SwiperSlide";const f_=({onClick:t,text:e,className:n})=>te.jsx("div",{className:n,children:te.jsx("button",{className:`btn ${n}`,onClick:t,children:e})}),Mre=()=>{const[t,e]=Ie.useState([]),[n,r]=Ie.useState(""),[i,s]=Ie.useState(!0),[a,u]=Ie.useState(null),[c,h]=Ie.useState(null),m=Ie.useRef(null),g=async()=>{e([]),s(!0),h(null);const C=5,b=[];try{for(let S=0;S<C;S++){const R=await JA();b.push(R)}VO(b)}catch{h("Failed to fetch Pokmon data. Please try again.")}finally{setTimeout(()=>{s(!1)},800)}},_=async C=>{s(!0),h(null);try{e(b=>b.filter(S=>S.id!==(C==null?void 0:C.id)))}catch{h("Failed to fetch Pokmon data. Please try again.")}finally{console.log(t,"pokemons array after removing"),setTimeout(()=>{s(!1)},1200)}},I=async()=>{try{const C=await ine(),b=Date.now(),S=10*1e3;!C||b-C>=S?await g():s(!1)}catch(C){console.error("Error fetching pokemons:",C),h("Failed to fetch Pokmon data. Please try again."),s(!1)}finally{const C=await sne();e(C)}};Ie.useEffect(()=>{I()},[]);const A=async()=>{if(a){if(!await d_(-3e3)){console.error("Insufficient balance"),r("Insufficient money to buy this Pokmon."),setTimeout(()=>{r("")},1200);return}const{name:b}=a;v9(a),VO(t.filter(S=>S!==a)),_(a),r(`You got ${TT(b)}. Adding to your collection`),setTimeout(()=>{r("")},1200)}},E=C=>{const b=C.realIndex;u(t[b])};return te.jsxs(te.Fragment,{children:[te.jsx("h1",{children:"Shop"}),i?te.jsx(ZA,{message:n}):c?te.jsx("div",{className:"error",children:c}):te.jsxs("div",{children:[t&&t.length>0?te.jsxs(te.Fragment,{children:[te.jsx("p",{className:"pokemon-count",children:"Choose your card."}),te.jsx(tP,{ref:m,spaceBetween:50,slidesPerView:1,onSlideChange:E,onSwiper:C=>u(t[C.realIndex]),loop:!0,children:t.map((C,b)=>te.jsx("li",{children:te.jsx(nP,{className:"col-md-4 mb-4 blur",children:te.jsx(y9,{hp:C.stats[0].base_stat,imgSrc:C.sprites.front_default,pokeName:C.name,statAttack:C.stats[1].base_stat,statDefense:C.stats[2].base_stat,statSpeed:C.stats[5].base_stat,types:C.types})},b)},b))})]}):te.jsx("h3",{children:"All pokemons were sold, come back later"}),n&&te.jsx("h2",{className:"msg",children:n}),te.jsx(f_,{onClick:A,text:"Buy",className:"buy"})]})]})},Vre=()=>{const[t,e]=Ie.useState(null),[n,r]=Ie.useState(0),[i,s]=Ie.useState(!0),[a,u]=Ie.useState(null),c=Ie.useRef(null);return Ie.useEffect(()=>{const h=Au(nne),m=ko.currentUser;if(m){s(!0);const g=m.uid,_=po(h,`users/${g}/pokemon`);(async()=>{q4(_,async A=>{try{const E=A.val();if(console.log(E,"display item"),E){const C=Object.values(E),b=await Promise.all(C.map(async S=>await rne(S)));r(C.length),e(b)}else e([]);setTimeout(()=>{s(!1)},500)}catch{u("Failed to fetch Pokmon data. Please try again."),setTimeout(()=>{s(!1)},500)}})})()}return()=>{m&&TH(po(h,`users/${m.uid}/pokemon`))}},[]),te.jsxs(te.Fragment,{children:[te.jsx("h1",{children:"My Cards"}),i?te.jsx(ZA,{message:"Loading cards..."}):a?te.jsx("div",{className:"error",children:a}):te.jsxs("div",{children:[te.jsxs("p",{className:"pokemon-count",children:["You have ",t==null?void 0:t.length," Pokemon cards."]}),te.jsx(tP,{ref:c,spaceBetween:50,slidesPerView:1,initialSlide:n||0,onSlideChange:()=>console.log("slide change"),onSwiper:h=>console.log(h),loop:!0,children:t&&t.map((h,m)=>te.jsx(nP,{className:"col-md-4 mb-4 blur",children:te.jsx(y9,{hp:h.stats[0].base_stat,imgSrc:h.sprites.front_default,pokeName:h.name,statAttack:h.stats[1].base_stat,statDefense:h.stats[2].base_stat,statSpeed:h.stats[5].base_stat,types:h.types,isNewCard:m===t.length-1})},m))})]})]})};function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){En(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ure(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bre(t,e,n){return e&&Ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function En(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rP(t,e){return zre(t)||Gre(t,e)||x9(t,e)||Wre()}function kg(t){return jre(t)||$re(t)||x9(t)||qre()}function jre(t){if(Array.isArray(t))return kT(t)}function zre(t){if(Array.isArray(t))return t}function $re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,u;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function x9(t,e){if(t){if(typeof t=="string")return kT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(t,e)}}function kT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HO=function(){},iP={},N9={},D9=null,O9={mark:HO,measure:HO};try{typeof window<"u"&&(iP=window),typeof document<"u"&&(N9=document),typeof MutationObserver<"u"&&(D9=MutationObserver),typeof performance<"u"&&(O9=performance)}catch{}var Hre=iP.navigator||{},KO=Hre.userAgent,YO=KO===void 0?"":KO,$a=iP,Et=N9,QO=D9,Ay=O9;$a.document;var Ro=!!Et.documentElement&&!!Et.head&&typeof Et.addEventListener=="function"&&typeof Et.createElement=="function",L9=~YO.indexOf("MSIE")||~YO.indexOf("Trident/"),Py,ky,Ry,xy,Ny,yo="___FONT_AWESOME___",RT=16,M9="fa",V9="svg-inline--fa",wu="data-fa-i2svg",xT="data-fa-pseudo-element",Kre="data-fa-pseudo-element-pending",sP="data-prefix",oP="data-icon",XO="fontawesome-i2svg",Yre="async",Qre=["HTML","HEAD","STYLE","SCRIPT"],F9=function(){try{return!0}catch{return!1}}(),yt="classic",Gt="sharp",aP=[yt,Gt];function Rg(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[yt]}})}var qm=Rg((Py={},En(Py,yt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),En(Py,Gt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Py)),Wm=Rg((ky={},En(ky,yt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),En(ky,Gt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),ky)),Hm=Rg((Ry={},En(Ry,yt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),En(Ry,Gt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Ry)),Xre=Rg((xy={},En(xy,yt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),En(xy,Gt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),xy)),Jre=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,U9="fa-layers-text",Zre=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,eie=Rg((Ny={},En(Ny,yt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),En(Ny,Gt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Ny)),B9=[1,2,3,4,5,6,7,8,9,10],tie=B9.concat([11,12,13,14,15,16,17,18,19,20]),nie=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Km=new Set;Object.keys(Wm[yt]).map(Km.add.bind(Km));Object.keys(Wm[Gt]).map(Km.add.bind(Km));var rie=[].concat(aP,kg(Km),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",zl.GROUP,zl.SWAP_OPACITY,zl.PRIMARY,zl.SECONDARY]).concat(B9.map(function(t){return"".concat(t,"x")})).concat(tie.map(function(t){return"w-".concat(t)})),Wp=$a.FontAwesomeConfig||{};function iie(t){var e=Et.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function sie(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Et&&typeof Et.querySelector=="function"){var oie=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];oie.forEach(function(t){var e=rP(t,2),n=e[0],r=e[1],i=sie(iie(n));i!=null&&(Wp[r]=i)})}var j9={styleDefault:"solid",familyDefault:"classic",cssPrefix:M9,replacementClass:V9,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Wp.familyPrefix&&(Wp.cssPrefix=Wp.familyPrefix);var rh=ce(ce({},j9),Wp);rh.autoReplaceSvg||(rh.observeMutations=!1);var ge={};Object.keys(j9).forEach(function(t){Object.defineProperty(ge,t,{enumerable:!0,set:function(n){rh[t]=n,Hp.forEach(function(r){return r(ge)})},get:function(){return rh[t]}})});Object.defineProperty(ge,"familyPrefix",{enumerable:!0,set:function(e){rh.cssPrefix=e,Hp.forEach(function(n){return n(ge)})},get:function(){return rh.cssPrefix}});$a.FontAwesomeConfig=ge;var Hp=[];function aie(t){return Hp.push(t),function(){Hp.splice(Hp.indexOf(t),1)}}var ra=RT,Es={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lie(t){if(!(!t||!Ro)){var e=Et.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Et.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return Et.head.insertBefore(e,r),t}}var uie="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ym(){for(var t=12,e="";t-- >0;)e+=uie[Math.random()*62|0];return e}function Sh(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function lP(t){return t.classList?Sh(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function z9(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cie(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(z9(t[n]),'" ')},"").trim()}function $0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function uP(t){return t.size!==Es.size||t.x!==Es.x||t.y!==Es.y||t.rotate!==Es.rotate||t.flipX||t.flipY}function die(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),u="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(a," ").concat(u)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:h}}function hie(t){var e=t.transform,n=t.width,r=n===void 0?RT:n,i=t.height,s=i===void 0?RT:i,a=t.startCentered,u=a===void 0?!1:a,c="";return u&&L9?c+="translate(".concat(e.x/ra-r/2,"em, ").concat(e.y/ra-s/2,"em) "):u?c+="translate(calc(-50% + ".concat(e.x/ra,"em), calc(-50% + ").concat(e.y/ra,"em)) "):c+="translate(".concat(e.x/ra,"em, ").concat(e.y/ra,"em) "),c+="scale(".concat(e.size/ra*(e.flipX?-1:1),", ").concat(e.size/ra*(e.flipY?-1:1),") "),c+="rotate(".concat(e.rotate,"deg) "),c}var fie=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function $9(){var t=M9,e=V9,n=ge.cssPrefix,r=ge.replacementClass,i=fie;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),u=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var JO=!1;function bI(){ge.autoAddCss&&!JO&&(lie($9()),JO=!0)}var pie={mixout:function(){return{dom:{css:$9,insertCss:bI}}},hooks:function(){return{beforeDOMElementCreation:function(){bI()},beforeI2svg:function(){bI()}}}},_o=$a||{};_o[yo]||(_o[yo]={});_o[yo].styles||(_o[yo].styles={});_o[yo].hooks||(_o[yo].hooks={});_o[yo].shims||(_o[yo].shims=[]);var Fi=_o[yo],G9=[],mie=function t(){Et.removeEventListener("DOMContentLoaded",t),Cw=1,G9.map(function(e){return e()})},Cw=!1;Ro&&(Cw=(Et.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Et.readyState),Cw||Et.addEventListener("DOMContentLoaded",mie));function gie(t){Ro&&(Cw?setTimeout(t,0):G9.push(t))}function xg(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?z9(t):"<".concat(e," ").concat(cie(r),">").concat(s.map(xg).join(""),"</").concat(e,">")}function ZO(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var TI=function(e,n,r,i){var s=Object.keys(e),a=s.length,u=n,c,h,m;for(r===void 0?(c=1,m=e[s[0]]):(c=0,m=r);c<a;c++)h=s[c],m=u(m,e[h],h,e);return m};function vie(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function NT(t){var e=vie(t);return e.length===1?e[0].toString(16):null}function yie(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function eL(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function DT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=eL(e);typeof Fi.hooks.addPack=="function"&&!i?Fi.hooks.addPack(t,eL(e)):Fi.styles[t]=ce(ce({},Fi.styles[t]||{}),s),t==="fas"&&DT("fa",e)}var Dy,Oy,Ly,dd=Fi.styles,_ie=Fi.shims,wie=(Dy={},En(Dy,yt,Object.values(Hm[yt])),En(Dy,Gt,Object.values(Hm[Gt])),Dy),cP=null,q9={},W9={},H9={},K9={},Y9={},Eie=(Oy={},En(Oy,yt,Object.keys(qm[yt])),En(Oy,Gt,Object.keys(qm[Gt])),Oy);function Iie(t){return~rie.indexOf(t)}function bie(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!Iie(i)?i:null}var Q9=function(){var e=function(s){return TI(dd,function(a,u,c){return a[c]=TI(u,s,{}),a},{})};q9=e(function(i,s,a){if(s[3]&&(i[s[3]]=a),s[2]){var u=s[2].filter(function(c){return typeof c=="number"});u.forEach(function(c){i[c.toString(16)]=a})}return i}),W9=e(function(i,s,a){if(i[a]=a,s[2]){var u=s[2].filter(function(c){return typeof c=="string"});u.forEach(function(c){i[c]=a})}return i}),Y9=e(function(i,s,a){var u=s[2];return i[a]=a,u.forEach(function(c){i[c]=a}),i});var n="far"in dd||ge.autoFetchSvg,r=TI(_ie,function(i,s){var a=s[0],u=s[1],c=s[2];return u==="far"&&!n&&(u="fas"),typeof a=="string"&&(i.names[a]={prefix:u,iconName:c}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:u,iconName:c}),i},{names:{},unicodes:{}});H9=r.names,K9=r.unicodes,cP=G0(ge.styleDefault,{family:ge.familyDefault})};aie(function(t){cP=G0(t.styleDefault,{family:ge.familyDefault})});Q9();function dP(t,e){return(q9[t]||{})[e]}function Tie(t,e){return(W9[t]||{})[e]}function $l(t,e){return(Y9[t]||{})[e]}function X9(t){return H9[t]||{prefix:null,iconName:null}}function Sie(t){var e=K9[t],n=dP("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ga(){return cP}var hP=function(){return{prefix:null,iconName:null,rest:[]}};function G0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?yt:n,i=qm[r][t],s=Wm[r][t]||Wm[r][i],a=t in Fi.styles?t:null;return s||a||null}var tL=(Ly={},En(Ly,yt,Object.keys(Hm[yt])),En(Ly,Gt,Object.keys(Hm[Gt])),Ly);function q0(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},En(e,yt,"".concat(ge.cssPrefix,"-").concat(yt)),En(e,Gt,"".concat(ge.cssPrefix,"-").concat(Gt)),e),a=null,u=yt;(t.includes(s[yt])||t.some(function(h){return tL[yt].includes(h)}))&&(u=yt),(t.includes(s[Gt])||t.some(function(h){return tL[Gt].includes(h)}))&&(u=Gt);var c=t.reduce(function(h,m){var g=bie(ge.cssPrefix,m);if(dd[m]?(m=wie[u].includes(m)?Xre[u][m]:m,a=m,h.prefix=m):Eie[u].indexOf(m)>-1?(a=m,h.prefix=G0(m,{family:u})):g?h.iconName=g:m!==ge.replacementClass&&m!==s[yt]&&m!==s[Gt]&&h.rest.push(m),!i&&h.prefix&&h.iconName){var _=a==="fa"?X9(h.iconName):{},I=$l(h.prefix,h.iconName);_.prefix&&(a=null),h.iconName=_.iconName||I||h.iconName,h.prefix=_.prefix||h.prefix,h.prefix==="far"&&!dd.far&&dd.fas&&!ge.autoFetchSvg&&(h.prefix="fas")}return h},hP());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&u===Gt&&(dd.fass||ge.autoFetchSvg)&&(c.prefix="fass",c.iconName=$l(c.prefix,c.iconName)||c.iconName),(c.prefix==="fa"||a==="fa")&&(c.prefix=Ga()||"fas"),c}var Cie=function(){function t(){Fre(this,t),this.definitions={}}return Bre(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(u){n.definitions[u]=ce(ce({},n.definitions[u]||{}),a[u]),DT(u,a[u]);var c=Hm[yt][u];c&&DT(c,a[u]),Q9()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],u=a.prefix,c=a.iconName,h=a.icon,m=h[2];n[u]||(n[u]={}),m.length>0&&m.forEach(function(g){typeof g=="string"&&(n[u][g]=h)}),n[u][c]=h}),n}}]),t}(),nL=[],hd={},Pd={},Aie=Object.keys(Pd);function Pie(t,e){var n=e.mixoutsTo;return nL=t,hd={},Object.keys(Pd).forEach(function(r){Aie.indexOf(r)===-1&&delete Pd[r]}),nL.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(n[a]=i[a]),Sw(i[a])==="object"&&Object.keys(i[a]).forEach(function(u){n[a]||(n[a]={}),n[a][u]=i[a][u]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){hd[a]||(hd[a]=[]),hd[a].push(s[a])})}r.provides&&r.provides(Pd)}),n}function OT(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=hd[t]||[];return s.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Eu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=hd[t]||[];i.forEach(function(s){s.apply(null,n)})}function wo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Pd[t]?Pd[t].apply(null,e):void 0}function LT(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Ga();if(e)return e=$l(n,e)||e,ZO(J9.definitions,n,e)||ZO(Fi.styles,n,e)}var J9=new Cie,kie=function(){ge.autoReplaceSvg=!1,ge.observeMutations=!1,Eu("noAuto")},Rie={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ro?(Eu("beforeI2svg",e),wo("pseudoElements2svg",e),wo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;ge.autoReplaceSvg===!1&&(ge.autoReplaceSvg=!0),ge.observeMutations=!0,gie(function(){Nie({autoReplaceSvgRoot:n}),Eu("watch",e)})}},xie={icon:function(e){if(e===null)return null;if(Sw(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:$l(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=G0(e[0]);return{prefix:r,iconName:$l(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(ge.cssPrefix,"-"))>-1||e.match(Jre))){var i=q0(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ga(),iconName:$l(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Ga();return{prefix:s,iconName:$l(s,e)||e}}}},Zr={noAuto:kie,config:ge,dom:Rie,parse:xie,library:J9,findIconDefinition:LT,toHtml:xg},Nie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Et:n;(Object.keys(Fi.styles).length>0||ge.autoFetchSvg)&&Ro&&ge.autoReplaceSvg&&Zr.dom.i2svg({node:r})};function W0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return xg(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Ro){var r=Et.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Die(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(uP(a)&&n.found&&!r.found){var u=n.width,c=n.height,h={x:u/c/2,y:.5};i.style=$0(ce(ce({},s),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Oie(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=s===!0?"".concat(e,"-").concat(ge.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ce(ce({},i),{},{id:a}),children:r}]}]}function fP(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,u=t.symbol,c=t.title,h=t.maskId,m=t.titleId,g=t.extra,_=t.watchable,I=_===void 0?!1:_,A=r.found?r:n,E=A.width,C=A.height,b=i==="fak",S=[ge.replacementClass,s?"".concat(ge.cssPrefix,"-").concat(s):""].filter(function(O){return g.classes.indexOf(O)===-1}).filter(function(O){return O!==""||!!O}).concat(g.classes).join(" "),R={children:[],attributes:ce(ce({},g.attributes),{},{"data-prefix":i,"data-icon":s,class:S,role:g.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(C)})},V=b&&!~g.classes.indexOf("fa-fw")?{width:"".concat(E/C*16*.0625,"em")}:{};I&&(R.attributes[wu]=""),c&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(m||Ym())},children:[c]}),delete R.attributes.title);var B=ce(ce({},R),{},{prefix:i,iconName:s,main:n,mask:r,maskId:h,transform:a,symbol:u,styles:ce(ce({},V),g.styles)}),j=r.found&&n.found?wo("generateAbstractMask",B)||{children:[],attributes:{}}:wo("generateAbstractIcon",B)||{children:[],attributes:{}},N=j.children,k=j.attributes;return B.children=N,B.attributes=k,u?Oie(B):Die(B)}function rL(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,u=t.watchable,c=u===void 0?!1:u,h=ce(ce(ce({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(h[wu]="");var m=ce({},a.styles);uP(i)&&(m.transform=hie({transform:i,startCentered:!0,width:n,height:r}),m["-webkit-transform"]=m.transform);var g=$0(m);g.length>0&&(h.style=g);var _=[];return _.push({tag:"span",attributes:h,children:[e]}),s&&_.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),_}function Lie(t){var e=t.content,n=t.title,r=t.extra,i=ce(ce(ce({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=$0(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var SI=Fi.styles;function MT(t){var e=t[0],n=t[1],r=t.slice(4),i=rP(r,1),s=i[0],a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(ge.cssPrefix,"-").concat(zl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ge.cssPrefix,"-").concat(zl.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ge.cssPrefix,"-").concat(zl.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:a}}var Mie={found:!1,width:512,height:512};function Vie(t,e){!F9&&!ge.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function VT(t,e){var n=e;return e==="fa"&&ge.styleDefault!==null&&(e=Ga()),new Promise(function(r,i){if(wo("missingIconAbstract"),n==="fa"){var s=X9(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&SI[e]&&SI[e][t]){var a=SI[e][t];return r(MT(a))}Vie(t,e),r(ce(ce({},Mie),{},{icon:ge.showMissingIcons&&t?wo("missingIconAbstract")||{}:{}}))})}var iL=function(){},FT=ge.measurePerformance&&Ay&&Ay.mark&&Ay.measure?Ay:{mark:iL,measure:iL},Ep='FA "6.5.2"',Fie=function(e){return FT.mark("".concat(Ep," ").concat(e," begins")),function(){return Z9(e)}},Z9=function(e){FT.mark("".concat(Ep," ").concat(e," ends")),FT.measure("".concat(Ep," ").concat(e),"".concat(Ep," ").concat(e," begins"),"".concat(Ep," ").concat(e," ends"))},pP={begin:Fie,end:Z9},p_=function(){};function sL(t){var e=t.getAttribute?t.getAttribute(wu):null;return typeof e=="string"}function Uie(t){var e=t.getAttribute?t.getAttribute(sP):null,n=t.getAttribute?t.getAttribute(oP):null;return e&&n}function Bie(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ge.replacementClass)}function jie(){if(ge.autoReplaceSvg===!0)return m_.replace;var t=m_[ge.autoReplaceSvg];return t||m_.replace}function zie(t){return Et.createElementNS("http://www.w3.org/2000/svg",t)}function $ie(t){return Et.createElement(t)}function eU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?zie:$ie:n;if(typeof t=="string")return Et.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])});var s=t.children||[];return s.forEach(function(a){i.appendChild(eU(a,{ceFn:r}))}),i}function Gie(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var m_={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(eU(i),n)}),n.getAttribute(wu)===null&&ge.keepOriginalSource){var r=Et.createComment(Gie(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~lP(n).indexOf(ge.replacementClass))return m_.replace(e);var i=new RegExp("".concat(ge.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(u,c){return c===ge.replacementClass||c.match(i)?u.toSvg.push(c):u.toNode.push(c),u},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(u){return xg(u)}).join(`
`);n.setAttribute(wu,""),n.innerHTML=a}};function oL(t){t()}function tU(t,e){var n=typeof e=="function"?e:p_;if(t.length===0)n();else{var r=oL;ge.mutateApproach===Yre&&(r=$a.requestAnimationFrame||oL),r(function(){var i=jie(),s=pP.begin("mutate");t.map(i),s(),n()})}}var mP=!1;function nU(){mP=!0}function UT(){mP=!1}var Aw=null;function aL(t){if(QO&&ge.observeMutations){var e=t.treeCallback,n=e===void 0?p_:e,r=t.nodeCallback,i=r===void 0?p_:r,s=t.pseudoElementsCallback,a=s===void 0?p_:s,u=t.observeMutationsRoot,c=u===void 0?Et:u;Aw=new QO(function(h){if(!mP){var m=Ga();Sh(h).forEach(function(g){if(g.type==="childList"&&g.addedNodes.length>0&&!sL(g.addedNodes[0])&&(ge.searchPseudoElements&&a(g.target),n(g.target)),g.type==="attributes"&&g.target.parentNode&&ge.searchPseudoElements&&a(g.target.parentNode),g.type==="attributes"&&sL(g.target)&&~nie.indexOf(g.attributeName))if(g.attributeName==="class"&&Uie(g.target)){var _=q0(lP(g.target)),I=_.prefix,A=_.iconName;g.target.setAttribute(sP,I||m),A&&g.target.setAttribute(oP,A)}else Bie(g.target)&&i(g.target)})}}),Ro&&Aw.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qie(){Aw&&Aw.disconnect()}function Wie(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],u=s.slice(1);return a&&u.length>0&&(r[a]=u.join(":").trim()),r},{})),n}function Hie(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=q0(lP(t));return i.prefix||(i.prefix=Ga()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Tie(i.prefix,t.innerText)||dP(i.prefix,NT(t.innerText))),!i.iconName&&ge.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Kie(t){var e=Sh(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ge.autoA11y&&(n?e["aria-labelledby"]="".concat(ge.replacementClass,"-title-").concat(r||Ym()):(e["aria-hidden"]="true",e.focusable="false")),e}function Yie(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Es,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function lL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Hie(t),r=n.iconName,i=n.prefix,s=n.rest,a=Kie(t),u=OT("parseNodeAttributes",{},t),c=e.styleParser?Wie(t):[];return ce({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Es,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},u)}var Qie=Fi.styles;function rU(t){var e=ge.autoReplaceSvg==="nest"?lL(t,{styleParser:!1}):lL(t);return~e.extra.classes.indexOf(U9)?wo("generateLayersText",t,e):wo("generateSvgReplacementMutation",t,e)}var qa=new Set;aP.map(function(t){qa.add("fa-".concat(t))});Object.keys(qm[yt]).map(qa.add.bind(qa));Object.keys(qm[Gt]).map(qa.add.bind(qa));qa=kg(qa);function uL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ro)return Promise.resolve();var n=Et.documentElement.classList,r=function(g){return n.add("".concat(XO,"-").concat(g))},i=function(g){return n.remove("".concat(XO,"-").concat(g))},s=ge.autoFetchSvg?qa:aP.map(function(m){return"fa-".concat(m)}).concat(Object.keys(Qie));s.includes("fa")||s.push("fa");var a=[".".concat(U9,":not([").concat(wu,"])")].concat(s.map(function(m){return".".concat(m,":not([").concat(wu,"])")})).join(", ");if(a.length===0)return Promise.resolve();var u=[];try{u=Sh(t.querySelectorAll(a))}catch{}if(u.length>0)r("pending"),i("complete");else return Promise.resolve();var c=pP.begin("onTree"),h=u.reduce(function(m,g){try{var _=rU(g);_&&m.push(_)}catch(I){F9||I.name==="MissingIcon"&&console.error(I)}return m},[]);return new Promise(function(m,g){Promise.all(h).then(function(_){tU(_,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),m()})}).catch(function(_){c(),g(_)})})}function Xie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;rU(t).then(function(n){n&&tU([n],e)})}function Jie(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:LT(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:LT(i||{})),t(r,ce(ce({},n),{},{mask:i}))}}var Zie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Es:r,s=n.symbol,a=s===void 0?!1:s,u=n.mask,c=u===void 0?null:u,h=n.maskId,m=h===void 0?null:h,g=n.title,_=g===void 0?null:g,I=n.titleId,A=I===void 0?null:I,E=n.classes,C=E===void 0?[]:E,b=n.attributes,S=b===void 0?{}:b,R=n.styles,V=R===void 0?{}:R;if(e){var B=e.prefix,j=e.iconName,N=e.icon;return W0(ce({type:"icon"},e),function(){return Eu("beforeDOMElementCreation",{iconDefinition:e,params:n}),ge.autoA11y&&(_?S["aria-labelledby"]="".concat(ge.replacementClass,"-title-").concat(A||Ym()):(S["aria-hidden"]="true",S.focusable="false")),fP({icons:{main:MT(N),mask:c?MT(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:B,iconName:j,transform:ce(ce({},Es),i),symbol:a,title:_,maskId:m,titleId:A,extra:{attributes:S,styles:V,classes:C}})})}},ese={mixout:function(){return{icon:Jie(Zie)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=uL,n.nodeCallback=Xie,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Et:r,s=n.callback,a=s===void 0?function(){}:s;return uL(i,a)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,u=r.prefix,c=r.transform,h=r.symbol,m=r.mask,g=r.maskId,_=r.extra;return new Promise(function(I,A){Promise.all([VT(i,u),m.iconName?VT(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(E){var C=rP(E,2),b=C[0],S=C[1];I([n,fP({icons:{main:b,mask:S},prefix:u,iconName:i,transform:c,symbol:h,maskId:g,title:s,titleId:a,extra:_,watchable:!0})])}).catch(A)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.transform,u=n.styles,c=$0(u);c.length>0&&(i.style=c);var h;return uP(a)&&(h=wo("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(h||s.icon),{children:r,attributes:i}}}},tse={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return W0({type:"layer"},function(){Eu("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(u){Array.isArray(u)?u.map(function(c){a=a.concat(c.abstract)}):a=a.concat(u.abstract)}),[{tag:"span",attributes:{class:["".concat(ge.cssPrefix,"-layers")].concat(kg(s)).join(" ")},children:a}]})}}}},nse={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,a=r.classes,u=a===void 0?[]:a,c=r.attributes,h=c===void 0?{}:c,m=r.styles,g=m===void 0?{}:m;return W0({type:"counter",content:n},function(){return Eu("beforeDOMElementCreation",{content:n,params:r}),Lie({content:n.toString(),title:s,extra:{attributes:h,styles:g,classes:["".concat(ge.cssPrefix,"-layers-counter")].concat(kg(u))}})})}}}},rse={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Es:i,a=r.title,u=a===void 0?null:a,c=r.classes,h=c===void 0?[]:c,m=r.attributes,g=m===void 0?{}:m,_=r.styles,I=_===void 0?{}:_;return W0({type:"text",content:n},function(){return Eu("beforeDOMElementCreation",{content:n,params:r}),rL({content:n,transform:ce(ce({},Es),s),title:u,extra:{attributes:g,styles:I,classes:["".concat(ge.cssPrefix,"-layers-text")].concat(kg(h))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,u=null,c=null;if(L9){var h=parseInt(getComputedStyle(n).fontSize,10),m=n.getBoundingClientRect();u=m.width/h,c=m.height/h}return ge.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,rL({content:n.innerHTML,width:u,height:c,transform:s,title:i,extra:a,watchable:!0})])}}},ise=new RegExp('"',"ug"),cL=[1105920,1112319];function sse(t){var e=t.replace(ise,""),n=yie(e,0),r=n>=cL[0]&&n<=cL[1],i=e.length===2?e[0]===e[1]:!1;return{value:NT(i?e[0]:e),isSecondary:r||i}}function dL(t,e){var n="".concat(Kre).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Sh(t.children),a=s.filter(function(N){return N.getAttribute(xT)===e})[0],u=$a.getComputedStyle(t,e),c=u.getPropertyValue("font-family").match(Zre),h=u.getPropertyValue("font-weight"),m=u.getPropertyValue("content");if(a&&!c)return t.removeChild(a),r();if(c&&m!=="none"&&m!==""){var g=u.getPropertyValue("content"),_=~["Sharp"].indexOf(c[2])?Gt:yt,I=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Wm[_][c[2].toLowerCase()]:eie[_][h],A=sse(g),E=A.value,C=A.isSecondary,b=c[0].startsWith("FontAwesome"),S=dP(I,E),R=S;if(b){var V=Sie(E);V.iconName&&V.prefix&&(S=V.iconName,I=V.prefix)}if(S&&!C&&(!a||a.getAttribute(sP)!==I||a.getAttribute(oP)!==R)){t.setAttribute(n,R),a&&t.removeChild(a);var B=Yie(),j=B.extra;j.attributes[xT]=e,VT(S,I).then(function(N){var k=fP(ce(ce({},B),{},{icons:{main:N,mask:hP()},prefix:I,iconName:R,extra:j,watchable:!0})),O=Et.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=k.map(function(F){return xg(F)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function ose(t){return Promise.all([dL(t,"::before"),dL(t,"::after")])}function ase(t){return t.parentNode!==document.head&&!~Qre.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(xT)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function hL(t){if(Ro)return new Promise(function(e,n){var r=Sh(t.querySelectorAll("*")).filter(ase).map(ose),i=pP.begin("searchPseudoElements");nU(),Promise.all(r).then(function(){i(),UT(),e()}).catch(function(){i(),UT(),n()})})}var lse={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=hL,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Et:r;ge.searchPseudoElements&&hL(i)}}},fL=!1,use={mixout:function(){return{dom:{unwatch:function(){nU(),fL=!0}}}},hooks:function(){return{bootstrap:function(){aL(OT("mutationObserverCallbacks",{}))},noAuto:function(){qie()},watch:function(n){var r=n.observeMutationsRoot;fL?UT():aL(OT("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},pL=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],u=s.slice(1).join("-");if(a&&u==="h")return r.flipX=!0,r;if(a&&u==="v")return r.flipY=!0,r;if(u=parseFloat(u),isNaN(u))return r;switch(a){case"grow":r.size=r.size+u;break;case"shrink":r.size=r.size-u;break;case"left":r.x=r.x-u;break;case"right":r.x=r.x+u;break;case"up":r.y=r.y-u;break;case"down":r.y=r.y+u;break;case"rotate":r.rotate=r.rotate+u;break}return r},n)},cse={mixout:function(){return{parse:{transform:function(n){return pL(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=pL(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,a=n.iconWidth,u={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),m="rotate(".concat(i.rotate," 0 0)"),g={transform:"".concat(c," ").concat(h," ").concat(m)},_={transform:"translate(".concat(a/2*-1," -256)")},I={outer:u,inner:g,path:_};return{tag:"g",attributes:ce({},I.outer),children:[{tag:"g",attributes:ce({},I.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ce(ce({},r.icon.attributes),I.path)}]}]}}}},CI={x:0,y:0,width:"100%",height:"100%"};function mL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function dse(t){return t.tag==="g"?t.children:[t]}var hse={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?q0(i.split(" ").map(function(a){return a.trim()})):hP();return s.prefix||(s.prefix=Ga()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,u=n.maskId,c=n.transform,h=s.width,m=s.icon,g=a.width,_=a.icon,I=die({transform:c,containerWidth:g,iconWidth:h}),A={tag:"rect",attributes:ce(ce({},CI),{},{fill:"white"})},E=m.children?{children:m.children.map(mL)}:{},C={tag:"g",attributes:ce({},I.inner),children:[mL(ce({tag:m.tag,attributes:ce(ce({},m.attributes),I.path)},E))]},b={tag:"g",attributes:ce({},I.outer),children:[C]},S="mask-".concat(u||Ym()),R="clip-".concat(u||Ym()),V={tag:"mask",attributes:ce(ce({},CI),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[A,b]},B={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:dse(_)},V]};return r.push(B,{tag:"rect",attributes:ce({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(S,")")},CI)}),{children:r,attributes:i}}}},fse={provides:function(e){var n=!1;$a.matchMedia&&(n=$a.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ce(ce({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ce(ce({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ce(ce({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||u.children.push({tag:"animate",attributes:ce(ce({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ce(ce({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(u),r.push({tag:"path",attributes:ce(ce({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ce(ce({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ce(ce({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ce(ce({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},pse={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},mse=[pie,ese,tse,nse,rse,lse,use,cse,hse,fse,pse];Pie(mse,{mixoutsTo:Zr});Zr.noAuto;Zr.config;Zr.library;Zr.dom;var BT=Zr.parse;Zr.findIconDefinition;Zr.toHtml;var gse=Zr.icon;Zr.layer;Zr.text;Zr.counter;var iU={exports:{}},vse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yse=vse,_se=yse;function sU(){}function oU(){}oU.resetWarningCache=sU;var wse=function(){function t(r,i,s,a,u,c){if(c!==_se){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oU,resetWarningCache:sU};return n.PropTypes=n,n};iU.exports=wse();var Ese=iU.exports;const Fe=$T(Ese);function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function fd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bse(t,e){if(t==null)return{};var n=Ise(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jT(t){return Tse(t)||Sse(t)||Cse(t)||Ase()}function Tse(t){if(Array.isArray(t))return zT(t)}function Sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cse(t,e){if(t){if(typeof t=="string")return zT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(t,e)}}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,a=t.shake,u=t.flash,c=t.spin,h=t.spinPulse,m=t.spinReverse,g=t.pulse,_=t.fixedWidth,I=t.inverse,A=t.border,E=t.listItem,C=t.flip,b=t.size,S=t.rotation,R=t.pull,V=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":u,"fa-spin":c,"fa-spin-reverse":m,"fa-spin-pulse":h,"fa-pulse":g,"fa-fw":_,"fa-inverse":I,"fa-border":A,"fa-li":E,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},fd(e,"fa-".concat(b),typeof b<"u"&&b!==null),fd(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),fd(e,"fa-pull-".concat(R),typeof R<"u"&&R!==null),fd(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(V).map(function(B){return V[B]?B:null}).filter(function(B){return B})}function kse(t){return t=t-0,t===t}function aU(t){return kse(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Rse=["style"];function xse(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Nse(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=aU(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[xse(i)]=s:e[i]=s,e},{})}function lU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return lU(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,h){var m=e.attributes[h];switch(h){case"class":c.attrs.className=m,delete e.attributes.class;break;case"style":c.attrs.style=Nse(m);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?c.attrs[h.toLowerCase()]=m:c.attrs[aU(h)]=m}return c},{attrs:{}}),s=n.style,a=s===void 0?{}:s,u=bse(n,Rse);return i.attrs.style=ds(ds({},i.attrs.style),a),t.apply(void 0,[e.tag,ds(ds({},i.attrs),u)].concat(jT(r)))}var uU=!1;try{uU=!0}catch{}function Dse(){if(!uU&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function vL(t){if(t&&Pw(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(BT.icon)return BT.icon(t);if(t===null)return null;if(t&&Pw(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function AI(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?fd({},t,e):{}}var yL={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Gl=jt.forwardRef(function(t,e){var n=ds(ds({},yL),t),r=n.icon,i=n.mask,s=n.symbol,a=n.className,u=n.title,c=n.titleId,h=n.maskId,m=vL(r),g=AI("classes",[].concat(jT(Pse(n)),jT((a||"").split(" ")))),_=AI("transform",typeof n.transform=="string"?BT.transform(n.transform):n.transform),I=AI("mask",vL(i)),A=gse(m,ds(ds(ds(ds({},g),_),I),{},{symbol:s,title:u,titleId:c,maskId:h}));if(!A)return Dse("Could not find icon",m),null;var E=A.abstract,C={ref:e};return Object.keys(n).forEach(function(b){yL.hasOwnProperty(b)||(C[b]=n[b])}),Ose(E[0],C)});Gl.displayName="FontAwesomeIcon";Gl.propTypes={beat:Fe.bool,border:Fe.bool,beatFade:Fe.bool,bounce:Fe.bool,className:Fe.string,fade:Fe.bool,flash:Fe.bool,mask:Fe.oneOfType([Fe.object,Fe.array,Fe.string]),maskId:Fe.string,fixedWidth:Fe.bool,inverse:Fe.bool,flip:Fe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Fe.oneOfType([Fe.object,Fe.array,Fe.string]),listItem:Fe.bool,pull:Fe.oneOf(["right","left"]),pulse:Fe.bool,rotation:Fe.oneOf([0,90,180,270]),shake:Fe.bool,size:Fe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Fe.bool,spinPulse:Fe.bool,spinReverse:Fe.bool,symbol:Fe.oneOfType([Fe.bool,Fe.string]),title:Fe.string,titleId:Fe.string,transform:Fe.oneOfType([Fe.string,Fe.object]),swapOpacity:Fe.bool};var Ose=lU.bind(null,jt.createElement),Lse={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Mse={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Vse={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Fse={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},cU={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Use={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]};const Bse=()=>{const[t,e]=Ie.useState(""),n=Ie.useRef([]),r=[""];Ie.useEffect(()=>{s()},[]);const i=async()=>{const h=await JA();v9(h)},s=(h=!0,m=1,g=1)=>{var E;const _=document.querySelectorAll(".door");n.current=Array.from(_);const I=[],A=[];e("");for(const C of n.current){if(h)C.dataset.spinned="0";else if(C.dataset.spinned==="1")return;const b=C.querySelector(".boxes");if(!b)continue;const S=b.cloneNode(!1),R=[""];if(!h){for(let B=0;B<(m>0?m:1);B++)I.push(...r);R.push(...u(I)),S.addEventListener("transitionstart",function(){C.dataset.spinned="1",this.querySelectorAll(".box").forEach(B=>{B.style.filter="blur(1px)"})},{once:!0}),S.addEventListener("transitionend",function(){this.querySelectorAll(".box").forEach((B,j)=>{B.style.filter="blur(0)",j>0&&this.removeChild(B)})},{once:!0})}for(let B=R.length-1;B>=0;B--){const j=document.createElement("div");j.classList.add("box"),j.style.width=C.clientWidth+"px",j.style.height=C.clientHeight+"px",j.textContent=R[B],S.appendChild(j)}S.style.transitionDuration=`${g>0?g:1}s`,S.style.transform=`translateY(-${C.clientHeight*(R.length-1)}px)`,C.replaceChild(S,b);const V=((E=C.querySelector("div.box"))==null?void 0:E.innerHTML)??"";if(A.push(V),!h&&A.length===3)if(A.every((B,j,N)=>B===N[0]&&B!==""))switch(A.join("")){case"":c(1200,()=>e("You won a card!")),c(2400,i);break;case"":c(1200,()=>{e("You won $500!"),d_(500)});break;case"":c(1200,()=>{e("You won $300!"),d_(300)});break;default:e("You Won! +$500");break}else c(1400,()=>e("Try Again!"))}};async function a(){if(!await d_(-100)){console.error("Insufficient balance"),e("Insufficient money to play."),setTimeout(()=>{e("")},1200);return}s(!1,1,1);for(const m of n.current){const g=m.querySelector(".boxes");if(!g)continue;const _=parseInt(getComputedStyle(g).transitionDuration);g.style.transform="translateY(0)",await new Promise(I=>setTimeout(I,_*100))}}const u=([...h])=>{let m=h.length;for(;m;){const g=Math.floor(Math.random()*m--);[h[m],h[g]]=[h[g],h[m]]}return h},c=(h,m)=>setTimeout(()=>{m()},h);return te.jsxs("div",{id:"slot-machine",children:[te.jsx("h1",{children:"Pachinko"}),te.jsx("p",{children:"You have to pay $100 to play."}),te.jsxs("div",{className:"doors",children:[te.jsx("div",{className:"door",ref:h=>h&&(n.current[0]=h),children:te.jsx("div",{className:"boxes"})}),te.jsx("div",{className:"door",ref:h=>h&&(n.current[1]=h),children:te.jsx("div",{className:"boxes"})}),te.jsx("div",{className:"door",ref:h=>h&&(n.current[2]=h),children:te.jsx("div",{className:"boxes"})})]}),t&&te.jsx("h2",{className:"msg",children:t}),te.jsxs("div",{className:"buttons",children:[te.jsx("button",{id:"spinner",onClick:a,children:te.jsx(Gl,{icon:cU})}),te.jsx("button",{id:"reseter",onClick:()=>s(),children:"Reset"})]})]})},jse=({activeSection:t})=>te.jsxs("div",{className:"container",children:[t==="game"&&te.jsx(Bse,{}),t==="shop"&&te.jsx(Mre,{}),t==="mypage"&&te.jsx(Vre,{})]});var dU={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(C,b){b=b||{};var S=document.createEvent("CustomEvent");return S.initCustomEvent(C,!!b.bubbles,!!b.cancelable,b.detail||null),S},e.prototype=window.Event.prototype);function n(E){for(;E&&E!==document.body;){var C=window.getComputedStyle(E),b=function(S,R){return!(C[S]===void 0||C[S]===R)};if(C.opacity<1||b("zIndex","auto")||b("transform","none")||b("mixBlendMode","normal")||b("filter","none")||b("perspective","none")||C.isolation==="isolate"||C.position==="fixed"||C.webkitOverflowScrolling==="touch")return!0;E=E.parentElement}return!1}function r(E){for(;E;){if(E.localName==="dialog")return E;E=E.parentElement}return null}function i(E){E&&E.blur&&E!==document.body&&E.blur()}function s(E,C){for(var b=0;b<E.length;++b)if(E[b]===C)return!0;return!1}function a(E){return!E||!E.hasAttribute("method")?!1:E.getAttribute("method").toLowerCase()==="dialog"}function u(E){if(this.dialog_=E,this.replacedStyleTop_=!1,this.openAsModal_=!1,E.hasAttribute("role")||E.setAttribute("role","dialog"),E.show=this.show.bind(this),E.showModal=this.showModal.bind(this),E.close=this.close.bind(this),"returnValue"in E||(E.returnValue=""),"MutationObserver"in window){var C=new MutationObserver(this.maybeHideModal.bind(this));C.observe(E,{attributes:!0,attributeFilter:["open"]})}else{var b=!1,S=(function(){b?this.downgradeModal():this.maybeHideModal(),b=!1}).bind(this),R,V=function(B){if(B.target===E){var j="DOMNodeRemoved";b|=B.type.substr(0,j.length)===j,window.clearTimeout(R),R=window.setTimeout(S,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(B){E.addEventListener(B,V)})}Object.defineProperty(E,"open",{set:this.setOpen.bind(this),get:E.hasAttribute.bind(E,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),c.dm.removeDialog(this))},setOpen:function(E){E?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(E){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var C=document.createElement("div");this.dialog_.insertBefore(C,this.dialog_.firstChild),C.tabIndex=-1,C.focus(),this.dialog_.removeChild(C)}var b=document.createEvent("MouseEvents");b.initMouseEvent(E.type,E.bubbles,E.cancelable,window,E.detail,E.screenX,E.screenY,E.clientX,E.clientY,E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget),this.dialog_.dispatchEvent(b),E.stopPropagation()},focus_:function(){var E=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!E&&this.dialog_.tabIndex>=0&&(E=this.dialog_),!E){var C=["button","input","keygen","select","textarea"],b=C.map(function(S){return S+":not([disabled])"});b.push('[tabindex]:not([disabled]):not([tabindex=""])'),E=this.dialog_.querySelector(b.join(", "))}i(document.activeElement),E&&E.focus()},updateZIndex:function(E,C){if(E<C)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=E,this.backdrop_.style.zIndex=C},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!c.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,c.needsCentering(this.dialog_)?(c.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(E){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),E!==void 0&&(this.dialog_.returnValue=E);var C=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(C)}};var c={};if(c.reposition=function(E){var C=document.body.scrollTop||document.documentElement.scrollTop,b=C+(window.innerHeight-E.offsetHeight)/2;E.style.top=Math.max(C,b)+"px"},c.isInlinePositionSetByStylesheet=function(E){for(var C=0;C<document.styleSheets.length;++C){var b=document.styleSheets[C],S=null;try{S=b.cssRules}catch{}if(S)for(var R=0;R<S.length;++R){var V=S[R],B=null;try{B=document.querySelectorAll(V.selectorText)}catch{}if(!(!B||!s(B,E))){var j=V.style.getPropertyValue("top"),N=V.style.getPropertyValue("bottom");if(j&&j!=="auto"||N&&N!=="auto")return!0}}}return!1},c.needsCentering=function(E){var C=window.getComputedStyle(E);return C.position!=="absolute"||E.style.top!=="auto"&&E.style.top!==""||E.style.bottom!=="auto"&&E.style.bottom!==""?!1:!c.isInlinePositionSetByStylesheet(E)},c.forceRegisterDialog=function(E){if((window.HTMLDialogElement||E.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",E),E.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new u(E)},c.registerDialog=function(E){E.showModal||c.forceRegisterDialog(E)},c.DialogManager=function(){this.pendingDialogStack=[];var E=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(C){this.forwardTab_=void 0,C.stopPropagation(),E([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(C){var b=[];C.forEach(function(S){for(var R=0,V;V=S.removedNodes[R];++R){if(V instanceof Element)V.localName==="dialog"&&b.push(V);else continue;b=b.concat(V.querySelectorAll("dialog"))}}),b.length&&E(b)}))},c.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},c.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},c.DialogManager.prototype.updateStacking=function(){for(var E=this.zIndexHigh_,C=0,b;b=this.pendingDialogStack[C];++C)b.updateZIndex(--E,--E),C===0&&(this.overlay.style.zIndex=--E);var S=this.pendingDialogStack[0];if(S){var R=S.dialog.parentNode||document.body;R.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},c.DialogManager.prototype.containedByTopDialog_=function(E){for(;E=r(E);){for(var C=0,b;b=this.pendingDialogStack[C];++C)if(b.dialog===E)return C===0;E=E.parentElement}return!1},c.DialogManager.prototype.handleFocus_=function(E){if(!this.containedByTopDialog_(E.target)&&(E.preventDefault(),E.stopPropagation(),i(E.target),this.forwardTab_!==void 0)){var C=this.pendingDialogStack[0],b=C.dialog,S=b.compareDocumentPosition(E.target);return S&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?C.focus_():document.documentElement.focus()),!1}},c.DialogManager.prototype.handleKey_=function(E){if(this.forwardTab_=void 0,E.keyCode===27){E.preventDefault(),E.stopPropagation();var C=new e("cancel",{bubbles:!1,cancelable:!0}),b=this.pendingDialogStack[0];b&&b.dialog.dispatchEvent(C)&&b.dialog.close()}else E.keyCode===9&&(this.forwardTab_=!E.shiftKey)},c.DialogManager.prototype.checkDOM_=function(E){var C=this.pendingDialogStack.slice();C.forEach(function(b){E.indexOf(b.dialog)!==-1?b.downgradeModal():b.maybeHideModal()})},c.DialogManager.prototype.pushDialog=function(E){var C=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=C?!1:(this.pendingDialogStack.unshift(E)===1&&this.blockDocument(),this.updateStacking(),!0)},c.DialogManager.prototype.removeDialog=function(E){var C=this.pendingDialogStack.indexOf(E);C!==-1&&(this.pendingDialogStack.splice(C,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},c.dm=new c.DialogManager,c.formSubmitter=null,c.useValue=null,window.HTMLDialogElement===void 0){var h=document.createElement("form");if(h.setAttribute("method","dialog"),h.method!=="dialog"){var m=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(m){var g=m.get;m.get=function(){return a(this)?"dialog":g.call(this)};var _=m.set;m.set=function(E){return typeof E=="string"&&E.toLowerCase()==="dialog"?this.setAttribute("method",E):_.call(this,E)},Object.defineProperty(HTMLFormElement.prototype,"method",m)}}document.addEventListener("click",function(E){if(c.formSubmitter=null,c.useValue=null,!E.defaultPrevented){var C=E.target;if(!(!C||!a(C.form))){var b=C.type==="submit"&&["button","input"].indexOf(C.localName)>-1;if(!b){if(!(C.localName==="input"&&C.type==="image"))return;c.useValue=E.offsetX+","+E.offsetY}var S=r(C);S&&(c.formSubmitter=C)}}},!1);var I=HTMLFormElement.prototype.submit,A=function(){if(!a(this))return I.call(this);var E=r(this);E&&E.close()};HTMLFormElement.prototype.submit=A,document.addEventListener("submit",function(E){var C=E.target;if(a(C)){E.preventDefault();var b=r(C);if(b){var S=c.formSubmitter;S&&S.form===C?b.close(c.useValue||S.value):b.close(),c.formSubmitter=null}}},!0)}c.forceRegisterDialog=c.forceRegisterDialog,c.registerDialog=c.registerDialog,typeof t.exports=="object"?t.exports=c:window.dialogPolyfill=c})()})(dU);var zse=dU.exports;const $se=$T(zse);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Mt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function r(E,C){for(var b=0;b<t.length;b++)if(t[b].className===E)return typeof C<"u"&&(t[b]=C),t[b];return!1}function i(E){var C=E.getAttribute("data-upgraded");return C===null?[""]:C.split(",")}function s(E,C){var b=i(E);return b.indexOf(C)!==-1}function a(E,C,b){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(E,{bubbles:C,cancelable:b});var S=document.createEvent("Events");return S.initEvent(E,C,b),S}function u(E,C){if(typeof E>"u"&&typeof C>"u")for(var b=0;b<t.length;b++)u(t[b].className,t[b].cssClass);else{var S=E;if(typeof C>"u"){var R=r(S);R&&(C=R.cssClass)}for(var V=document.querySelectorAll("."+C),B=0;B<V.length;B++)c(V[B],S)}}function c(E,C){if(!(typeof E=="object"&&E instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var b=a("mdl-componentupgrading",!0,!0);if(E.dispatchEvent(b),!b.defaultPrevented){var S=i(E),R=[];if(C)s(E,C)||R.push(r(C));else{var V=E.classList;t.forEach(function(U){V.contains(U.cssClass)&&R.indexOf(U)===-1&&!s(E,U.className)&&R.push(U)})}for(var B=0,j=R.length,N;B<j;B++){if(N=R[B],N){S.push(N.className),E.setAttribute("data-upgraded",S.join(","));var k=new N.classConstructor(E);k[n]=N,e.push(k);for(var O=0,F=N.callbacks.length;O<F;O++)N.callbacks[O](E);N.widget&&(E[N.className]=k)}else throw new Error("Unable to find a registered component for the given class.");var L=a("mdl-componentupgraded",!0,!1);E.dispatchEvent(L)}}}function h(E){Array.isArray(E)||(E instanceof Element?E=[E]:E=Array.prototype.slice.call(E));for(var C=0,b=E.length,S;C<b;C++)S=E[C],S instanceof HTMLElement&&(c(S),S.children.length>0&&h(S.children))}function m(E){var C=typeof E.widget>"u"&&typeof E.widget>"u",b=!0;C||(b=E.widget||E.widget);var S={classConstructor:E.constructor||E.constructor,className:E.classAsString||E.classAsString,cssClass:E.cssClass||E.cssClass,widget:b,callbacks:[]};if(t.forEach(function(V){if(V.cssClass===S.cssClass)throw new Error("The provided cssClass has already been registered: "+V.cssClass);if(V.className===S.className)throw new Error("The provided className has already been registered")}),E.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var R=r(E.classAsString,S);R||t.push(S)}function g(E,C){var b=r(E);b&&b.callbacks.push(C)}function _(){for(var E=0;E<t.length;E++)u(t[E].className)}function I(E){if(E){var C=e.indexOf(E);e.splice(C,1);var b=E.element_.getAttribute("data-upgraded").split(","),S=b.indexOf(E[n].classAsString);b.splice(S,1),E.element_.setAttribute("data-upgraded",b.join(","));var R=a("mdl-componentdowngraded",!0,!1);E.element_.dispatchEvent(R)}}function A(E){var C=function(S){e.filter(function(R){return R.element_===S}).forEach(I)};if(E instanceof Array||E instanceof NodeList)for(var b=0;b<E.length;b++)C(E[b]);else if(E instanceof Node)C(E);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:u,upgradeElement:c,upgradeElements:h,upgradeAllRegistered:_,registerUpgradedCallback:g,register:m,downgradeElements:A}}();Mt.ComponentConfigPublic;Mt.ComponentConfig;Mt.Component;Mt.upgradeDom=Mt.upgradeDom;Mt.upgradeElement=Mt.upgradeElement;Mt.upgradeElements=Mt.upgradeElements;Mt.upgradeAllRegistered=Mt.upgradeAllRegistered;Mt.registerUpgradedCallback=Mt.registerUpgradedCallback;Mt.register=Mt.register;Mt.downgradeElements=Mt.downgradeElements;window.componentHandler=Mt;window.componentHandler=Mt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Mt.upgradeAllRegistered()):(Mt.upgradeElement=function(){},Mt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[r,i,s],u=0;u<a.length;u++){var c=document.createElement("div");c.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[u].appendChild(c)}n.appendChild(r),n.appendChild(i),n.appendChild(s),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(o){function l(){}return l.prototype=o,new l},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var r;e:{var i={xb:!0},s={};try{s.__proto__=i,r=s.xb;break e}catch{}r=!1}n=r?function(o,l){if(o.__proto__=l,o.__proto__!==l)throw new TypeError(o+" is not extensible");return o}:null}var a=n;function u(o,l){if(o.prototype=e(l.prototype),o.prototype.constructor=o,a)a(o,l);else for(var d in l)if(d!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(l,d);p&&Object.defineProperty(o,d,p)}else o[d]=l[d];o.K=l.prototype}var c=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,d){o!=Array.prototype&&o!=Object.prototype&&(o[l]=d.value)},h=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(o,l){if(l){var d=h;o=o.split(".");for(var p=0;p<o.length-1;p++){var v=o[p];v in d||(d[v]={}),d=d[v]}o=o[o.length-1],p=d[o],l=l(p),l!=p&&l!=null&&c(d,o,{configurable:!0,writable:!0,value:l})}}m("Object.is",function(o){return o||function(l,d){return l===d?l!==0||1/l===1/d:l!==l&&d!==d}}),m("Array.prototype.includes",function(o){return o||function(l,d){var p=this;p instanceof String&&(p=String(p));var v=p.length;for(d=d||0,0>d&&(d=Math.max(d+v,0));d<v;d++){var y=p[d];if(y===l||Object.is(y,l))return!0}return!1}});var g=this;function _(o){return o!==void 0}function I(o){return typeof o=="string"}var A=/^[\w+/_-]+[=]{0,2}$/,E=null;function C(){}function b(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function S(o){var l=typeof o;if(l=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return l;var d=Object.prototype.toString.call(o);if(d=="[object Window]")return"object";if(d=="[object Array]"||typeof o.length=="number"&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if(d=="[object Function]"||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof o.call>"u")return"object";return l}function R(o){return S(o)=="array"}function V(o){var l=S(o);return l=="array"||l=="object"&&typeof o.length=="number"}function B(o){return S(o)=="function"}function j(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}var N="closure_uid_"+(1e9*Math.random()>>>0),k=0;function O(o,l,d){return o.call.apply(o.bind,arguments)}function F(o,l,d){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,p),o.apply(l,v)}}return function(){return o.apply(l,arguments)}}function L(o,l,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=O:L=F,L.apply(null,arguments)}function U(o,l){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function D(o,l){for(var d in l)o[d]=l[d]}var We=Date.now||function(){return+new Date};function xe(o,l){o=o.split(".");var d=g;o[0]in d||typeof d.execScript>"u"||d.execScript("var "+o[0]);for(var p;o.length&&(p=o.shift());)!o.length&&_(l)?d[p]=l:d[p]&&d[p]!==Object.prototype[p]?d=d[p]:d=d[p]={}}function Ee(o,l){function d(){}d.prototype=l.prototype,o.K=l.prototype,o.prototype=new d,o.prototype.constructor=o,o.vc=function(p,v,y){for(var P=Array(arguments.length-2),M=2;M<arguments.length;M++)P[M-2]=arguments[M];return l.prototype[v].apply(p,P)}}function at(o){if(Error.captureStackTrace)Error.captureStackTrace(this,at);else{var l=Error().stack;l&&(this.stack=l)}o&&(this.message=String(o))}Ee(at,Error),at.prototype.name="CustomError";var se;function ue(o,l){o=o.split("%s");for(var d="",p=o.length-1,v=0;v<p;v++)d+=o[v]+(v<l.length?l[v]:"%s");at.call(this,d+o[p])}Ee(ue,at),ue.prototype.name="AssertionError";function fe(o,l){throw new ue("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}var tt=Array.prototype.indexOf?function(o,l){return Array.prototype.indexOf.call(o,l,void 0)}:function(o,l){if(I(o))return I(l)&&l.length==1?o.indexOf(l,0):-1;for(var d=0;d<o.length;d++)if(d in o&&o[d]===l)return d;return-1},$e=Array.prototype.forEach?function(o,l,d){Array.prototype.forEach.call(o,l,d)}:function(o,l,d){for(var p=o.length,v=I(o)?o.split(""):o,y=0;y<p;y++)y in v&&l.call(d,v[y],y,o)};function ft(o,l){for(var d=I(o)?o.split(""):o,p=o.length-1;0<=p;--p)p in d&&l.call(void 0,d[p],p,o)}var mi=Array.prototype.filter?function(o,l){return Array.prototype.filter.call(o,l,void 0)}:function(o,l){for(var d=o.length,p=[],v=0,y=I(o)?o.split(""):o,P=0;P<d;P++)if(P in y){var M=y[P];l.call(void 0,M,P,o)&&(p[v++]=M)}return p},gi=Array.prototype.map?function(o,l){return Array.prototype.map.call(o,l,void 0)}:function(o,l){for(var d=o.length,p=Array(d),v=I(o)?o.split(""):o,y=0;y<d;y++)y in v&&(p[y]=l.call(void 0,v[y],y,o));return p},vi=Array.prototype.some?function(o,l){return Array.prototype.some.call(o,l,void 0)}:function(o,l){for(var d=o.length,p=I(o)?o.split(""):o,v=0;v<d;v++)if(v in p&&l.call(void 0,p[v],v,o))return!0;return!1};function Ft(o,l){return 0<=tt(o,l)}function Ng(o,l){l=tt(o,l);var d;return(d=0<=l)&&Lu(o,l),d}function Lu(o,l){return Array.prototype.splice.call(o,l,1).length==1}function Mu(o,l){e:{for(var d=o.length,p=I(o)?o.split(""):o,v=0;v<d;v++)if(v in p&&l.call(void 0,p[v],v,o)){l=v;break e}l=-1}0<=l&&Lu(o,l)}function Vu(o,l){var d=0;ft(o,function(p,v){l.call(void 0,p,v,o)&&Lu(o,v)&&d++})}function Fu(o){return Array.prototype.concat.apply([],arguments)}function Uu(o){var l=o.length;if(0<l){for(var d=Array(l),p=0;p<l;p++)d[p]=o[p];return d}return[]}function Ch(o,l,d){return 2>=arguments.length?Array.prototype.slice.call(o,l):Array.prototype.slice.call(o,l,d)}var Vn=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Dg=/&/g,H0=/</g,K0=/>/g,Og=/"/g,Ah=/'/g,Lg=/\x00/g,Y0=/[\x00&<>"']/;function el(o,l){return o<l?-1:o>l?1:0}function Yi(o){return Y0.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Dg,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(H0,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(K0,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Og,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Ah,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Lg,"&#0;"))),o}function Ph(o,l,d){for(var p in o)l.call(d,o[p],p,o)}function rn(o){var l={},d;for(d in o)l[d]=o[d];return l}var In="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rs(o,l){for(var d,p,v=1;v<arguments.length;v++){p=arguments[v];for(d in p)o[d]=p[d];for(var y=0;y<In.length;y++)d=In[y],Object.prototype.hasOwnProperty.call(p,d)&&(o[d]=p[d])}}var xs="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function Qi(){}Qi.prototype.next=function(){throw xs},Qi.prototype.ha=function(){return this};function Mg(o){if(o instanceof Qi)return o;if(typeof o.ha=="function")return o.ha(!1);if(V(o)){var l=0,d=new Qi;return d.next=function(){for(;;){if(l>=o.length)throw xs;if(l in o)return o[l++];l++}},d}throw Error("Not implemented")}function tl(o,l){if(V(o))try{$e(o,l,void 0)}catch(d){if(d!==xs)throw d}else{o=Mg(o);try{for(;;)l.call(void 0,o.next(),void 0,o)}catch(d){if(d!==xs)throw d}}}function Vg(o){if(V(o))return Uu(o);o=Mg(o);var l=[];return tl(o,function(d){l.push(d)}),l}function nl(o,l){this.g={},this.a=[],this.j=this.h=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var p=0;p<d;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof nl)for(d=o.ja(),p=0;p<d.length;p++)this.set(d[p],o.get(d[p]));else for(p in o)this.set(p,o[p])}t=nl.prototype,t.la=function(){xo(this);for(var o=[],l=0;l<this.a.length;l++)o.push(this.g[this.a[l]]);return o},t.ja=function(){return xo(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function xo(o){if(o.h!=o.a.length){for(var l=0,d=0;l<o.a.length;){var p=o.a[l];Ns(o.g,p)&&(o.a[d++]=p),l++}o.a.length=d}if(o.h!=o.a.length){var v={};for(d=l=0;l<o.a.length;)p=o.a[l],Ns(v,p)||(o.a[d++]=p,v[p]=1),l++;o.a.length=d}}t.get=function(o,l){return Ns(this.g,o)?this.g[o]:l},t.set=function(o,l){Ns(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=l},t.forEach=function(o,l){for(var d=this.ja(),p=0;p<d.length;p++){var v=d[p],y=this.get(v);o.call(l,y,v,this)}},t.ha=function(o){xo(this);var l=0,d=this.j,p=this,v=new Qi;return v.next=function(){if(d!=p.j)throw Error("The map has changed since the iterator was created");if(l>=p.a.length)throw xs;var y=p.a[l++];return o?y:p.g[y]},v};function Ns(o,l){return Object.prototype.hasOwnProperty.call(o,l)}var Q0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kh(o,l){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var p=o[d].indexOf("="),v=null;if(0<=p){var y=o[d].substring(0,p);v=o[d].substring(p+1)}else y=o[d];l(y,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Rh(o,l,d,p){for(var v=d.length;0<=(l=o.indexOf(d,l))&&l<p;){var y=o.charCodeAt(l-1);if((y==38||y==63)&&(y=o.charCodeAt(l+v),!y||y==61||y==38||y==35))return l;l+=v+1}return-1}var xh=/#|$/;function Xi(o,l){var d=o.search(xh),p=Rh(o,0,l,d);if(0>p)return null;var v=o.indexOf("&",p);return(0>v||v>d)&&(v=d),p+=l.length+1,decodeURIComponent(o.substr(p,v-p).replace(/\+/g," "))}var Nh=/[?&]($|#)/;function ei(o,l){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var d;o instanceof ei?(this.i=_(l)?l:o.i,yi(this,o.j),this.A=o.A,this.h=o.h,Bu(this,o.C),this.g=o.g,No(this,Oh(o.a)),this.s=o.s):o&&(d=String(o).match(Q0))?(this.i=!!l,yi(this,d[1]||"",!0),this.A=_i(d[2]||""),this.h=_i(d[3]||"",!0),Bu(this,d[4]),this.g=_i(d[5]||"",!0),No(this,d[6]||"",!0),this.s=_i(d[7]||"")):(this.i=!!l,this.a=new ti(null,this.i))}ei.prototype.toString=function(){var o=[],l=this.j;l&&o.push(Do(l,Dh,!0),":");var d=this.h;return(d||l=="file")&&(o.push("//"),(l=this.A)&&o.push(Do(l,Dh,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.C,d!=null&&o.push(":",String(d))),(d=this.g)&&(this.h&&d.charAt(0)!="/"&&o.push("/"),o.push(Do(d,d.charAt(0)=="/"?il:rl,!0))),(d=this.a.toString())&&o.push("?",d),(d=this.s)&&o.push("#",Do(d,J0)),o.join("")};function yi(o,l,d){o.j=d?_i(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function Bu(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.C=l}else o.C=null}function No(o,l,d){l instanceof ti?(o.a=l,zu(o.a,o.i)):(d||(l=Do(l,X0)),o.a=new ti(l,o.i))}function ju(o){return o instanceof ei?new ei(o):new ei(o,void 0)}function _i(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Do(o,l,d){return I(o)?(o=encodeURI(o).replace(l,Fn),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Fn(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Dh=/[#\/\?@]/g,rl=/[#\?:]/g,il=/[#\?]/g,X0=/[#\?@]/g,J0=/#/g;function ti(o,l){this.g=this.a=null,this.h=o||null,this.j=!!l}function Ji(o){o.a||(o.a=new nl,o.g=0,o.h&&kh(o.h,function(l,d){o.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}t=ti.prototype,t.add=function(o,l){Ji(this),this.h=null,o=Zi(this,o);var d=this.a.get(o);return d||this.a.set(o,d=[]),d.push(l),this.g+=1,this};function Ds(o,l){Ji(o),l=Zi(o,l),Ns(o.a.g,l)&&(o.h=null,o.g-=o.a.get(l).length,o=o.a,Ns(o.g,l)&&(delete o.g[l],o.h--,o.j++,o.a.length>2*o.h&&xo(o)))}t.clear=function(){this.a=this.h=null,this.g=0};function sl(o,l){return Ji(o),l=Zi(o,l),Ns(o.a.g,l)}t.forEach=function(o,l){Ji(this),this.a.forEach(function(d,p){$e(d,function(v){o.call(l,v,p,this)},this)},this)},t.ja=function(){Ji(this);for(var o=this.a.la(),l=this.a.ja(),d=[],p=0;p<l.length;p++)for(var v=o[p],y=0;y<v.length;y++)d.push(l[p]);return d},t.la=function(o){Ji(this);var l=[];if(I(o))sl(this,o)&&(l=Fu(l,this.a.get(Zi(this,o))));else{o=this.a.la();for(var d=0;d<o.length;d++)l=Fu(l,o[d])}return l},t.set=function(o,l){return Ji(this),this.h=null,o=Zi(this,o),sl(this,o)&&(this.g-=this.a.get(o).length),this.a.set(o,[l]),this.g+=1,this},t.get=function(o,l){return o?(o=this.la(o),0<o.length?String(o[0]):l):l},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],l=this.a.ja(),d=0;d<l.length;d++){var p=l[d],v=encodeURIComponent(String(p));p=this.la(p);for(var y=0;y<p.length;y++){var P=v;p[y]!==""&&(P+="="+encodeURIComponent(String(p[y]))),o.push(P)}}return this.h=o.join("&")};function Oh(o){var l=new ti;return l.h=o.h,o.a&&(l.a=new nl(o.a),l.g=o.g),l}function Zi(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function zu(o,l){l&&!o.j&&(Ji(o),o.h=null,o.a.forEach(function(d,p){var v=p.toLowerCase();p!=v&&(Ds(this,p),Ds(this,v),0<d.length&&(this.h=null,this.a.set(Zi(this,v),Uu(d)),this.g+=d.length))},o)),o.j=l}function Kn(o){this.a=ju(o)}function Fg(o,l){l?o.a.a.set(Rt.Sa,l):Ds(o.a.a,Rt.Sa)}function Ug(o,l){l!==null?o.a.a.set(Rt.Qa,l?"1":"0"):Ds(o.a.a,Rt.Qa)}function $u(o){return o.a.a.get(Rt.Pa)||null}function Gu(o,l){l?o.a.a.set(Rt.PROVIDER_ID,l):Ds(o.a.a,Rt.PROVIDER_ID)}Kn.prototype.toString=function(){return this.a.toString()};var Rt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Os;e:{var Bg=g.navigator;if(Bg){var ol=Bg.userAgent;if(ol){Os=ol;break e}}Os=""}function ke(o){return Os.indexOf(o)!=-1}function qu(){return(ke("Chrome")||ke("CriOS"))&&!ke("Edge")}function Ls(o){return Ls[" "](o),o}Ls[" "]=C;function Ms(o,l){var d=Z0;return Object.prototype.hasOwnProperty.call(d,o)?d[o]:d[o]=l(o)}var Wu=ke("Opera"),It=ke("Trident")||ke("MSIE"),wi=ke("Edge"),jg=wi||It,vr=ke("Gecko")&&!(Os.toLowerCase().indexOf("webkit")!=-1&&!ke("Edge"))&&!(ke("Trident")||ke("MSIE"))&&!ke("Edge"),fn=Os.toLowerCase().indexOf("webkit")!=-1&&!ke("Edge"),Lh=fn&&ke("Mobile"),Ei=ke("Macintosh");function Mh(){var o=g.document;return o?o.documentMode:void 0}var Hu;e:{var Vh="",Ku=function(){var o=Os;if(vr)return/rv:([^\);]+)(\)|;)/.exec(o);if(wi)return/Edge\/([\d\.]+)/.exec(o);if(It)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(fn)return/WebKit\/(\S+)/.exec(o);if(Wu)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Ku&&(Vh=Ku?Ku[1]:""),It){var Yu=Mh();if(Yu!=null&&Yu>parseFloat(Vh)){Hu=String(Yu);break e}}Hu=Vh}var Z0={};function nr(o){return Ms(o,function(){for(var l=0,d=Vn(String(Hu)).split("."),p=Vn(String(o)).split("."),v=Math.max(d.length,p.length),y=0;l==0&&y<v;y++){var P=d[y]||"",M=p[y]||"";do{if(P=/(\d*)(\D*)(.*)/.exec(P)||["","","",""],M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],P[0].length==0&&M[0].length==0)break;l=el(P[1].length==0?0:parseInt(P[1],10),M[1].length==0?0:parseInt(M[1],10))||el(P[2].length==0,M[2].length==0)||el(P[2],M[2]),P=P[3],M=M[3]}while(l==0)}return 0<=l})}var rr,al=g.document;rr=al&&It?Mh()||(al.compatMode=="CSS1Compat"?parseInt(Hu,10):5):void 0;function Ii(o,l){this.a=o===st&&l||"",this.g=Fh}Ii.prototype.ma=!0,Ii.prototype.ka=function(){return this.a},Ii.prototype.toString=function(){return"Const{"+this.a+"}"};var Fh={},st={};function ni(){this.a="",this.h=zg}ni.prototype.ma=!0,ni.prototype.ka=function(){return this.a.toString()},ni.prototype.g=function(){return 1},ni.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Oo(o){return o instanceof ni&&o.constructor===ni&&o.h===zg?o.a:(fe("expected object of type TrustedResourceUrl, got '"+o+"' of type "+S(o)),"type_error:TrustedResourceUrl")}function ll(){var o=DU;o instanceof Ii&&o.constructor===Ii&&o.g===Fh?o=o.a:(fe("expected object of type Const, got '"+o+"'"),o="type_error:Const");var l=new ni;return l.a=o,l}var zg={};function Yn(){this.a="",this.h=Lo}Yn.prototype.ma=!0,Yn.prototype.ka=function(){return this.a.toString()},Yn.prototype.g=function(){return 1},Yn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function es(o){return o instanceof Yn&&o.constructor===Yn&&o.h===Lo?o.a:(fe("expected object of type SafeUrl, got '"+o+"' of type "+S(o)),"type_error:SafeUrl")}var $g=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qu(o){return o instanceof Yn?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),$g.test(o)||(o="about:invalid#zClosurez"),ri(o))}function Gg(o){return o instanceof Yn?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),$g.test(o)||(o="about:invalid#zClosurez"),ri(o))}var Lo={};function ri(o){var l=new Yn;return l.a=o,l}ri("about:blank");function Vs(){this.a="",this.g=Uh}Vs.prototype.ma=!0;var Uh={};Vs.prototype.ka=function(){return this.a},Vs.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function bi(){this.a="",this.j=qg,this.h=null}bi.prototype.g=function(){return this.h},bi.prototype.ma=!0,bi.prototype.ka=function(){return this.a.toString()},bi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ti(o){return o instanceof bi&&o.constructor===bi&&o.j===qg?o.a:(fe("expected object of type SafeHtml, got '"+o+"' of type "+S(o)),"type_error:SafeHtml")}var qg={};function ul(o,l){var d=new bi;return d.a=o,d.h=l,d}ul("<!DOCTYPE html>",0);var e1=ul("",0);ul("<br>",0);var ts=function(o){var l=!1,d;return function(){return l||(d=o(),l=!0),d}}(function(){if(typeof document>"u")return!1;var o=document.createElement("div"),l=document.createElement("div");return l.appendChild(document.createElement("div")),o.appendChild(l),o.firstChild?(l=o.firstChild.firstChild,o.innerHTML=Ti(e1),!l.parentElement):!1});function t1(o,l){if(o.src=Oo(l),E===null)e:{if(l=g.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&A.test(l)){E=l;break e}E=""}l=E,l&&o.setAttribute("nonce",l)}function Mo(o,l){l=l instanceof Yn?l:Gg(l),o.assign(es(l))}function yr(o,l){this.a=_(o)?o:0,this.g=_(l)?l:0}yr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},yr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},yr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},yr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Vo(o,l){this.width=o,this.height=l}t=Vo.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function cl(o){return o?new ec(Fo(o)):se||(se=new ec)}function Fs(o,l){var d=l||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+o):Bh(document,o,l)}function Us(o,l){var d=l||document;if(d.getElementsByClassName)o=d.getElementsByClassName(o)[0];else{d=document;var p=l||d;o=p.querySelectorAll&&p.querySelector&&o?p.querySelector(o?"."+o:""):Bh(d,o,l)[0]||null}return o||null}function Bh(o,l,d){var p;if(o=d||o,o.querySelectorAll&&o.querySelector&&l)return o.querySelectorAll(l?"."+l:"");if(l&&o.getElementsByClassName){var v=o.getElementsByClassName(l);return v}if(v=o.getElementsByTagName("*"),l){var y={};for(d=p=0;o=v[d];d++){var P=o.className;typeof P.split=="function"&&Ft(P.split(/\s+/),l)&&(y[p++]=o)}return y.length=p,y}return v}function jh(o,l){Ph(l,function(d,p){d&&typeof d=="object"&&d.ma&&(d=d.ka()),p=="style"?o.style.cssText=d:p=="class"?o.className=d:p=="for"?o.htmlFor=d:pt.hasOwnProperty(p)?o.setAttribute(pt[p],d):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,d):o[p]=d})}var pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Xu(o){return o.scrollingElement?o.scrollingElement:(fn||o.compatMode!="CSS1Compat")&&o.body||o.documentElement}function Bs(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function Fo(o){return o.nodeType==9?o:o.ownerDocument||o.document}function Ju(o,l){if("textContent"in o)o.textContent=l;else if(o.nodeType==3)o.data=String(l);else if(o.firstChild&&o.firstChild.nodeType==3){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(l)}else{for(var d;d=o.firstChild;)o.removeChild(d);o.appendChild(Fo(o).createTextNode(String(l)))}}function zh(o,l){return l?Zu(o,function(d){return!l||I(d.className)&&Ft(d.className.split(/\s+/),l)}):null}function Zu(o,l){for(var d=0;o;){if(l(o))return o;o=o.parentNode,d++}return null}function ec(o){this.a=o||g.document||document}ec.prototype.N=function(){return I(void 0)?this.a.getElementById(void 0):void 0};var _r={Fc:!0},$h={Hc:!0},n1={Ec:!0},Uo={Gc:!0};function Si(){throw Error("Do not instantiate directly")}Si.prototype.va=null,Si.prototype.toString=function(){return this.content};function js(o,l,d,p){if(o=o(l||nc,void 0,d),p=(p||cl()).a.createElement("DIV"),o=tc(o),o.match(Wg),o=ul(o,null),ts())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=Ti(o),p.childNodes.length==1&&(o=p.firstChild,o.nodeType==1&&(p=o)),p}function tc(o){if(!j(o))return Yi(String(o));if(o instanceof Si){if(o.fa===_r)return o.content;if(o.fa===Uo)return Yi(o.content)}return fe("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}var Wg=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,nc={};function r1(o){if(o!=null)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function dl(){Si.call(this)}Ee(dl,Si),dl.prototype.fa=_r;function we(o){return o!=null&&o.fa===_r?o:o instanceof bi?ae(Ti(o).toString(),o.g()):ae(Yi(String(String(o))),r1(o))}function hl(){Si.call(this)}Ee(hl,Si),hl.prototype.fa=$h,hl.prototype.va=1;function fl(o,l){this.content=String(o),this.va=l??null}Ee(fl,Si),fl.prototype.fa=Uo;function Me(o){return new fl(o,void 0)}var ae=function(o){function l(d){this.content=d}return l.prototype=o.prototype,function(d,p){return d=new l(String(d)),p!==void 0&&(d.va=p),d}}(dl),Hg=function(o){function l(d){this.content=d}return l.prototype=o.prototype,function(d){return new l(String(d))}}(hl);function rc(o){function l(){}var d={label:mt("New password")};l.prototype=o,o=new l;for(var p in d)o[p]=d[p];return o}function mt(o){return(o=String(o))?new fl(o,void 0):""}var Gh=function(o){function l(d){this.content=d}return l.prototype=o.prototype,function(d,p){return d=String(d),d?(d=new l(d),p!==void 0&&(d.va=p),d):""}}(dl);function xt(o){return o!=null&&o.fa===_r?String(String(o.content).replace(w,"").replace(T,"&lt;")).replace(Qg,Yg):Yi(String(o))}function ns(o){return o!=null&&o.fa===$h?o=String(o).replace(sc,Un):o instanceof Yn?o=String(es(o).toString()).replace(sc,Un):(o=String(o),f.test(o)?o=o.replace(sc,Un):(fe("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function qh(o){return o!=null&&o.fa===n1?o=o.content:o==null?o="":o instanceof Vs?o instanceof Vs&&o.constructor===Vs&&o.g===Uh?o=o.a:(fe("expected object of type SafeStyle, got '"+o+"' of type "+S(o)),o="type_error:SafeStyle"):(o=String(o),Bo.test(o)||(fe("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var Kg={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Yg(o){return Kg[o]}var ic={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function Un(o){return ic[o]}var Qg=/[\x00\x22\x27\x3c\x3e]/g,sc=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Bo=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,f=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,w=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,T=/</g;function x(){return Me("Enter a valid phone number")}function z(){return Me("Unable to send password reset code to specified email")}function W(){return Me("Something went wrong. Please try again.")}function re(){return Me("This email already exists without any means of sign-in. Please reset the password to recover.")}function Je(o){o=o||{};var l="";switch(o.code){case"invalid-argument":l+="Client specified an invalid argument.";break;case"invalid-configuration":l+="Client specified an invalid project configuration.";break;case"failed-precondition":l+="Request can not be executed in the current system state.";break;case"out-of-range":l+="Client specified an invalid range.";break;case"unauthenticated":l+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":l+="Client does not have sufficient permission.";break;case"not-found":l+="Specified resource is not found.";break;case"aborted":l+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":l+="The resource that a client tried to create already exists.";break;case"resource-exhausted":l+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":l+="Request cancelled by the client.";break;case"data-loss":l+="Unrecoverable data loss or data corruption.";break;case"unknown":l+="Unknown server error.";break;case"internal":l+="Internal server error.";break;case"not-implemented":l+="API method not implemented by the server.";break;case"unavailable":l+="Service unavailable.";break;case"deadline-exceeded":l+="Request deadline exceeded.";break;case"auth/user-disabled":l+="The user account has been disabled by an administrator.";break;case"auth/timeout":l+="The operation has timed out.";break;case"auth/too-many-requests":l+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":l+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":l+="A network error has occurred. Try again later.";break;case"restart-process":l+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":l+="No sign-in provider is available for the given email, please try with a different email."}return Me(l)}function sn(){return Me("Please login again to perform this operation")}function Ne(o,l,d){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=bn+o,!(o=l)){switch(o="",this.code){case"firebaseui/merge-conflict":o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:o+=W()}o=Me(o).toString()}this.message=o||"",this.credential=d||null}u(Ne,Error),Ne.prototype.toJSON=function(){return{code:this.code,message:this.message}};var bn="firebaseui/";function bt(){this.T=this.T,this.C=this.C}var jo=0;bt.prototype.T=!1,bt.prototype.m=function(){!this.T&&(this.T=!0,this.o(),jo!=0)&&(this[N]||(this[N]=++k))};function Bn(o,l){o.T?_(void 0)?l.call(void 0):l():(o.C||(o.C=[]),o.C.push(_(void 0)?L(l,void 0):l))}bt.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rs(o){o&&typeof o.m=="function"&&o.m()}var Wh=Object.freeze||function(o){return o},gP=!It||9<=Number(rr),hU=It&&!nr("9"),fU=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{g.addEventListener("test",C,l),g.removeEventListener("test",C,l)}catch{}return o}();function zs(o,l){this.type=o,this.g=this.target=l,this.h=!1,this.qb=!0}zs.prototype.stopPropagation=function(){this.h=!0},zs.prototype.preventDefault=function(){this.qb=!1};function ir(o,l){if(zs.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var d=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(vr){e:{try{Ls(l.nodeName);var v=!0;break e}catch{}v=!1}v||(l=null)}}else d=="mouseover"?l=o.fromElement:d=="mouseout"&&(l=o.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||(d=="keypress"?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=I(o.pointerType)?o.pointerType:pU[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}Ee(ir,zs);var pU=Wh({2:"touch",3:"pen",4:"mouse"});ir.prototype.stopPropagation=function(){ir.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},ir.prototype.preventDefault=function(){ir.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,hU)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var Hh="closure_listenable_"+(1e6*Math.random()|0),mU=0;function gU(o,l,d,p,v){this.listener=o,this.proxy=null,this.src=l,this.type=d,this.capture=!!p,this.La=v,this.key=++mU,this.sa=this.Ia=!1}function Xg(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function Jg(o){this.src=o,this.a={},this.g=0}Jg.prototype.add=function(o,l,d,p,v){var y=o.toString();o=this.a[y],o||(o=this.a[y]=[],this.g++);var P=s1(o,l,p,v);return-1<P?(l=o[P],d||(l.Ia=!1)):(l=new gU(l,this.src,y,!!p,v),l.Ia=d,o.push(l)),l};function i1(o,l){var d=l.type;d in o.a&&Ng(o.a[d],l)&&(Xg(l),o.a[d].length==0&&(delete o.a[d],o.g--))}function s1(o,l,d,p){for(var v=0;v<o.length;++v){var y=o[v];if(!y.sa&&y.listener==l&&y.capture==!!d&&y.La==p)return v}return-1}var o1="closure_lm_"+(1e6*Math.random()|0),a1={};function Ci(o,l,d,p,v){if(p&&p.once)return Kh(o,l,d,p,v);if(R(l)){for(var y=0;y<l.length;y++)Ci(o,l[y],d,p,v);return null}return d=u1(d),o&&o[Hh]?o.J.add(String(l),d,!1,j(p)?!!p.capture:!!p,v):vP(o,l,d,!1,p,v)}function vP(o,l,d,p,v,y){if(!l)throw Error("Invalid event type");var P=j(v)?!!v.capture:!!v,M=Zg(o);if(M||(o[o1]=M=new Jg(o)),d=M.add(l,d,p,P,y),d.proxy)return d;if(p=vU(),d.proxy=p,p.src=o,p.listener=d,o.addEventListener)fU||(v=P),v===void 0&&(v=!1),o.addEventListener(l.toString(),p,v);else if(o.attachEvent)o.attachEvent(yP(l.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function vU(){var o=yU,l=gP?function(d){return o.call(l.src,l.listener,d)}:function(d){if(d=o.call(l.src,l.listener,d),!d)return d};return l}function Kh(o,l,d,p,v){if(R(l)){for(var y=0;y<l.length;y++)Kh(o,l[y],d,p,v);return null}return d=u1(d),o&&o[Hh]?o.J.add(String(l),d,!0,j(p)?!!p.capture:!!p,v):vP(o,l,d,!0,p,v)}function pl(o,l,d,p,v){if(R(l))for(var y=0;y<l.length;y++)pl(o,l[y],d,p,v);else p=j(p)?!!p.capture:!!p,d=u1(d),o&&o[Hh]?(o=o.J,l=String(l).toString(),l in o.a&&(y=o.a[l],d=s1(y,d,p,v),-1<d&&(Xg(y[d]),Lu(y,d),y.length==0&&(delete o.a[l],o.g--)))):o&&(o=Zg(o))&&(l=o.a[l.toString()],o=-1,l&&(o=s1(l,d,p,v)),(d=-1<o?l[o]:null)&&zo(d))}function zo(o){if(typeof o!="number"&&o&&!o.sa){var l=o.src;if(l&&l[Hh])i1(l.J,o);else{var d=o.type,p=o.proxy;l.removeEventListener?l.removeEventListener(d,p,o.capture):l.detachEvent?l.detachEvent(yP(d),p):l.addListener&&l.removeListener&&l.removeListener(p),(d=Zg(l))?(i1(d,o),d.g==0&&(d.src=null,l[o1]=null)):Xg(o)}}}function yP(o){return o in a1?a1[o]:a1[o]="on"+o}function _P(o,l,d,p){var v=!0;if((o=Zg(o))&&(l=o.a[l.toString()]))for(l=l.concat(),o=0;o<l.length;o++){var y=l[o];y&&y.capture==d&&!y.sa&&(y=wP(y,p),v=v&&y!==!1)}return v}function wP(o,l){var d=o.listener,p=o.La||o.src;return o.Ia&&zo(o),d.call(p,l)}function yU(o,l){if(o.sa)return!0;if(!gP){if(!l)e:{l=["window","event"];for(var d=g,p=0;p<l.length;p++)if(d=d[l[p]],d==null){l=null;break e}l=d}if(p=l,l=new ir(p,this),d=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var v=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{v=!0}(v||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],v=l.g;v;v=v.parentNode)p.push(v);for(o=o.type,v=p.length-1;!l.h&&0<=v;v--){l.g=p[v];var y=_P(p[v],o,!0,l);d=d&&y}for(v=0;!l.h&&v<p.length;v++)l.g=p[v],y=_P(p[v],o,!1,l),d=d&&y}return d}return wP(o,new ir(l,this))}function Zg(o){return o=o[o1],o instanceof Jg?o:null}var l1="__closure_events_fn_"+(1e9*Math.random()>>>0);function u1(o){return B(o)?o:(o[l1]||(o[l1]=function(l){return o.handleEvent(l)}),o[l1])}function on(){bt.call(this),this.J=new Jg(this),this.wb=this,this.Ha=null}Ee(on,bt),on.prototype[Hh]=!0,on.prototype.Za=function(o){this.Ha=o},on.prototype.removeEventListener=function(o,l,d,p){pl(this,o,l,d,p)};function $o(o,l){var d,p=o.Ha;if(p)for(d=[];p;p=p.Ha)d.push(p);if(o=o.wb,p=l.type||l,I(l))l=new zs(l,o);else if(l instanceof zs)l.target=l.target||o;else{var v=l;l=new zs(p,o),Rs(l,v)}if(v=!0,d)for(var y=d.length-1;!l.h&&0<=y;y--){var P=l.g=d[y];v=ev(P,p,!0,l)&&v}if(l.h||(P=l.g=o,v=ev(P,p,!0,l)&&v,l.h||(v=ev(P,p,!1,l)&&v)),d)for(y=0;!l.h&&y<d.length;y++)P=l.g=d[y],v=ev(P,p,!1,l)&&v;return v}on.prototype.o=function(){if(on.K.o.call(this),this.J){var o=this.J,l;for(l in o.a){for(var d=o.a[l],p=0;p<d.length;p++)Xg(d[p]);delete o.a[l],o.g--}}this.Ha=null};function ev(o,l,d,p){if(l=o.J.a[String(l)],!l)return!0;l=l.concat();for(var v=!0,y=0;y<l.length;++y){var P=l[y];if(P&&!P.sa&&P.capture==d){var M=P.listener,G=P.La||P.src;P.Ia&&i1(o.J,P),v=M.call(G,p)!==!1&&v}}return v&&p.qb!=0}var Lr={},EP=0;function IP(o,l){if(!o)throw Error("Event target element must be provided!");if(o=c1(o),Lr[o]&&Lr[o].length)for(var d=0;d<Lr[o].length;d++)$o(Lr[o][d],l)}function _U(o){var l=c1(o.N());Lr[l]&&Lr[l].length&&(Mu(Lr[l],function(d){return d==o}),Lr[l].length||delete Lr[l])}function c1(o){return typeof o.a>"u"&&(o.a=EP,EP++),o.a}function tv(o){if(!o)throw Error("Event target element must be provided!");on.call(this),this.a=o}u(tv,on),tv.prototype.N=function(){return this.a},tv.prototype.register=function(){var o=c1(this.N());Lr[o]?Ft(Lr[o],this)||Lr[o].push(this):Lr[o]=[this]};function bP(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function d1(o,l){this.h=o,this.j=l,this.g=0,this.a=null}d1.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};function TP(o,l){o.j(l),100>o.g&&(o.g++,l.next=o.a,o.a=l)}function SP(){this.g=this.a=null}var CP=new d1(function(){return new h1},function(o){o.reset()});SP.prototype.add=function(o,l){var d=CP.get();d.set(o,l),this.g?this.g.next=d:this.a=d,this.g=d};function wU(){var o=PP,l=null;return o.a&&(l=o.a,o.a=o.a.next,o.a||(o.g=null),l.next=null),l}function h1(){this.next=this.g=this.a=null}h1.prototype.set=function(o,l){this.a=o,this.g=l,this.next=null},h1.prototype.reset=function(){this.next=this.g=this.a=null};function AP(o){g.setTimeout(function(){throw o},0)}var f1;function EU(){var o=g.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ke("Presto")&&(o=function(){var v=document.createElement("IFRAME");v.style.display="none",v.src="",document.documentElement.appendChild(v);var y=v.contentWindow;v=y.document,v.open(),v.write(""),v.close();var P="callImmediate"+Math.random(),M=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;v=L(function(G){(M=="*"||G.origin==M)&&G.data==P&&this.port1.onmessage()},this),y.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(P,M)}}}),typeof o<"u"&&!ke("Trident")&&!ke("MSIE")){var l=new o,d={},p=d;return l.port1.onmessage=function(){if(_(d.next)){d=d.next;var v=d.gb;d.gb=null,v()}},function(v){p.next={gb:v},p=p.next,l.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(v){var y=document.createElement("SCRIPT");y.onreadystatechange=function(){y.onreadystatechange=null,y.parentNode.removeChild(y),y=null,v(),v=null},document.documentElement.appendChild(y)}:function(v){g.setTimeout(v,0)}}function p1(o,l){nv||IU(),m1||(nv(),m1=!0),PP.add(o,l)}var nv;function IU(){if(g.Promise&&g.Promise.resolve){var o=g.Promise.resolve(void 0);nv=function(){o.then(kP)}}else nv=function(){var l=kP;!B(g.setImmediate)||g.Window&&g.Window.prototype&&!ke("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(f1||(f1=EU()),f1(l)):g.setImmediate(l)}}var m1=!1,PP=new SP;function kP(){for(var o;o=wU();){try{o.a.call(o.g)}catch(l){AP(l)}TP(CP,o)}m1=!1}function an(o){if(this.a=ml,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=C)try{var l=this;o.call(void 0,function(d){gl(l,Yh,d)},function(d){if(!(d instanceof ac))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}gl(l,$s,d)})}catch(d){gl(this,$s,d)}}var ml=0,Yh=2,$s=3;function RP(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}RP.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var xP=new d1(function(){return new RP},function(o){o.reset()});function g1(o,l,d){var p=xP.get();return p.s=o,p.g=l,p.j=d,p}function Ut(o){if(o instanceof an)return o;var l=new an(C);return gl(l,Yh,o),l}function oc(o){return new an(function(l,d){d(o)})}an.prototype.then=function(o,l,d){return DP(this,B(o)?o:null,B(l)?l:null,d)},an.prototype.$goog_Thenable=!0,t=an.prototype,t.fc=function(o,l){return o=g1(o,o,l),o.h=!0,v1(this,o),this},t.Ca=function(o,l){return DP(this,null,o,l)},t.cancel=function(o){this.a==ml&&p1(function(){var l=new ac(o);NP(this,l)},this)};function NP(o,l){if(o.a==ml)if(o.h){var d=o.h;if(d.g){for(var p=0,v=null,y=null,P=d.g;P&&(P.h||(p++,P.a==o&&(v=P),!(v&&1<p)));P=P.next)v||(y=P);v&&(d.a==ml&&p==1?NP(d,l):(y?(p=y,p.next==d.j&&(d.j=p),p.next=p.next.next):LP(d),MP(d,v,$s,l)))}o.h=null}else gl(o,$s,l)}function v1(o,l){o.g||o.a!=Yh&&o.a!=$s||OP(o),o.j?o.j.next=l:o.g=l,o.j=l}function DP(o,l,d,p){var v=g1(null,null,null);return v.a=new an(function(y,P){v.s=l?function(M){try{var G=l.call(p,M);y(G)}catch(J){P(J)}}:y,v.g=d?function(M){try{var G=d.call(p,M);!_(G)&&M instanceof ac?P(M):y(G)}catch(J){P(J)}}:P}),v.a.h=o,v1(o,v),v.a}t.hc=function(o){this.a=ml,gl(this,Yh,o)},t.ic=function(o){this.a=ml,gl(this,$s,o)};function gl(o,l,d){if(o.a==ml){o===d&&(l=$s,d=new TypeError("Promise cannot resolve to itself")),o.a=1;e:{var p=d,v=o.hc,y=o.ic;if(p instanceof an){v1(p,g1(v||C,y||null,o));var P=!0}else if(bP(p))p.then(v,y,o),P=!0;else{if(j(p))try{var M=p.then;if(B(M)){bU(p,M,v,y,o),P=!0;break e}}catch(G){y.call(o,G),P=!0;break e}P=!1}}P||(o.A=d,o.a=l,o.h=null,OP(o),l!=$s||d instanceof ac||TU(o,d))}}function bU(o,l,d,p,v){function y(G){M||(M=!0,p.call(v,G))}function P(G){M||(M=!0,d.call(v,G))}var M=!1;try{l.call(o,P,y)}catch(G){y(G)}}function OP(o){o.i||(o.i=!0,p1(o.Hb,o))}function LP(o){var l=null;return o.g&&(l=o.g,o.g=l.next,l.next=null),o.g||(o.j=null),l}t.Hb=function(){for(var o;o=LP(this);)MP(this,o,this.a,this.A);this.i=!1};function MP(o,l,d,p){if(d==$s&&l.g&&!l.h)for(;o&&o.s;o=o.h)o.s=!1;if(l.a)l.a.h=null,VP(l,d,p);else try{l.h?l.s.call(l.j):VP(l,d,p)}catch(v){FP.call(null,v)}TP(xP,l)}function VP(o,l,d){l==Yh?o.s.call(o.j,d):o.g&&o.g.call(o.j,d)}function TU(o,l){o.s=!0,p1(function(){o.s&&FP.call(null,l)})}var FP=AP;function ac(o){at.call(this,o)}Ee(ac,at),ac.prototype.name="cancel";function UP(o,l,d){l||(l={}),d=d||window;var p=o instanceof Yn?o:Qu(typeof o.href<"u"?o.href:String(o));o=l.target||o.target;var v=[];for(y in l)switch(y){case"width":case"height":case"top":case"left":v.push(y+"="+l[y]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(y+"="+(l[y]?1:0))}var y=v.join(",");return(ke("iPhone")&&!ke("iPod")&&!ke("iPad")||ke("iPad")||ke("iPod"))&&d.navigator&&d.navigator.standalone&&o&&o!="_self"?(y=d.document.createElement("A"),p=p instanceof Yn?p:Gg(p),y.href=es(p),y.setAttribute("target",o),l.noreferrer&&y.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,d,1),y.dispatchEvent(l),d={}):l.noreferrer?(d=d.open("",o,y),l=es(p).toString(),d&&(jg&&l.indexOf(";")!=-1&&(l="'"+l.replace(/'/g,"%27")+"'"),d.opener=null,l=ul('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yi(l)+'">',null),d.document.write(Ti(l)),d.document.close())):(d=d.open(es(p).toString(),o,y))&&l.noopener&&(d.opener=null),d}function BP(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function lc(o){UP(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function rv(o,l){if(o=j(o)&&o.nodeType==1?o:document.querySelector(String(o)),o==null)throw Error(l||"Cannot find element.");return o}function Gs(){return window.location.href}function SU(){var o=null;return new an(function(l){g.document.readyState=="complete"?l():(o=function(){l()},Kh(window,"load",o))}).Ca(function(l){throw pl(window,"load",o),l})}function CU(){for(var o=32,l=[];0<o;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return l.join("")}function AU(o,l,d){return d=d===void 0?{}:d,Object.keys(o).filter(function(p){return l.includes(p)}).reduce(function(p,v){return p[v]=o[v],p},d)}function Go(o){var l=RU;this.s=[],this.T=l,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Go.prototype.cancel=function(o){if(this.a)this.h instanceof Go&&this.h.cancel();else{if(this.g){var l=this.g;delete this.g,o?l.cancel(o):(l.C--,0>=l.C&&l.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new Xh,iv(this),Qh(this,!1,o))}},Go.prototype.L=function(o,l){this.A=!1,Qh(this,o,l)};function Qh(o,l,d){o.a=!0,o.h=d,o.j=!l,$P(o)}function iv(o){if(o.a){if(!o.J)throw new sv;o.J=!1}}Go.prototype.callback=function(o){iv(this),Qh(this,!0,o)};function jP(o,l,d){o.s.push([l,d,void 0]),o.a&&$P(o)}Go.prototype.then=function(o,l,d){var p,v,y=new an(function(P,M){p=P,v=M});return jP(this,p,function(P){P instanceof Xh?y.cancel():v(P)}),y.then(o,l,d)},Go.prototype.$goog_Thenable=!0;function zP(o){return vi(o.s,function(l){return B(l[1])})}function $P(o){if(o.i&&o.a&&zP(o)){var l=o.i,d=ov[l];d&&(g.clearTimeout(d.a),delete ov[l]),o.i=0}o.g&&(o.g.C--,delete o.g),l=o.h;for(var p=d=!1;o.s.length&&!o.A;){var v=o.s.shift(),y=v[0],P=v[1];if(v=v[2],y=o.j?P:y)try{var M=y.call(v||o.O,l);_(M)&&(o.j=o.j&&(M==l||M instanceof Error),o.h=l=M),(bP(l)||typeof g.Promise=="function"&&l instanceof g.Promise)&&(p=!0,o.A=!0)}catch(G){l=G,o.j=!0,zP(o)||(d=!0)}}o.h=l,p&&(M=L(o.L,o,!0),p=L(o.L,o,!1),l instanceof Go?(jP(l,M,p),l.l=!0):l.then(M,p)),d&&(l=new GP(l),ov[l.a]=l,o.i=l.a)}function sv(){at.call(this)}Ee(sv,at),sv.prototype.message="Deferred has already fired",sv.prototype.name="AlreadyCalledError";function Xh(){at.call(this)}Ee(Xh,at),Xh.prototype.message="Deferred was canceled",Xh.prototype.name="CanceledError";function GP(o){this.a=g.setTimeout(L(this.h,this),0),this.g=o}GP.prototype.h=function(){throw delete ov[this.a],this.g};var ov={};function PU(o){var l={},d=l.document||document,p=Oo(o).toString(),v=document.createElement("SCRIPT"),y={rb:v,sb:void 0},P=new Go(y),M=null,G=l.timeout!=null?l.timeout:5e3;return 0<G&&(M=window.setTimeout(function(){av(v,!0);var J=new y1(NU,"Timeout reached for loading script "+p);iv(P),Qh(P,!1,J)},G),y.sb=M),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(av(v,l.xc||!1,M),P.callback(null))},v.onerror=function(){av(v,!0,M);var J=new y1(xU,"Error while loading script "+p);iv(P),Qh(P,!1,J)},y=l.attributes||{},Rs(y,{type:"text/javascript",charset:"UTF-8"}),jh(v,y),t1(v,o),kU(d).appendChild(v),P}function kU(o){var l=(o||document).getElementsByTagName("HEAD");return l&&l.length!=0?l[0]:o.documentElement}function RU(){if(this&&this.rb){var o=this.rb;o&&o.tagName=="SCRIPT"&&av(o,!0,this.sb)}}function av(o,l,d){d!=null&&g.clearTimeout(d),o.onload=C,o.onerror=C,o.onreadystatechange=C,l&&window.setTimeout(function(){Bs(o)},0)}var xU=0,NU=1;function y1(o,l){var d="Jsloader error (code #"+o+")";l&&(d+=": "+l),at.call(this,d),this.code=o}Ee(y1,at);function Jh(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function _1(o){this.a=o||Jh(),this.h=!1,this.g=null}_1.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function qP(o,l,d){if(o.a&&l)return function(){return o.h=!0,new an(function(v){o.g=v,o.a.initialize({client_id:l,callback:v,auto_select:!d}),o.a.prompt()})}();if(l){var p=w1.Xa().load().then(function(){return o.a=Jh(),qP(o,l,d)}).Ca(function(){return null});return Ut(p)}return Ut(null)}b(_1);var DU=new Ii(st,"https://accounts.google.com/gsi/client");function w1(){this.a=null}w1.prototype.load=function(){var o=this;if(this.a)return this.a;var l=ll();return Jh()?Ut():this.a=SU().then(function(){if(!Jh())return new an(function(d,p){var v=setTimeout(function(){o.a=null,p(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(v),d()},Ut(PU(l)).then(function(){Jh()&&d()}).Ca(function(y){clearTimeout(v),o.a=null,p(y)})})})},b(w1);function E1(o,l){this.a=o,this.g=l||function(d){throw d}}E1.prototype.confirm=function(o){return Ut(this.a.confirm(o)).Ca(this.g)};function I1(o,l,d){this.reset(o,l,d,void 0,void 0)}I1.prototype.a=null,I1.prototype.reset=function(o,l,d,p,v){this.h=p||We(),this.j=o,this.s=l,this.g=d,delete this.a};function b1(o){this.s=o,this.a=this.h=this.j=this.g=null}function lv(o,l){this.name=o,this.value=l}lv.prototype.toString=function(){return this.name};var WP=new lv("SEVERE",1e3),HP=new lv("WARNING",900),KP=new lv("CONFIG",700);function YP(o){return o.j?o.j:o.g?YP(o.g):(fe("Root logger has no level set."),null)}b1.prototype.log=function(o,l,d){if(o.value>=YP(this).value)for(B(l)&&(l=l()),o=new I1(o,String(l),this.s),d&&(o.a=d),d=this;d;){var p=d,v=o;if(p.a)for(var y=0;l=p.a[y];y++)l(v);d=d.g}};var T1={},Zh=null;function QP(){Zh||(Zh=new b1(""),T1[""]=Zh,Zh.j=KP)}function XP(o){QP();var l;if(!(l=T1[o])){l=new b1(o);var d=o.lastIndexOf("."),p=o.substr(d+1);d=XP(o.substr(0,d)),d.h||(d.h={}),d.h[p]=l,l.g=d,T1[o]=l}return l}function uv(){this.a=We()}var S1=null;uv.prototype.set=function(o){this.a=o},uv.prototype.reset=function(){this.set(We())},uv.prototype.get=function(){return this.a};function ef(o){this.j=o||"",S1||(S1=new uv),this.s=S1}ef.prototype.a=!0,ef.prototype.g=!0,ef.prototype.h=!1;function vl(o){return 10>o?"0"+o:String(o)}function OU(o,l){o=(o.h-l)/1e3,l=o.toFixed(3);var d=0;if(1>o)d=2;else for(;100>o;)d++,o*=10;for(;0<d--;)l=" "+l;return l}function JP(o){ef.call(this,o)}Ee(JP,ef);function LU(o,l){var d=[];if(d.push(o.j," "),o.g){var p=new Date(l.h);d.push("[",vl(p.getFullYear()-2e3)+vl(p.getMonth()+1)+vl(p.getDate())+" "+vl(p.getHours())+":"+vl(p.getMinutes())+":"+vl(p.getSeconds())+"."+vl(Math.floor(p.getMilliseconds()/10)),"] ")}return d.push("[",OU(l,o.s.get()),"s] "),d.push("[",l.g,"] "),d.push(l.s),o.h&&(l=l.a)&&d.push(`
`,l instanceof Error?l.message:l.toString()),o.a&&d.push(`
`),d.join("")}function ZP(){this.s=L(this.h,this),this.a=new JP,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}ZP.prototype.h=function(o){function l(y){if(y){if(y.value>=WP.value)return"error";if(y.value>=HP.value)return"warn";if(y.value>=KP.value)return"log"}return"debug"}if(!this.j[o.g]){var d=LU(this.a,o),p=MU;if(p){var v=l(o.j);VU(p,v,d,o.a)}}};var MU=g.console;function VU(o,l,d,p){o[l]?o[l](d,p||""):o.log(d,p||"")}function Mr(o,l){var d=C1;d&&d.log(WP,o,l)}var C1;C1=XP("firebaseui");var A1=new ZP;if(A1.g!=1){var cv;QP(),cv=Zh;var FU=A1.s;cv.a||(cv.a=[]),cv.a.push(FU),A1.g=!0}function qo(o){var l=C1;l&&l.log(HP,o,void 0)}function ek(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=ek.prototype,t.set=function(o,l,d,p,v,y){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(l))throw Error('Invalid cookie value "'+l+'"');_(d)||(d=-1),v=v?";domain="+v:"",p=p?";path="+p:"",y=y?";secure":"",d=0>d?"":d==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(We()+1e3*d).toUTCString(),this.a.cookie=o+"="+l+v+p+d+y},t.get=function(o,l){for(var d=o+"=",p=(this.a.cookie||"").split(";"),v=0,y;v<p.length;v++){if(y=Vn(p[v]),y.lastIndexOf(d,0)==0)return y.substr(d.length);if(y==o)return""}return l},t.ja=function(){return P1(this).keys},t.la=function(){return P1(this).values},t.clear=function(){for(var o=P1(this).keys,l=o.length-1;0<=l;l--){var d=o[l];this.get(d),this.set(d,"",0,void 0,void 0)}};function P1(o){o=(o.a.cookie||"").split(";");for(var l=[],d=[],p,v,y=0;y<o.length;y++)v=Vn(o[y]),p=v.indexOf("="),p==-1?(l.push(""),d.push(v)):(l.push(v.substring(0,p)),d.push(v.substring(p+1)));return{keys:l,values:d}}var dv=new ek;function tk(){}function uc(o,l,d,p){this.h=typeof o<"u"&&o!==null?o:-1,this.g=l||null,this.a=d||null,this.j=!!p}u(uc,tk),uc.prototype.set=function(o,l){dv.set(o,l,this.h,this.g,this.a,this.j)},uc.prototype.get=function(o){return dv.get(o)||null},uc.prototype.ra=function(o){var l=this.g,d=this.a;dv.get(o),dv.set(o,"",0,l,d)};function k1(o,l){this.g=o,this.a=l||null}function nk(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function rk(o){if(o&&o.email){var l=o.credential&&me.auth.AuthCredential.fromJSON(o.credential);return new k1(o.email,l)}return null}function ik(o){this.a=o||null}function sk(o){for(var l=[],d=0,p=0;p<o.length;p++){var v=o.charCodeAt(p);255<v&&(l[d++]=v&255,v>>=8),l[d++]=v}return l}function UU(o){return gi(o,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}function hv(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(cc*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var l=Array(4);for(o=this.g;o<cc*(this.j+1);o++){if(l[0]=this.a[o-1][0],l[1]=this.a[o-1][1],l[2]=this.a[o-1][2],l[3]=this.a[o-1][3],o%this.g==0){var d=l,p=d[0];d[0]=d[1],d[1]=d[2],d[2]=d[3],d[3]=p,ck(l),l[0]^=pv[o/this.g][0],l[1]^=pv[o/this.g][1],l[2]^=pv[o/this.g][2],l[3]^=pv[o/this.g][3]}else 6<this.g&&o%this.g==4&&ck(l);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^l[0],this.a[o][1]=this.a[o-this.g][1]^l[1],this.a[o][2]=this.a[o-this.g][2]^l[2],this.a[o][3]=this.a[o-this.g][3]^l[3]}}hv.prototype.A=16;var cc=hv.prototype.A/4;function ok(o,l){for(var d,p=0;p<cc;p++)for(var v=0;4>v;v++)d=4*v+p,d=l[d],o.h[p][v]=d}function ak(o){for(var l=[],d=0;d<cc;d++)for(var p=0;4>p;p++)l[4*p+d]=o.h[d][p];return l}function dc(o,l){for(var d=0;4>d;d++)for(var p=0;4>p;p++)o.h[d][p]^=o.a[4*l+p][d]}function fv(o,l){for(var d=0;4>d;d++)for(var p=0;4>p;p++)o.h[d][p]=l[o.h[d][p]]}function lk(o){for(var l=1;4>l;l++)for(var d=0;4>d;d++)o.s[l][d]=o.h[l][d];for(l=1;4>l;l++)for(d=0;4>d;d++)o.h[l][d]=o.s[l][(d+l)%cc]}function uk(o){for(var l=1;4>l;l++)for(var d=0;4>d;d++)o.s[l][(d+l)%cc]=o.h[l][d];for(l=1;4>l;l++)for(d=0;4>d;d++)o.h[l][d]=o.s[l][d]}function ck(o){o[0]=hc[o[0]],o[1]=hc[o[1]],o[2]=hc[o[2]],o[3]=hc[o[3]]}var hc=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],dk=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],pv=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],mv=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],gv=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],vv=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],yv=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],_v=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],wv=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function hk(o,l){o=new hv(pk(o)),l=sk(l);for(var d=l.splice(0,16),p="",v;d.length;){v=16-d.length;for(var y=0;y<v;y++)d.push(0);for(v=o,ok(v,d),dc(v,0),d=1;d<v.j;++d){fv(v,hc),lk(v),y=v.h;for(var P=v.s[0],M=0;4>M;M++)P[0]=y[0][M],P[1]=y[1][M],P[2]=y[2][M],P[3]=y[3][M],y[0][M]=mv[P[0]]^gv[P[1]]^P[2]^P[3],y[1][M]=P[0]^mv[P[1]]^gv[P[2]]^P[3],y[2][M]=P[0]^P[1]^mv[P[2]]^gv[P[3]],y[3][M]=gv[P[0]]^P[1]^P[2]^mv[P[3]];dc(v,d)}fv(v,hc),lk(v),dc(v,v.j),p+=UU(ak(v)),d=l.splice(0,16)}return p}function fk(o,l){o=new hv(pk(o));for(var d=[],p=0;p<l.length;p+=2)d.push(parseInt(l.substring(p,p+2),16));var v=d.splice(0,16);for(l="";v.length;){for(p=o,ok(p,v),dc(p,p.j),v=1;v<p.j;++v){uk(p),fv(p,dk),dc(p,p.j-v);for(var y=p.h,P=p.s[0],M=0;4>M;M++)P[0]=y[0][M],P[1]=y[1][M],P[2]=y[2][M],P[3]=y[3][M],y[0][M]=wv[P[0]]^yv[P[1]]^_v[P[2]]^vv[P[3]],y[1][M]=vv[P[0]]^wv[P[1]]^yv[P[2]]^_v[P[3]],y[2][M]=_v[P[0]]^vv[P[1]]^wv[P[2]]^yv[P[3]],y[3][M]=yv[P[0]]^_v[P[1]]^vv[P[2]]^wv[P[3]]}if(uk(p),fv(p,dk),dc(p,0),p=ak(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(v="",y=0;y<p.length;y+=8192)v+=String.fromCharCode.apply(null,Ch(p,y,y+8192));p=v}l+=p,v=d.splice(0,16)}return l.replace(/(\x00)+$/,"")}function pk(o){o=sk(o.substring(0,32));for(var l=32-o.length,d=0;d<l;d++)o.push(0);return o}function mk(o){var l=[];return R1(new BU,o,l),l.join("")}function BU(){}function R1(o,l,d){if(l==null)d.push("null");else{if(typeof l=="object"){if(R(l)){var p=l;l=p.length,d.push("[");for(var v="",y=0;y<l;y++)d.push(v),R1(o,p[y],d),v=",";d.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{d.push("{"),v="";for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&(y=l[p],typeof y!="function"&&(d.push(v),vk(p,d),d.push(":"),R1(o,y,d),v=","));d.push("}");return}}switch(typeof l){case"string":vk(l,d);break;case"number":d.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":d.push(String(l));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var gk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},jU=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function vk(o,l){l.push('"',o.replace(jU,function(d){var p=gk[d];return p||(p="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),gk[d]=p),p}),'"')}function tf(o){this.a=o}tf.prototype.set=function(o,l){_(l)?this.a.set(o,mk(l)):this.a.ra(o)},tf.prototype.get=function(o){try{var l=this.a.get(o)}catch{return}if(l!==null)try{return JSON.parse(l)}catch{throw"Storage: Invalid value was encountered"}};function Ev(){}Ee(Ev,tk),Ev.prototype.clear=function(){var o=Vg(this.ha(!0)),l=this;$e(o,function(d){l.ra(d)})};function Iv(o){this.a=o}Ee(Iv,Ev);function bv(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}t=Iv.prototype,t.set=function(o,l){try{this.a.setItem(o,l)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(o){if(o=this.a.getItem(o),!I(o)&&o!==null)throw"Storage mechanism: Invalid value was encountered";return o},t.ra=function(o){this.a.removeItem(o)},t.ha=function(o){var l=0,d=this.a,p=new Qi;return p.next=function(){if(l>=d.length)throw xs;var v=d.key(l++);if(o)return v;if(v=d.getItem(v),!I(v))throw"Storage mechanism: Invalid value was encountered";return v},p},t.clear=function(){this.a.clear()},t.key=function(o){return this.a.key(o)};function x1(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}Ee(x1,Iv);function N1(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}Ee(N1,Iv);function fc(o,l){this.g=o,this.a=l+"::"}Ee(fc,Ev),fc.prototype.set=function(o,l){this.g.set(this.a+o,l)},fc.prototype.get=function(o){return this.g.get(this.a+o)},fc.prototype.ra=function(o){this.g.ra(this.a+o)},fc.prototype.ha=function(o){var l=this.g.ha(!0),d=this,p=new Qi;return p.next=function(){for(var v=l.next();v.substr(0,d.a.length)!=d.a;)v=l.next();return o?v.substr(d.a.length):d.g.get(v)},p},bv(new x1);var yk,_k=new N1;yk=bv(_k)?new fc(_k,"firebaseui"):null;var D1=new tf(yk),O1={name:"pendingEmailCredential",storage:D1},yl={name:"redirectStatus",storage:D1},nf={name:"redirectUrl",storage:D1},pc={name:"emailForSignIn",storage:new tf(new uc(3600,"/"))},rf={name:"pendingEncryptedCredential",storage:new tf(new uc(3600,"/"))};function mc(o,l){return o.storage.get(l?o.name+":"+l:o.name)}function wr(o,l){o.storage.a.ra(l?o.name+":"+l:o.name)}function gc(o,l,d){o.storage.set(d?o.name+":"+d:o.name,l)}function wk(o){return mc(nf,o)||null}function is(o){return o=mc(O1,o)||null,rk(o)}function ss(o){wr(O1,o)}function Ek(o,l){gc(O1,nk(o),l)}function L1(o){return(o=mc(yl,o)||null)&&typeof o.tenantId<"u"?new ik(o.tenantId):null}function zU(o,l){gc(yl,{tenantId:o.a},l)}function $U(o,l){l=mc(pc,l);var d=null;if(l)try{var p=fk(o,l),v=JSON.parse(p);d=v&&v.email||null}catch{}return d}function GU(o,l){l=mc(rf,l);var d=null;if(l)try{var p=fk(o,l);d=JSON.parse(p)}catch{}return rk(d||null)}function qU(o,l,d){gc(rf,hk(o,JSON.stringify(nk(l))),d)}function M1(){this.W={}}function Xt(o,l,d){if(l.toLowerCase()in o.W)throw Error("Configuration "+l+" has already been defined.");o.W[l.toLowerCase()]=d}function V1(o,l,d){if(!(l.toLowerCase()in o.W))throw Error("Configuration "+l+" is not defined.");o.W[l.toLowerCase()]=d}M1.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]};function F1(o,l){if(o=o.get(l),!o)throw Error("Configuration "+l+" is required.");return o}function U1(){this.g=void 0,this.a={}}t=U1.prototype,t.set=function(o,l){Ik(this,o,l,!1)},t.add=function(o,l){Ik(this,o,l,!0)};function Ik(o,l,d,p){for(var v=0;v<l.length;v++){var y=l.charAt(v);o.a[y]||(o.a[y]=new U1),o=o.a[y]}if(p&&o.g!==void 0)throw Error('The collection already contains the key "'+l+'"');o.g=d}t.get=function(o){e:{for(var l=this,d=0;d<o.length;d++)if(l=l.a[o.charAt(d)],!l){o=void 0;break e}o=l}return o?o.g:void 0},t.la=function(){var o=[];return bk(this,o),o};function bk(o,l){o.g!==void 0&&l.push(o.g);for(var d in o.a)bk(o.a[d],l)}t.ja=function(){var o=[];return Tk(this,"",o),o};function Tk(o,l,d){o.g!==void 0&&d.push(l);for(var p in o.a)Tk(o.a[p],l+p,d)}t.clear=function(){this.a={},this.g=void 0};function Sk(o){for(this.a=o,this.g=new U1,o=0;o<this.a.length;o++){var l=this.g.get("+"+this.a[o].b);l?l.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function Tv(o,l){o=o.g;var d={},p=0;for(o.g!==void 0&&(d[p]=o.g);p<l.length;p++){var v=l.charAt(p);if(!(v in o.a))break;o=o.a[v],o.g!==void 0&&(d[p]=o.g)}for(var y in d)if(d.hasOwnProperty(y))return d[y];return[]}function _l(o){for(var l=0;l<sr.length;l++)if(sr[l].c===o)return sr[l];return null}function Ck(o){o=o.toUpperCase();for(var l=[],d=0;d<sr.length;d++)sr[d].f===o&&l.push(sr[d]);return l}function Ak(o){if(0<o.length&&o.charAt(0)=="+"){o=o.substring(1);for(var l=[],d=0;d<sr.length;d++)sr[d].b==o&&l.push(sr[d]);o=l}else o=Ck(o);return o}function Pk(o){o.sort(function(l,d){return l.name.localeCompare(d.name,"en")})}var sr=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Pk(sr);var sf=new Sk(sr);function kk(o,l){this.a=o,this.Aa=l}function Rk(o){o=Vn(o);var l=Tv(sf,o);return 0<l.length?new kk(l[0].b=="1"?"1-US-0":l[0].c,Vn(o.substr(l[0].b.length+1))):null}function B1(o){var l=_l(o.a);if(!l)throw Error("Country ID "+o.a+" not found.");return"+"+l.b+o.Aa}function xk(o,l){for(var d=0;d<o.length;d++)if(!Ft(Nk,o[d])&&(vc!==null&&o[d]in vc||Ft(l,o[d])))return o[d];return null}var Nk=["emailLink","password","phone"],vc={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function WU(){this.a=new M1,Xt(this.a,"autoUpgradeAnonymousUsers"),Xt(this.a,"callbacks"),Xt(this.a,"credentialHelper",Av),Xt(this.a,"immediateFederatedRedirect",!1),Xt(this.a,"popupMode",!1),Xt(this.a,"privacyPolicyUrl"),Xt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Xt(this.a,"queryParameterForWidgetMode","mode"),Xt(this.a,"signInFlow"),Xt(this.a,"signInOptions"),Xt(this.a,"signInSuccessUrl"),Xt(this.a,"siteName"),Xt(this.a,"tosUrl"),Xt(this.a,"widgetUrl"),Xt(this.a,"adminRestrictedOperation")}function Sv(o){var l=!!o.a.get("autoUpgradeAnonymousUsers");return l&&!zk(o)&&Mr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),l}function Cv(o){o=o.a.get("signInOptions")||[];for(var l=[],d=0;d<o.length;d++){var p=o[d];p=j(p)?p:{provider:p},p.provider&&l.push(p)}return l}function Vr(o,l){o=Cv(o);for(var d=0;d<o.length;d++)if(o[d].provider===l)return o[d];return null}function yc(o){return Cv(o).map(function(l){return l.provider})}function of(o,l){o=Dk(o);for(var d=0;d<o.length;d++)if(o[d].providerId===l)return o[d];return null}function Dk(o){return Cv(o).map(function(l){if(vc[l.provider]||Ft(nB,l.provider)){l={providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?es(Qu(l.iconUrl)).toString():null};for(var d in l)l[d]===null&&delete l[d];return l}return{providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?es(Qu(l.iconUrl)).toString():null,Ob:l.loginHintKey||null}})}function Ok(o){var l=Vr(o,me.auth.GoogleAuthProvider.PROVIDER_ID),d;if(d=l&&l.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in o=o.a.get("credentialHelper"),q1)if(q1[p]===o){var p=q1[p];break e}}p=Av}d=p===G1}return d&&l.clientId||null}function Lk(o){return o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID),!!(o&&o.disableSignUp&&o.disableSignUp.status)}function wl(o){return o=o.a.get("adminRestrictedOperation")||null,!(!o||!o.status)}function HU(o){var l=null;if(Cv(o).forEach(function(p){p.provider==me.auth.PhoneAuthProvider.PROVIDER_ID&&j(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(l=rn(p.recaptchaParameters))}),l){var d=[];rB.forEach(function(p){typeof l[p]<"u"&&(d.push(p),delete l[p])}),d.length&&qo('The following provided "recaptchaParameters" keys are not allowed: '+d.join(", "))}return l}function KU(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}function YU(o){if(o=o.a.get("adminRestrictedOperation")||null){var l=o.helpLink||null;if(l&&typeof l=="string")return function(){lc(l)}}return null}function QU(o){return(o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}function XU(o){if((o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var l=o.disableSignUp.helpLink||null;if(l&&typeof l=="string")return function(){lc(l)}}return null}function Mk(o,l){return o=(o=Vr(o,l))&&o.scopes,Array.isArray(o)?o:[]}function Vk(o,l){return o=(o=Vr(o,l))&&o.customParameters,j(o)?(o=rn(o),l===me.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,l===me.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function JU(o){o=Vr(o,me.auth.PhoneAuthProvider.PROVIDER_ID);var l=null;return o&&typeof o.loginHint=="string"&&(l=Rk(o.loginHint)),o&&o.defaultNationalNumber||l&&l.Aa||null}function ZU(o){var l=(o=Vr(o,me.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;l=l&&Ck(l);var d=null;return o&&typeof o.loginHint=="string"&&(d=Rk(o.loginHint)),l&&l[0]||d&&_l(d.a)||null}function j1(o){if(o=Vr(o,me.auth.PhoneAuthProvider.PROVIDER_ID),!o)return null;var l=o.whitelistedCountries,d=o.blacklistedCountries;if(typeof l<"u"&&(!Array.isArray(l)||l.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof d<"u"&&!Array.isArray(d))throw Error("BlacklistedCountries must be an array.");if(l&&d)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!l&&!d)return sr;if(o=[],l){d={};for(var p=0;p<l.length;p++)for(var v=Ak(l[p]),y=0;y<v.length;y++)d[v[y].c]=v[y];for(var P in d)d.hasOwnProperty(P)&&o.push(d[P])}else{for(P={},l=0;l<d.length;l++)for(v=Ak(d[l]),p=0;p<v.length;p++)P[v[p].c]=v[p];for(v=0;v<sr.length;v++)P!==null&&sr[v].c in P||o.push(sr[v])}return o}function Fk(o){return F1(o.a,"queryParameterForWidgetMode")}function Jt(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&qo("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){lc(l)}}return null}function Zt(o){var l=o.a.get("tosUrl")||null,d=o.a.get("privacyPolicyUrl")||null;if(d&&!l&&qo("Term of Service URL is missing, the link will not be displayed."),l&&d){if(typeof d=="function")return d;if(typeof d=="string")return function(){lc(d)}}return null}function Uk(o){return(o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"?!!o.requireDisplayName:!0}function _c(o){return o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID),!(!o||o.signInMethod!==me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function eB(o){return o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID),!(!o||!o.forceSameDevice)}function tB(o){if(_c(o)){var l={url:Gs(),handleCodeInApp:!0};(o=Vr(o,me.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.emailLinkSignIn=="function"&&Rs(l,o.emailLinkSignIn()),o=l.url;var d=Gs();d instanceof ei||(d=ju(d)),o instanceof ei||(o=ju(o));var p=d;d=new ei(p);var v=!!o.j;v?yi(d,o.j):v=!!o.A,v?d.A=o.A:v=!!o.h,v?d.h=o.h:v=o.C!=null;var y=o.g;if(v)Bu(d,o.C);else if(v=!!o.g){if(y.charAt(0)!="/"&&(p.h&&!p.g?y="/"+y:(p=d.g.lastIndexOf("/"),p!=-1&&(y=d.g.substr(0,p+1)+y))),y==".."||y==".")y="";else if(y.indexOf("./")!=-1||y.indexOf("/.")!=-1){p=y.lastIndexOf("/",0)==0,y=y.split("/");for(var P=[],M=0;M<y.length;){var G=y[M++];G=="."?p&&M==y.length&&P.push(""):G==".."?((1<P.length||P.length==1&&P[0]!="")&&P.pop(),p&&M==y.length&&P.push("")):(P.push(G),p=!0)}y=P.join("/")}}return v?d.g=y:v=o.a.toString()!=="",v?No(d,Oh(o.a)):v=!!o.s,v&&(d.s=o.s),l.url=d.toString(),l}return null}function z1(o){var l=!!o.a.get("immediateFederatedRedirect"),d=yc(o);return o=Bk(o),l&&d.length==1&&!Ft(Nk,d[0])&&o==Pv}function Bk(o){o=o.a.get("signInFlow");for(var l in W1)if(W1[l]==o)return W1[l];return Pv}function $1(o){return af(o).signInSuccess||null}function jk(o){return af(o).signInSuccessWithAuthResult||null}function zk(o){return af(o).signInFailure||null}function af(o){return o.a.get("callbacks")||{}}var G1="googleyolo",Av="none",q1={nc:G1,NONE:Av},Pv="redirect",W1={qc:"popup",rc:Pv},H1={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},nB=["anonymous"],rB=["sitekey","tabindex","callback","expired-callback"],lf,wc,K1,$k,Xe={};function he(o,l,d,p){Xe[o].apply(null,Array.prototype.slice.call(arguments,1))}function Gk(o){return o.classList?o.classList:(o=o.className,I(o)&&o.match(/\S+/g)||[])}function uf(o,l){return o.classList?o.classList.contains(l):Ft(Gk(o),l)}function os(o,l){o.classList?o.classList.add(l):uf(o,l)||(o.className+=0<o.className.length?" "+l:l)}function as(o,l){o.classList?o.classList.remove(l):uf(o,l)&&(o.className=mi(Gk(o),function(d){return d!=l}).join(" "))}function Tn(o){var l=o.type;switch(I(l)&&l.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return l=o.selectedIndex,0<=l?o.options[l].value:null;case"select-multiple":l=[];for(var d,p=0;d=o.options[p];p++)d.selected&&l.push(d.value);return l.length?l:null;default:return o.value!=null?o.value:null}}function qk(o,l){var d=o.type;switch(I(d)&&d.toLowerCase()){case"checkbox":case"radio":o.checked=l;break;case"select-one":if(o.selectedIndex=-1,I(l)){for(var p=0;d=o.options[p];p++)if(d.value==l){d.selected=!0;break}}break;case"select-multiple":for(I(l)&&(l=[l]),p=0;d=o.options[p];p++)if(d.selected=!1,l)for(var v,y=0;v=l[y];y++)d.value==v&&(d.selected=!0);break;default:o.value=l??""}}function iB(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(cf(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!vr;default:return 166>o.keyCode||183<o.keyCode}}function Wk(o,l,d,p,v,y){if(fn&&!nr("525"))return!0;if(Ei&&v)return cf(o);if(v&&!p)return!1;if(!vr){typeof l=="number"&&(l=Y1(l));var P=l==17||l==18||Ei&&l==91;if((!d||Ei)&&P||Ei&&l==16&&(p||y))return!1}if((fn||wi)&&p&&d)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(It&&p&&l==o)return!1;switch(o){case 13:return vr?y||v?!1:!(d&&p):!0;case 27:return!(fn||wi||vr)}return vr&&(p||v||y)?!1:cf(o)}function cf(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||(fn||wi)&&o==0)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return vr;default:return!1}}function Y1(o){if(vr)o=sB(o);else if(Ei&&fn)switch(o){case 93:o=91}return o}function sB(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}function Ec(o){on.call(this),this.a=o,Ci(o,"keydown",this.g,!1,this),Ci(o,"click",this.h,!1,this)}Ee(Ec,on),Ec.prototype.g=function(o){(o.keyCode==13||fn&&o.keyCode==3)&&Hk(this,o)},Ec.prototype.h=function(o){Hk(this,o)};function Hk(o,l){var d=new Yk(l);if($o(o,d)){d=new Kk(l);try{$o(o,d)}finally{l.stopPropagation()}}}Ec.prototype.o=function(){Ec.K.o.call(this),pl(this.a,"keydown",this.g,!1,this),pl(this.a,"click",this.h,!1,this),delete this.a};function Kk(o){ir.call(this,o.a),this.type="action"}Ee(Kk,ir);function Yk(o){ir.call(this,o.a),this.type="beforeaction"}Ee(Yk,ir);function Ic(o){on.call(this),this.a=o,o=It?"focusout":"blur",this.g=Ci(this.a,It?"focusin":"focus",this,!It),this.h=Ci(this.a,o,this,!It)}Ee(Ic,on),Ic.prototype.handleEvent=function(o){var l=new ir(o.a);l.type=o.type=="focusin"||o.type=="focus"?"focusin":"focusout",$o(this,l)},Ic.prototype.o=function(){Ic.K.o.call(this),zo(this.g),zo(this.h),delete this.a};function kv(o,l){on.call(this),this.g=o||1,this.a=l||g,this.h=L(this.gc,this),this.j=We()}Ee(kv,on),t=kv.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var o=We()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),$o(this,"tick"),this.Ka&&(Rv(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=We())};function Rv(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}t.o=function(){kv.K.o.call(this),Rv(this),delete this.a};function oB(o,l){if(B(o))l&&(o=L(o,l));else if(o&&typeof o.handleEvent=="function")o=L(o.handleEvent,o);else throw Error("Invalid listener argument");return g.setTimeout(o,0)}function bc(o){bt.call(this),this.g=o,this.a={}}Ee(bc,bt);var Qk=[];function Tc(o,l,d,p){R(d)||(d&&(Qk[0]=d.toString()),d=Qk);for(var v=0;v<d.length;v++){var y=Ci(l,d[v],p||o.handleEvent,!1,o.g||o);if(!y)break;o.a[y.key]=y}}function Xk(o){Ph(o.a,function(l,d){this.a.hasOwnProperty(d)&&zo(l)},o),o.a={}}bc.prototype.o=function(){bc.K.o.call(this),Xk(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function df(o){on.call(this),this.a=null,this.g=o,o=It||wi||fn&&!nr("531")&&o.tagName=="TEXTAREA",this.h=new bc(this),Tc(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}Ee(df,on),df.prototype.handleEvent=function(o){if(o.type=="input")It&&nr(10)&&o.keyCode==0&&o.j==0||(Q1(this),$o(this,Jk(o)));else if(o.type!="keydown"||iB(o)){var l=o.type=="keydown"?this.g.value:null;It&&o.keyCode==229&&(l=null);var d=Jk(o);Q1(this),this.a=oB(function(){this.a=null,this.g.value!=l&&$o(this,d)},this)}};function Q1(o){o.a!=null&&(g.clearTimeout(o.a),o.a=null)}function Jk(o){return o=new ir(o.a),o.type="input",o}df.prototype.o=function(){df.K.o.call(this),this.h.m(),Q1(this),delete this.g};function hf(o,l){on.call(this),o&&(this.Oa&&rR(this),this.qa=o,this.Na=Ci(this.qa,"keypress",this,l),this.Ya=Ci(this.qa,"keydown",this.Jb,l,this),this.Oa=Ci(this.qa,"keyup",this.Kb,l,this))}Ee(hf,on),t=hf.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Zk={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},eR={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},tR=!fn||nr("525"),nR=Ei&&vr;t=hf.prototype,t.Jb=function(o){(fn||wi)&&(this.R==17&&!o.ctrlKey||this.R==18&&!o.altKey||Ei&&this.R==91&&!o.metaKey)&&(this.X=this.R=-1),this.R==-1&&(o.ctrlKey&&o.keyCode!=17?this.R=17:o.altKey&&o.keyCode!=18?this.R=18:o.metaKey&&o.keyCode!=91&&(this.R=91)),tR&&!Wk(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=Y1(o.keyCode),nR&&(this.Ua=o.altKey))},t.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},t.handleEvent=function(o){var l=o.a,d=l.altKey;if(It&&o.type=="keypress")var p=this.X,v=p!=13&&p!=27?l.keyCode:0;else(fn||wi)&&o.type=="keypress"?(p=this.X,v=0<=l.charCode&&63232>l.charCode&&cf(p)?l.charCode:0):Wu&&!fn?(p=this.X,v=cf(p)?l.keyCode:0):(o.type=="keypress"?(nR&&(d=this.Ua),l.keyCode==l.charCode?32>l.keyCode?(p=l.keyCode,v=0):(p=this.X,v=l.charCode):(p=l.keyCode||this.X,v=l.charCode||0)):(p=l.keyCode||this.X,v=l.charCode||0),Ei&&v==63&&p==224&&(p=191));var y=p=Y1(p);p?63232<=p&&p in Zk?y=Zk[p]:p==25&&o.shiftKey&&(y=9):l.keyIdentifier&&l.keyIdentifier in eR&&(y=eR[l.keyIdentifier]),vr&&tR&&o.type=="keypress"&&!Wk(y,this.R,o.shiftKey,o.ctrlKey,d,o.metaKey)||(o=y==this.R,this.R=y,l=new iR(y,v,o,l),l.altKey=d,$o(this,l))},t.N=function(){return this.qa};function rR(o){o.Na&&(zo(o.Na),zo(o.Ya),zo(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}t.o=function(){hf.K.o.call(this),rR(this)};function iR(o,l,d,p){ir.call(this,p),this.type="key",this.keyCode=o,this.j=l,this.repeat=d}Ee(iR,ir);function Sc(o,l,d,p){this.top=o,this.right=l,this.bottom=d,this.left=p}Sc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Sc.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Sc.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Sc.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function xv(o,l){var d=Fo(o);return d.defaultView&&d.defaultView.getComputedStyle&&(o=d.defaultView.getComputedStyle(o,null))&&(o[l]||o.getPropertyValue(l))||""}function sR(o){try{var l=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return It&&o.ownerDocument.body&&(o=o.ownerDocument,l.left-=o.documentElement.clientLeft+o.body.clientLeft,l.top-=o.documentElement.clientTop+o.body.clientTop),l}function aB(o,l){l=l||Xu(document);var d=l||Xu(document),p=oR(o),v=oR(d);if(!It||9<=Number(rr)){P=xv(d,"borderLeftWidth");var y=xv(d,"borderRightWidth");M=xv(d,"borderTopWidth"),G=xv(d,"borderBottomWidth"),y=new Sc(parseFloat(M),parseFloat(y),parseFloat(G),parseFloat(P))}else{var P=Nv(d,"borderLeft");y=Nv(d,"borderRight");var M=Nv(d,"borderTop"),G=Nv(d,"borderBottom");y=new Sc(M,y,G,P)}d==Xu(document)?(P=p.a-d.scrollLeft,p=p.g-d.scrollTop,!It||10<=Number(rr)||(P+=y.left,p+=y.top)):(P=p.a-v.a-y.left,p=p.g-v.g-y.top),v=o.offsetWidth,y=o.offsetHeight,M=fn&&!v&&!y,_(v)&&!M||!o.getBoundingClientRect?o=new Vo(v,y):(o=sR(o),o=new Vo(o.right-o.left,o.bottom-o.top)),v=d.clientHeight-o.height,y=d.scrollLeft,M=d.scrollTop,y+=Math.min(P,Math.max(P-(d.clientWidth-o.width),0)),M+=Math.min(p,Math.max(p-v,0)),d=new yr(y,M),l.scrollLeft=d.a,l.scrollTop=d.g}function oR(o){var l=Fo(o),d=new yr(0,0),p=l?Fo(l):document;return p=!It||9<=Number(rr)||cl(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,o==p||(o=sR(o),p=cl(l).a,l=Xu(p),p=p.parentWindow||p.defaultView,l=It&&nr("10")&&p.pageYOffset!=l.scrollTop?new yr(l.scrollLeft,l.scrollTop):new yr(p.pageXOffset||l.scrollLeft,p.pageYOffset||l.scrollTop),d.a=o.left+l.a,d.g=o.top+l.g),d}var aR={thin:2,medium:4,thick:6};function Nv(o,l){if((o.currentStyle?o.currentStyle[l+"Style"]:null)=="none")return 0;var d=o.currentStyle?o.currentStyle[l+"Width"]:null;if(d in aR)o=aR[d];else if(/^\d+px?$/.test(d))o=parseInt(d,10);else{l=o.style.left;var p=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=d,d=o.style.pixelLeft,o.style.left=l,o.runtimeStyle.left=p,o=+d}return o}function X1(){}b(X1),X1.prototype.a=0;function El(o){on.call(this),this.s=o||cl(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Ee(El,on),t=El.prototype,t.Lb=X1.Xa(),t.N=function(){return this.g};function Ge(o,l){return o.g?Us(l,o.g||o.s.a):null}function ff(o){return o.L||(o.L=new bc(o)),o.L}t.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");El.K.Za.call(this,o)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,J1(this,function(o){!o.na&&o.N()&&o.v()})},t.ya=function(){J1(this,function(o){o.na&&o.ya()}),this.L&&Xk(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),J1(this,function(o){o.m()}),this.g&&Bs(this.g),this.Y=this.g=this.oa=this.Ea=null,El.K.o.call(this)};function J1(o,l){o.Ea&&$e(o.Ea,l,void 0)}t.removeChild=function(o,l){if(o){var d=I(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(this.oa&&d?(o=this.oa,o=(o!==null&&d in o?o[d]:void 0)||null):o=null,d&&o){var p=this.oa;if(d in p&&delete p[d],Ng(this.Ea,o),l&&(o.ya(),o.g&&Bs(o.g)),l=o,l==null)throw Error("Unable to set parent component");l.Y=null,El.K.Za.call(l,null)}}if(!o)throw Error("Child is not in parent component");return o};function Bt(o,l){var d=zh(o,"firebaseui-textfield");l?(as(o,"firebaseui-input-invalid"),os(o,"firebaseui-input"),d&&as(d,"firebaseui-textfield-invalid")):(as(o,"firebaseui-input"),os(o,"firebaseui-input-invalid"),d&&os(d,"firebaseui-textfield-invalid"))}function Cc(o,l,d){l=new df(l),Bn(o,U(rs,l)),Tc(ff(o),l,"input",d)}function pf(o,l,d){l=new hf(l),Bn(o,U(rs,l)),Tc(ff(o),l,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),d(p))})}function lB(o,l,d){l=new Ic(l),Bn(o,U(rs,l)),Tc(ff(o),l,"focusin",d)}function uB(o,l,d){l=new Ic(l),Bn(o,U(rs,l)),Tc(ff(o),l,"focusout",d)}function Nt(o,l,d){l=new Ec(l),Bn(o,U(rs,l)),Tc(ff(o),l,"action",function(p){p.stopPropagation(),p.preventDefault(),d(p)})}function Fr(o){os(o,"firebaseui-hidden")}function Sn(o,l){l&&Ju(o,l),as(o,"firebaseui-hidden")}function Ac(o){return!uf(o,"firebaseui-hidden")&&o.style.display!="none"}function Pc(o){o=o||{};var l=o.email,d=o.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=o.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+xt(l??"")+'"'+(d?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ae(p)}function Er(o){o=o||{},o=o.label;var l='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return l=o?l+we(o):l+"Next",ae(l+"</button>")}function Z1(){var o=""+Er({label:mt("Sign In")});return ae(o)}function lR(){var o=""+Er({label:mt("Save")});return ae(o)}function Ai(){var o=""+Er({label:mt("Continue")});return ae(o)}function uR(o){o=o||{},o=o.label;var l='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return l=o?l+we(o):l+"Choose password",ae(l+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function cR(){var o={},l='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return l=o.current?l+"Current password":l+"Password",ae(l+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function dR(){return ae('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Ur(o){o=o||{},o=o.label;var l='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return l=o?l+we(o):l+"Cancel",ae(l+"</button>")}function jn(o){var l="";return o.F&&o.D&&(l+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ae(l)}function kc(o){var l="";return o.F&&o.D&&(l+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ae(l)}function hR(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+we(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ae(o)}hR.a="firebaseui.auth.soy2.element.infoBar";function fR(o){var l=o.content;return o=o.Ab,ae('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(o?" "+xt(o):"")+'">'+we(l)+"</dialog>")}function pR(o){var l=o.message;return ae(fR({content:Gh('<div class="firebaseui-dialog-icon-wrapper"><div class="'+xt(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+we(l)+"</div>")}))}pR.a="firebaseui.auth.soy2.element.progressDialog";function mR(o){var l='<div class="firebaseui-list-box-actions">';o=o.items;for(var d=o.length,p=0;p<d;p++){var v=o[p];l+='<button type="button" data-listboxid="'+xt(v.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(v.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+xt(v.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+we(v.label)+"</div></button>"}return l=""+fR({Ab:mt("firebaseui-list-box-dialog"),content:Gh(l+"</div>")}),ae(l)}mR.a="firebaseui.auth.soy2.element.listBoxDialog";function Dv(o){return o=o||{},ae(o.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Dv.a="firebaseui.auth.soy2.element.busyIndicator";function Wo(o,l){return o=o||{},o=o.ga,Me(o.S?o.S:l.hb[o.providerId]?""+l.hb[o.providerId]:o.providerId&&o.providerId.indexOf("saml.")==0||o.providerId&&o.providerId.indexOf("oidc.")==0?o.providerId.substring(5):""+o.providerId)}function eE(o){gR(o,"upgradeElement")}function tE(o){gR(o,"downgradeElements")}var cB=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function gR(o,l){o&&window.componentHandler&&window.componentHandler[l]&&cB.forEach(function(d){uf(o,d)&&window.componentHandler[l](o),$e(Fs(d,o),function(p){window.componentHandler[l](p)})})}function vR(o,l,d){if(Ov.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),eE(o),l&&Nt(this,o,function(y){var P=o.getBoundingClientRect();(y.clientX<P.left||P.left+P.width<y.clientX||y.clientY<P.top||P.top+P.height<y.clientY)&&Ov.call(this)}),!d){var p=this.N().parentElement||this.N().parentNode;if(p){var v=this;this.da=function(){if(o.open){var y=o.getBoundingClientRect().height,P=p.getBoundingClientRect().height,M=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,G=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,J=o.getBoundingClientRect().width,pe=p.getBoundingClientRect().width;o.style.top=(M+(P-y)/2).toString()+"px",y=G+(pe-J)/2,o.style.left=y.toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-y-J).toString()+"px"}else window.removeEventListener("resize",v.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Ov(){var o=nE.call(this);o&&(tE(o),o.open&&o.close(),Bs(o),this.da&&window.removeEventListener("resize",this.da))}function nE(){return Us("firebaseui-id-dialog")}function yR(){Bs(_R.call(this))}function _R(){return Ge(this,"firebaseui-id-info-bar")}function wR(){return Ge(this,"firebaseui-id-dismiss-info-bar")}var dB={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function rE(o,l,d){zs.call(this,o,l);for(var p in d)this[p]=d[p]}Ee(rE,zs);function K(o,l,d,p,v){El.call(this,d),this.fb=o,this.eb=l,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=rn(dB),Rs(this.Z,v||{})}Ee(K,El),t=K.prototype,t.kb=function(){var o=js(this.fb,this.eb,this.Z,this.s);eE(o),this.g=o},t.v=function(){if(K.K.v.call(this),IP(Tt(this),new rE("pageEnter",Tt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;Nt(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var l=this.Z.D;Nt(this,this.ab(),function(){l()})}},t.ya=function(){IP(Tt(this),new rE("pageExit",Tt(this),{pageId:this.Ga})),K.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,tE(this.N()),K.K.o.call(this)};function hB(o){o.Fa=!0;var l=uf(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&o.A===null&&(o.A=js(Dv,{tb:l},null,o.s),o.N().appendChild(o.A),eE(o.A))},500)}t.I=function(o,l,d,p){function v(){if(y.T)return null;y.Fa=!1,window.clearTimeout(y.ca),y.ca=null,y.A&&(tE(y.A),Bs(y.A),y.A=null)}var y=this;return y.Fa?null:(hB(y),o.apply(null,l).then(d,p).then(v,v))};function Tt(o){return o.N().parentElement||o.N().parentNode}function mf(o,l,d){pf(o,l,function(){d.focus()})}function Rc(o,l,d){pf(o,l,function(){d()})}D(K.prototype,{a:function(o){yR.call(this);var l=js(hR,{message:o},null,this.s);this.N().appendChild(l),Nt(this,wR.call(this),function(){Bs(l)})},yc:yR,Ac:_R,zc:wR,$:function(o,l){o=js(pR,{Ma:o,message:l},null,this.s),vR.call(this,o)},h:Ov,Cb:nE,Cc:function(){return Ge(this,"firebaseui-tos")},bb:function(){return Ge(this,"firebaseui-tos-link")},ab:function(){return Ge(this,"firebaseui-pp-link")},Dc:function(){return Ge(this,"firebaseui-tos-list")}});function ER(o,l,d){o=o||{},l=o.Va;var p=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Pc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ur(null):"")+Er(null)+'</div></div><div class="firebaseui-card-footer">'+(p?kc(d):jn(d))+"</div></form></div>",ae(o)}ER.a="firebaseui.auth.soy2.page.signIn";function IR(o,l,d){return o=o||{},l=o.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Pc(o)+cR()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+dR()+'</div><div class="firebaseui-form-actions">'+Z1()+'</div></div><div class="firebaseui-card-footer">'+(l?kc(d):jn(d))+"</div></form></div>",ae(o)}IR.a="firebaseui.auth.soy2.page.passwordSignIn";function bR(o,l,d){o=o||{};var p=o.Tb;l=o.Ta;var v=o.ia,y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Pc(o);return p?(o=o||{},o=o.name,o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+xt(o??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=ae(o)):o="",d=y+o+uR(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ur(null):"")+lR()+'</div></div><div class="firebaseui-card-footer">'+(v?kc(d):jn(d))+"</div></form></div>",ae(d)}bR.a="firebaseui.auth.soy2.page.passwordSignUp";function TR(o,l,d){return o=o||{},l=o.Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Pc(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ur(null):"")+Er({label:mt("Send")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(o)}TR.a="firebaseui.auth.soy2.page.passwordRecovery";function SR(o,l,d){l=o.G;var p="";return o="Follow the instructions sent to <strong>"+(we(o.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">',l&&(p+='<div class="firebaseui-form-actions">'+Er({label:mt("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+jn(d)+"</div></div>",ae(p)}SR.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function CR(o,l,d){return ae('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Dv(null)+"</div></div>")}CR.a="firebaseui.auth.soy2.page.callback";function AR(o,l,d){return ae('<div class="firebaseui-container firebaseui-id-page-spinner">'+Dv({tb:!0})+"</div>")}AR.a="firebaseui.auth.soy2.page.spinner";function PR(){return ae('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}PR.a="firebaseui.auth.soy2.page.blank";function kR(o,l,d){l="",o="A sign-in email with additional instructions was sent to <strong>"+(we(o.email)+"</strong>. Check your email to complete sign-in.");var p=ae('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+Ur({label:mt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}kR.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function RR(o,l,d){return o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ae('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Ur({label:mt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(o)}RR.a="firebaseui.auth.soy2.page.emailNotReceived";function xR(o,l,d){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Pc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur(null)+Er(null)+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(o)}xR.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function NR(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur({label:mt("Dismiss")})+"</div></div></div>";return ae(o)}NR.a="firebaseui.auth.soy2.page.differentDeviceError";function DR(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur({label:mt("Dismiss")})+"</div></div></div>";return ae(o)}DR.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function OR(o,l,d){return l="",o="Youve already used <strong>"+(we(o.email)+"</strong> to sign in. Enter your password for that account."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+o+"</p>"+cR()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+dR()+'</div><div class="firebaseui-form-actions">'+Z1()+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}OR.a="firebaseui.auth.soy2.page.passwordLinking";function LR(o,l,d){var p=o.email;return l="",o=""+Wo(o,d),o=mt(o),p="Youve already used <strong>"+(we(p)+("</strong>. You can connect your <strong>"+(we(o)+("</strong> account with <strong>"+(we(p)+"</strong> by signing in with email link below."))))),o="For this flow to successfully connect your "+(we(o)+" account with this email, you have to open the link on the same device or browser."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Z1()+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}LR.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function MR(o,l,d){l="";var p=""+Wo(o,d);return p=mt(p),o="You originally intended to connect <strong>"+(we(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(we(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+o+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ai()+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}MR.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function VR(o,l,d){var p=o.email;return l="",o=""+Wo(o,d),o=mt(o),p="Youve already used <strong>"+(we(p)+("</strong>. Sign in with "+(we(o)+" to continue."))),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Er({label:mt("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}VR.a="firebaseui.auth.soy2.page.federatedLinking";function FR(o,l,d){o=o||{};var p=o.kc;l=o.yb,o=o.Eb;var v='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(we(p)+"</strong> is not authorized to view the requested page."),v+=p):v+="User is not authorized to view the requested page.",v+="</p>",l&&(l="Please contact <strong>"+(we(l)+"</strong> for authorization."),v+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+l+"</p>"),v+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(v+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),v+='</div><div class="firebaseui-form-actions">'+Ur({label:mt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(v)}FR.a="firebaseui.auth.soy2.page.unauthorizedUser";function UR(o,l,d){return l="",o="To continue sign in with <strong>"+(we(o.email)+"</strong> on this device, you have to recover the password."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur(null)+Er({label:mt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}UR.a="firebaseui.auth.soy2.page.unsupportedProvider";function BR(o){var l="",d='<p class="firebaseui-text">for <strong>'+(we(o.email)+"</strong></p>");return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+d+uR(rc(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lR()+"</div></div></form></div>",ae(l)}BR.a="firebaseui.auth.soy2.page.passwordReset";function jR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}jR.a="firebaseui.auth.soy2.page.passwordResetSuccess";function zR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}zR.a="firebaseui.auth.soy2.page.passwordResetFailure";function $R(o){var l=o.G,d="";return o="Your sign-in email address has been changed back to <strong>"+(we(o.email)+"</strong>."),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></form></div>",ae(d)}$R.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function GR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}GR.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function qR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}qR.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function WR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}WR.a="firebaseui.auth.soy2.page.emailVerificationFailure";function HR(o){var l=o.G,d="";return o="You can now sign in with your new email <strong>"+(we(o.email)+"</strong>."),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(d)}HR.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function KR(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}KR.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function YR(o){var l=o.factorId,d=o.phoneNumber;o=o.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(l){case"phone":l="The <strong>"+(we(l)+(" "+(we(d)+"</strong> was removed as a second authentication step."))),p+=l;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(o?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></form></div>",ae(p)}YR.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function QR(o){return o=o||{},o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(o.G?'<div class="firebaseui-form-actions">'+Ai()+"</div>":"")+"</div></div>",ae(o)}QR.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function XR(o){var l=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+we(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',l&&(o+=Er({label:mt("Retry")})),ae(o+"</div></div></div>")}XR.a="firebaseui.auth.soy2.page.recoverableError";function JR(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+we(o.errorMessage)+"</p></div></div>",ae(o)}JR.a="firebaseui.auth.soy2.page.unrecoverableError";function ZR(o,l,d){var p=o.Qb;return l="",o="Continue with "+(we(o.jc)+"?"),p="You originally wanted to sign in with "+we(p),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+o+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur(null)+Er({label:mt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form></div>",ae(l)}ZR.a="firebaseui.auth.soy2.page.emailMismatch";function e2(o,l,d){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';o=o.Sb,l=o.length;for(var v=0;v<l;v++){var y={ga:o[v]},P=d;y=y||{};var M=y.ga,G=y;G=G||{};var J="";switch(G.ga.providerId){case"google.com":J+="firebaseui-idp-google";break;case"github.com":J+="firebaseui-idp-github";break;case"facebook.com":J+="firebaseui-idp-facebook";break;case"twitter.com":J+="firebaseui-idp-twitter";break;case"phone":J+="firebaseui-idp-phone";break;case"anonymous":J+="firebaseui-idp-anonymous";break;case"password":J+="firebaseui-idp-password";break;default:J+="firebaseui-idp-generic"}G='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+xt(Me(J))+' firebaseui-id-idp-button" data-provider-id="'+xt(M.providerId)+'" style="background-color:',J=(J=y)||{},J=J.ga,G=G+xt(qh(Me(J.ta?J.ta:P.wa[J.providerId]?""+P.wa[J.providerId]:J.providerId.indexOf("saml.")==0?""+P.wa.saml:J.providerId.indexOf("oidc.")==0?""+P.wa.oidc:""+P.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var pe=y;J=P,pe=pe||{},pe=pe.ga,J=Hg(pe.za?ns(pe.za):J.xa[pe.providerId]?ns(J.xa[pe.providerId]):pe.providerId.indexOf("saml.")==0?ns(J.xa.saml):pe.providerId.indexOf("oidc.")==0?ns(J.xa.oidc):ns(J.xa.password)),G=G+xt(ns(J))+'"></span>',M.providerId=="password"?(G+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?G+=we(M.V):M.S?(y="Sign in with "+we(Wo(y,P)),G+=y):G+="Sign in with email",G+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',G=M.S?G+we(M.S):G+"Email",G+="</span>"):M.providerId=="phone"?(G+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?G+=we(M.V):M.S?(y="Sign in with "+we(Wo(y,P)),G+=y):G+="Sign in with phone",G+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',G=M.S?G+we(M.S):G+"Phone",G+="</span>"):M.providerId=="anonymous"?(G+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?G+=we(M.V):M.S?(y="Sign in with "+we(Wo(y,P)),G+=y):G+="Continue as guest",G+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',G=M.S?G+we(M.S):G+"Guest",G+="</span>"):(G+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?G+=we(M.V):(J="Sign in with "+we(Wo(y,P)),G+=J),G+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(M.S?we(M.S):we(Wo(y,P)))+"</span>"),M=ae(G+"</button>"),p+='<li class="firebaseui-list-item">'+M+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+kc(d)+"</div></div>",ae(p)}e2.a="firebaseui.auth.soy2.page.providerSignIn";function t2(o,l,d){o=o||{};var p=o.Gb,v=o.Va;l=o.ia,o=o||{},o=o.Aa,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+xt(o??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ae(o);var y;return p?y=ae('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):y="",y=o+y+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(v?Ur(null):"")+Er({label:mt("Verify")})+'</div></div><div class="firebaseui-card-footer">',l?(l='<p class="firebaseui-tos firebaseui-phone-tos">',l=d.F&&d.D?l+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':l+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",d=ae(l+"</p>")):d=ae('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+jn(d),ae(y+d+"</div></form></div>")}t2.a="firebaseui.auth.soy2.page.phoneSignInStart";function n2(o,l,d){o=o||{},l=o.phoneNumber;var p="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(we(l)+"</a>"),we(l),l=p,p=ae('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ur(null)+Er({label:mt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+jn(d)+"</div></form>",o=ae('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ae(l+(d+o+"</div>"))}n2.a="firebaseui.auth.soy2.page.phoneSignInFinish";function r2(){return ae('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}r2.a="firebaseui.auth.soy2.page.signOut";function i2(o,l,d){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';o=o.ec,l=o.length;for(var v=0;v<l;v++){var y=o[v],P="",M=we(y.displayName),G=y.tenantId?y.tenantId:"top-level-project";G=mt(G),P+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+xt(G)+' firebaseui-id-tenant-selection-button"'+(y.tenantId?'data-tenant-id="'+xt(y.tenantId)+'"':"")+'style="background-color:'+xt(qh(y.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+xt(ns(y.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',y.V?P+=we(y.V):(y="Sign in to "+we(y.displayName),P+=y),P=ae(P+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+M+"</span></button>")),p+='<li class="firebaseui-list-item">'+P+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+kc(d)+"</div></div>",ae(p)}i2.a="firebaseui.auth.soy2.page.selectTenant";function s2(o,l,d){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Pc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Er(null)+'</div></div><div class="firebaseui-card-footer">'+kc(d)+"</div></form></div>",ae(o)}s2.a="firebaseui.auth.soy2.page.providerMatchByEmail";function pn(){return Ge(this,"firebaseui-id-submit")}function ln(){return Ge(this,"firebaseui-id-secondary-link")}function Cn(o,l){Nt(this,pn.call(this),function(p){o(p)});var d=ln.call(this);d&&l&&Nt(this,d,function(p){l(p)})}function Lv(){return Ge(this,"firebaseui-id-password")}function Mv(){return Ge(this,"firebaseui-id-password-error")}function o2(){var o=Lv.call(this),l=Mv.call(this);Cc(this,o,function(){Ac(l)&&(Bt(o,!0),Fr(l))})}function a2(){var o=Lv.call(this),l=Mv.call(this);return Tn(o)?(Bt(o,!0),Fr(l),l=!0):(Bt(o,!1),Sn(l,Me("Enter your password").toString()),l=!1),l?Tn(o):null}function xc(o,l,d,p,v,y){K.call(this,OR,{email:o},y,"passwordLinking",{F:p,D:v}),this.w=l,this.H=d}u(xc,K),xc.prototype.v=function(){this.P(),this.M(this.w,this.H),Rc(this,this.i(),this.w),this.i().focus(),K.prototype.v.call(this)},xc.prototype.o=function(){this.w=null,K.prototype.o.call(this)},xc.prototype.j=function(){return Tn(Ge(this,"firebaseui-id-email"))},D(xc.prototype,{i:Lv,B:Mv,P:o2,u:a2,ea:pn,ba:ln,M:Cn});var fB=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function qs(){return Ge(this,"firebaseui-id-email")}function Ho(){return Ge(this,"firebaseui-id-email-error")}function Nc(o){var l=qs.call(this),d=Ho.call(this);Cc(this,l,function(){Ac(d)&&(Bt(l,!0),Fr(d))}),o&&pf(this,l,function(){o()})}function Dc(){return Vn(Tn(qs.call(this))||"")}function Oc(){var o=qs.call(this),l=Ho.call(this),d=Tn(o)||"";return d?fB.test(d)?(Bt(o,!0),Fr(l),l=!0):(Bt(o,!1),Sn(l,Me("That email address isn't correct").toString()),l=!1):(Bt(o,!1),Sn(l,Me("Enter your email address to continue").toString()),l=!1),l?Vn(Tn(o)):null}function gf(o,l,d,p,v,y,P){K.call(this,IR,{email:d,ia:!!y},P,"passwordSignIn",{F:p,D:v}),this.w=o,this.H=l}u(gf,K),gf.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),mf(this,this.l(),this.i()),Rc(this,this.i(),this.w),Tn(this.l())?this.i().focus():this.l().focus(),K.prototype.v.call(this)},gf.prototype.o=function(){this.H=this.w=null,K.prototype.o.call(this)},D(gf.prototype,{l:qs,U:Ho,P:Nc,M:Dc,j:Oc,i:Lv,B:Mv,ea:o2,u:a2,ua:pn,pa:ln,ba:Cn});function Ze(o,l,d,p,v,y){K.call(this,o,l,p,v||"notice",y),this.i=d||null}Ee(Ze,K),Ze.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Ze.K.v.call(this)},Ze.prototype.o=function(){this.i=null,Ze.K.o.call(this)},D(Ze.prototype,{l:pn,w:ln,u:Cn});function Vv(o,l,d,p,v){Ze.call(this,SR,{email:o,G:!!l},l,v,"passwordRecoveryEmailSent",{F:d,D:p})}Ee(Vv,Ze);function l2(o,l){Ze.call(this,qR,{G:!!o},o,l,"emailVerificationSuccess")}Ee(l2,Ze);function u2(o,l){Ze.call(this,WR,{G:!!o},o,l,"emailVerificationFailure")}Ee(u2,Ze);function c2(o,l,d){Ze.call(this,HR,{email:o,G:!!l},l,d,"verifyAndChangeEmailSuccess")}Ee(c2,Ze);function d2(o,l){Ze.call(this,KR,{G:!!o},o,l,"verifyAndChangeEmailFailure")}Ee(d2,Ze);function h2(o,l){Ze.call(this,QR,{G:!!o},o,l,"revertSecondFactorAdditionFailure")}Ee(h2,Ze);function f2(o){Ze.call(this,r2,void 0,void 0,o,"signOut")}Ee(f2,Ze);function p2(o,l){Ze.call(this,jR,{G:!!o},o,l,"passwordResetSuccess")}Ee(p2,Ze);function m2(o,l){Ze.call(this,zR,{G:!!o},o,l,"passwordResetFailure")}Ee(m2,Ze);function g2(o,l){Ze.call(this,GR,{G:!!o},o,l,"emailChangeRevokeFailure")}Ee(g2,Ze);function v2(o,l,d){Ze.call(this,XR,{errorMessage:o,zb:!!l},l,d,"recoverableError")}Ee(v2,Ze);function y2(o,l){Ze.call(this,JR,{errorMessage:o},void 0,l,"unrecoverableError")}Ee(y2,Ze);function vf(o){if(o.code==="auth/invalid-credential"&&o.message&&o.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(o.message&&o.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var l=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:l&&l.error&&l.error.message||o.message}}return o}function Ws(o,l,d,p){function v(P){if(!P.name||P.name!="cancel"){e:{var M=P.message;try{var G=((JSON.parse(M).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(G&&G.length){var J=!0;break e}}catch{}J=!1}if(J)P=Tt(l),l.m(),lt(o,P,void 0,Me("Your sign-in session has expired. Please try again.").toString());else{if(J=P&&P.message||"",P.code){if(P.code=="auth/email-already-in-use"||P.code=="auth/credential-already-in-use")return;J=nt(P)}l.a(J)}}}if(B2(o),p)return _2(o,d),Ut();if(!d.credential)throw Error("No credential found!");if(!Ve(o).currentUser&&!d.user)throw Error("User not logged in.");try{var y=qB(o,d)}catch(P){return Mr(P.code||P.message,P),l.a(P.code||P.message),Ut()}return d=y.then(function(P){_2(o,P)},v).then(void 0,v),Ce(o,y),Ut(d)}function _2(o,l){if(!l.user)throw Error("No user found");var d=jk(Y(o));if($1(Y(o))&&d&&qo("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),d){d=jk(Y(o));var p=wk(be(o))||void 0;wr(nf,be(o));var v=!1;BP()?((!d||d(l,p))&&(v=!0,Mo(window.opener.location,Fv(o,p))),d||window.close()):(!d||d(l,p))&&(v=!0,Mo(window.location,Fv(o,p))),v||o.reset()}else{d=l.user,l=l.credential,p=$1(Y(o)),v=wk(be(o))||void 0,wr(nf,be(o));var y=!1;BP()?((!p||p(d,l,v))&&(y=!0,Mo(window.opener.location,Fv(o,v))),p||window.close()):(!p||p(d,l,v))&&(y=!0,Mo(window.location,Fv(o,v))),y||o.reset()}}function Fv(o,l){if(o=l||Y(o).a.get("signInSuccessUrl"),!o)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function nt(o){var l={code:o.code};l=l||{};var d="";switch(l.code){case"auth/email-already-in-use":d+="The email address is already used by another account";break;case"auth/requires-recent-login":d+=sn();break;case"auth/too-many-requests":d+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":d+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":d+="That email address doesn't match an existing account";break;case"auth/user-token-expired":d+=sn();break;case"auth/weak-password":d+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":d+="The email and password you entered don't match";break;case"auth/network-request-failed":d+="A network error has occurred";break;case"auth/invalid-phone-number":d+=x();break;case"auth/invalid-verification-code":d+=Me("Wrong code. Try again.");break;case"auth/code-expired":d+="This code is no longer valid";break;case"auth/expired-action-code":d+="This code has expired.";break;case"auth/invalid-action-code":d+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(l=Me(d).toString())return l;try{return JSON.parse(o.message),Mr("Internal error: "+o.message,void 0),W().toString()}catch{return o.message}}function pB(o,l,d){var p=vc[l]&&me.auth[vc[l]]?new me.auth[vc[l]]:l.indexOf("saml.")==0?new me.auth.SAMLAuthProvider(l):new me.auth.OAuthProvider(l);if(!p)throw Error("Invalid Firebase Auth provider!");var v=Mk(Y(o),l);if(p.addScope)for(var y=0;y<v.length;y++)p.addScope(v[y]);return v=Vk(Y(o),l)||{},d&&(l==me.auth.GoogleAuthProvider.PROVIDER_ID?o="login_hint":l==me.auth.GithubAuthProvider.PROVIDER_ID?o="login":o=(o=of(Y(o),l))&&o.Ob,o&&(v[o]=d)),p.setCustomParameters&&p.setCustomParameters(v),p}function yf(o,l,d,p){function v(){zU(new ik(o.h.tenantId||null),be(o)),Ce(o,l.I(L(o.dc,o),[G],function(){if((window.location&&window.location.protocol)==="file:")return Ce(o,L2(o).then(function(J){l.m(),wr(yl,be(o)),he("callback",o,M,Ut(J))},y))},P))}function y(J){if(wr(yl,be(o)),!J.name||J.name!="cancel")switch(J=vf(J),J.code){case"auth/popup-blocked":v();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":l.a(nt(J));break;case"auth/admin-restricted-operation":l.m(),wl(Y(o))?he("handleUnauthorizedUser",o,M,null,d):he("callback",o,M,oc(J));break;default:l.m(),he("callback",o,M,oc(J))}}function P(J){wr(yl,be(o)),J.name&&J.name=="cancel"||(Mr("signInWithRedirect: "+J.code,void 0),J=nt(J),l.Ga=="blank"&&z1(Y(o))?(l.m(),he("providerSignIn",o,M,J)):l.a(J))}var M=Tt(l),G=pB(o,d,p);Bk(Y(o))==Pv?v():Ce(o,GB(o,G).then(function(J){l.m(),he("callback",o,M,Ut(J))},y))}function mB(o,l){Ce(o,l.I(L(o.$b,o),[],function(d){return l.m(),Ws(o,l,d,!0)},function(d){d.name&&d.name=="cancel"||(Mr("ContinueAsGuest: "+d.code,void 0),d=nt(d),l.a(d))}))}function gB(o,l,d){function p(y){var P=!1;return y=l.I(L(o.ac,o),[y],function(M){var G=Tt(l);l.m(),he("callback",o,G,Ut(M)),P=!0},function(M){if((!M.name||M.name!="cancel")&&(!M||M.code!="auth/credential-already-in-use"))if(M&&M.code=="auth/email-already-in-use"&&M.email&&M.credential){var G=Tt(l);l.m(),he("callback",o,G,oc(M))}else M&&M.code=="auth/admin-restricted-operation"&&wl(Y(o))?(M=Tt(l),l.m(),he("handleUnauthorizedUser",o,M,null,me.auth.GoogleAuthProvider.PROVIDER_ID)):(M=nt(M),l.a(M))}),Ce(o,y),y.then(function(){return P},function(){return!1})}if(d&&d.credential&&d.clientId===Ok(Y(o))){if(Mk(Y(o),me.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var v=JSON.parse(atob(d.credential.split(".")[1])).email}catch{}return yf(o,l,me.auth.GoogleAuthProvider.PROVIDER_ID,v),Ut(!0)}return p(me.auth.GoogleAuthProvider.credential(d.credential))}return d&&l.a(Me("The selected credential for the authentication provider is not supported!").toString()),Ut(!1)}function vB(o,l){var d=l.j(),p=l.u();if(d)if(p){var v=me.auth.EmailAuthProvider.credential(d,p);Ce(o,l.I(L(o.bc,o),[d,p],function(y){return Ws(o,l,{user:y.user,credential:v,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo})},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/email-already-in-use":break;case"auth/email-exists":Bt(l.l(),!1),Sn(l.U(),nt(y));break;case"auth/too-many-requests":case"auth/wrong-password":Bt(l.i(),!1),Sn(l.B(),nt(y));break;default:Mr("verifyPassword: "+y.message,void 0),l.a(nt(y))}}))}else l.i().focus();else l.l().focus()}function Uv(o){return o=yc(Y(o)),o.length==1&&o[0]==me.auth.EmailAuthProvider.PROVIDER_ID}function w2(o){return o=yc(Y(o)),o.length==1&&o[0]==me.auth.PhoneAuthProvider.PROVIDER_ID}function lt(o,l,d,p){Uv(o)?p?he("signIn",o,l,d,p):sE(o,l,d):o&&w2(o)&&!p?he("phoneSignInStart",o,l):o&&z1(Y(o))&&!p?he("federatedRedirect",o,l,d):he("providerSignIn",o,l,p,d)}function E2(o,l,d,p){var v=Tt(l);Ce(o,l.I(L(Ve(o).fetchSignInMethodsForEmail,Ve(o)),[d],function(y){l.m(),I2(o,v,y,d,p)},function(y){y=nt(y),l.a(y)}))}function I2(o,l,d,p,v,y){d.length||_c(Y(o))&&!_c(Y(o))?Ft(d,me.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordSignIn",o,l,p,y):d.length==1&&d[0]===me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?_c(Y(o))?he("sendEmailLinkForSignIn",o,l,p,function(){he("signIn",o,l)}):he("unsupportedProvider",o,l,p):(d=xk(d,yc(Y(o))))?(Ek(new k1(p),be(o)),he("federatedSignIn",o,l,p,d,v)):he("unsupportedProvider",o,l,p):Lk(Y(o))?he("handleUnauthorizedUser",o,l,p,me.auth.EmailAuthProvider.PROVIDER_ID):_c(Y(o))?he("sendEmailLinkForSignIn",o,l,p,function(){he("signIn",o,l)}):he("passwordSignUp",o,l,p,void 0,void 0,y)}function iE(o,l,d,p,v,y){var P=Tt(l);Ce(o,l.I(L(o.Ib,o),[d,y],function(){l.m(),he("emailLinkSignInSent",o,P,d,p,y)},v))}function sE(o,l,d){d?he("prefilledEmailSignIn",o,l,d):he("signIn",o,l)}function _f(){return Xi(Gs(),"oobCode")}function oE(){var o=Xi(Gs(),"continueUrl");return o?function(){Mo(window.location,o)}:null}function wf(o,l){K.call(this,DR,void 0,l,"anonymousUserMismatch"),this.i=o}u(wf,K),wf.prototype.v=function(){var o=this;Nt(this,this.l(),function(){o.i()}),this.l().focus(),K.prototype.v.call(this)},wf.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(wf.prototype,{l:ln}),Xe.anonymousUserMismatch=function(o,l){var d=new wf(function(){d.m(),lt(o,l)});d.render(l),Re(o,d)};function Bv(o){K.call(this,CR,void 0,o,"callback")}u(Bv,K),Bv.prototype.I=function(o,l,d,p){return o.apply(null,l).then(d,p)};function b2(o,l,d){if(d.user){var p={user:d.user,credential:d.credential,operationType:d.operationType,additionalUserInfo:d.additionalUserInfo},v=is(be(o)),y=v&&v.g;if(y&&!_B(d.user,y))yB(o,l,p);else{var P=v&&v.a;P?Ce(o,d.user.linkWithCredential(P).then(function(M){p={user:M.user,credential:P,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo},T2(o,l,p)},function(M){jv(o,l,M)})):T2(o,l,p)}}else d=Tt(l),l.m(),ss(be(o)),lt(o,d)}function T2(o,l,d){ss(be(o)),Ws(o,l,d)}function jv(o,l,d){var p=Tt(l);ss(be(o)),d=nt(d),l.m(),lt(o,p,void 0,d)}function S2(o,l,d,p){var v=Tt(l);Ce(o,Ve(o).fetchSignInMethodsForEmail(d).then(function(y){l.m(),y.length?Ft(y,me.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordLinking",o,v,d):y.length==1&&y[0]===me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?he("emailLinkSignInLinking",o,v,d):(y=xk(y,yc(Y(o))))?he("federatedLinking",o,v,d,y,p):(ss(be(o)),he("unsupportedProvider",o,v,d)):(ss(be(o)),he("passwordRecovery",o,v,d,!1,re().toString()))},function(y){jv(o,l,y)}))}function yB(o,l,d){var p=Tt(l);Ce(o,Ko(o).then(function(){l.m(),he("emailMismatch",o,p,d)},function(v){v.name&&v.name=="cancel"||(v=nt(v.code),l.a(v))}))}function _B(o,l){if(l==o.email)return!0;if(o.providerData){for(var d=0;d<o.providerData.length;d++)if(l==o.providerData[d].email)return!0}return!1}Xe.callback=function(o,l,d){var p=new Bv;p.render(l),Re(o,p),d=d||L2(o),Ce(o,d.then(function(v){b2(o,p,v)},function(v){if((v=vf(v))&&(v.code=="auth/account-exists-with-different-credential"||v.code=="auth/email-already-in-use")&&v.email&&v.credential)Ek(new k1(v.email,v.credential),be(o)),S2(o,p,v.email);else if(v&&v.code=="auth/user-cancelled"){var y=is(be(o)),P=nt(v);y&&y.a?S2(o,p,y.g,P):y?E2(o,p,y.g,P):jv(o,p,v)}else v&&v.code=="auth/credential-already-in-use"||(v&&v.code=="auth/operation-not-supported-in-this-environment"&&Uv(o)?b2(o,p,{user:null,credential:null}):v&&v.code=="auth/admin-restricted-operation"&&wl(Y(o))?(p.m(),ss(be(o)),he("handleUnauthorizedUser",o,l,null,null)):jv(o,p,v))}))};function Ef(o,l){K.call(this,NR,void 0,l,"differentDeviceError"),this.i=o}u(Ef,K),Ef.prototype.v=function(){var o=this;Nt(this,this.l(),function(){o.i()}),this.l().focus(),K.prototype.v.call(this)},Ef.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Ef.prototype,{l:ln}),Xe.differentDeviceError=function(o,l){var d=new Ef(function(){d.m(),lt(o,l)});d.render(l),Re(o,d)};function If(o,l,d,p){K.call(this,$R,{email:o,G:!!d},p,"emailChangeRevoke"),this.l=l,this.i=d||null}u(If,K),If.prototype.v=function(){var o=this;Nt(this,Ge(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),K.prototype.v.call(this)},If.prototype.o=function(){this.l=this.i=null,K.prototype.o.call(this)},D(If.prototype,{u:pn,B:ln,w:Cn});function bf(){return Ge(this,"firebaseui-id-new-password")}function zv(){return Ge(this,"firebaseui-id-password-toggle")}function wB(){this.Ra=!this.Ra;var o=zv.call(this),l=bf.call(this);this.Ra?(l.type="text",os(o,"firebaseui-input-toggle-off"),as(o,"firebaseui-input-toggle-on")):(l.type="password",os(o,"firebaseui-input-toggle-on"),as(o,"firebaseui-input-toggle-off")),l.focus()}function $v(){return Ge(this,"firebaseui-id-new-password-error")}function C2(){this.Ra=!1;var o=bf.call(this);o.type="password";var l=$v.call(this);Cc(this,o,function(){Ac(l)&&(Bt(o,!0),Fr(l))});var d=zv.call(this);os(d,"firebaseui-input-toggle-on"),as(d,"firebaseui-input-toggle-off"),lB(this,o,function(){os(d,"firebaseui-input-toggle-focus"),as(d,"firebaseui-input-toggle-blur")}),uB(this,o,function(){os(d,"firebaseui-input-toggle-blur"),as(d,"firebaseui-input-toggle-focus")}),Nt(this,d,L(wB,this))}function A2(){var o=bf.call(this),l=$v.call(this);return Tn(o)?(Bt(o,!0),Fr(l),l=!0):(Bt(o,!1),Sn(l,Me("Enter your password").toString()),l=!1),l?Tn(o):null}function Tf(o,l,d){K.call(this,BR,{email:o},d,"passwordReset"),this.l=l}u(Tf,K),Tf.prototype.v=function(){this.H(),this.B(this.l),Rc(this,this.i(),this.l),this.i().focus(),K.prototype.v.call(this)},Tf.prototype.o=function(){this.l=null,K.prototype.o.call(this)},D(Tf.prototype,{i:bf,w:$v,M:zv,H:C2,u:A2,U:pn,P:ln,B:Cn});function Sf(o,l,d,p,v){K.call(this,YR,{factorId:o,phoneNumber:d||null,G:!!p},v,"revertSecondFactorAdditionSuccess"),this.l=l,this.i=p||null}u(Sf,K),Sf.prototype.v=function(){var o=this;Nt(this,Ge(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),K.prototype.v.call(this)},Sf.prototype.o=function(){this.l=this.i=null,K.prototype.o.call(this)},D(Sf.prototype,{u:pn,B:ln,w:Cn});function EB(o,l,d,p,v){var y=d.u();y&&Ce(o,d.I(L(Ve(o).confirmPasswordReset,Ve(o)),[p,y],function(){d.m();var P=new p2(v);P.render(l),Re(o,P)},function(P){P2(o,l,d,P)}))}function P2(o,l,d,p){(p&&p.code)=="auth/weak-password"?(o=nt(p),Bt(d.i(),!1),Sn(d.w(),o),d.i().focus()):(d&&d.m(),d=new m2,d.render(l),Re(o,d))}function IB(o,l,d){var p=new If(d,function(){Ce(o,p.I(L(Ve(o).sendPasswordResetEmail,Ve(o)),[d],function(){p.m(),p=new Vv(d,void 0,Jt(Y(o)),Zt(Y(o))),p.render(l),Re(o,p)},function(){p.a(z().toString())}))});p.render(l),Re(o,p)}function bB(o,l,d,p){var v=new Sf(p.factorId,function(){v.I(L(Ve(o).sendPasswordResetEmail,Ve(o)),[d],function(){v.m(),v=new Vv(d,void 0,Jt(Y(o)),Zt(Y(o))),v.render(l),Re(o,v)},function(){v.a(z().toString())})},p.phoneNumber);v.render(l),Re(o,v)}Xe.passwordReset=function(o,l,d,p){Ce(o,Ve(o).verifyPasswordResetCode(d).then(function(v){var y=new Tf(v,function(){EB(o,l,y,d,p)});y.render(l),Re(o,y)},function(){P2(o,l)}))},Xe.emailChangeRevocation=function(o,l,d){var p=null;Ce(o,Ve(o).checkActionCode(d).then(function(v){return p=v.data.email,Ve(o).applyActionCode(d)}).then(function(){IB(o,l,p)},function(){var v=new g2;v.render(l),Re(o,v)}))},Xe.emailVerification=function(o,l,d,p){Ce(o,Ve(o).applyActionCode(d).then(function(){var v=new l2(p);v.render(l),Re(o,v)},function(){var v=new u2;v.render(l),Re(o,v)}))},Xe.revertSecondFactorAddition=function(o,l,d){var p=null,v=null;Ce(o,Ve(o).checkActionCode(d).then(function(y){return p=y.data.email,v=y.data.multiFactorInfo,Ve(o).applyActionCode(d)}).then(function(){bB(o,l,p,v)},function(){var y=new h2;y.render(l),Re(o,y)}))},Xe.verifyAndChangeEmail=function(o,l,d,p){var v=null;Ce(o,Ve(o).checkActionCode(d).then(function(y){return v=y.data.email,Ve(o).applyActionCode(d)}).then(function(){var y=new c2(v,p);y.render(l),Re(o,y)},function(){var y=new d2;y.render(l),Re(o,y)}))};function Gv(o,l){try{var d=typeof o.selectionStart=="number"}catch{d=!1}d?(o.selectionStart=l,o.selectionEnd=l):It&&!nr("9")&&(o.type=="textarea"&&(l=o.value.substring(0,l).replace(/(\r\n|\r|\n)/g,`
`).length),o=o.createTextRange(),o.collapse(!0),o.move("character",l),o.select())}function Cf(o,l,d,p,v,y){K.call(this,xR,{email:d},y,"emailLinkSignInConfirmation",{F:p,D:v}),this.l=o,this.u=l}u(Cf,K),Cf.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Gv(this.i(),(this.i().value||"").length),K.prototype.v.call(this)},Cf.prototype.o=function(){this.u=this.l=null,K.prototype.o.call(this)},D(Cf.prototype,{i:qs,M:Ho,w:Nc,H:Dc,j:Oc,U:pn,P:ln,B:Cn}),Xe.emailLinkConfirmation=function(o,l,d,p,v,y){var P=new Cf(function(){var M=P.j();M?(P.m(),p(o,l,M,d)):P.i().focus()},function(){P.m(),lt(o,l,v||void 0)},v||void 0,Jt(Y(o)),Zt(Y(o)));P.render(l),Re(o,P),y&&P.a(y)};function Af(o,l,d,p,v){K.call(this,MR,{ga:o},v,"emailLinkSignInLinkingDifferentDevice",{F:d,D:p}),this.i=l}u(Af,K),Af.prototype.v=function(){this.u(this.i),this.l().focus(),K.prototype.v.call(this)},Af.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Af.prototype,{l:pn,u:Cn}),Xe.emailLinkNewDeviceLinking=function(o,l,d,p){var v=new Kn(d);if(d=v.a.a.get(Rt.PROVIDER_ID)||null,Gu(v,null),d){var y=new Af(of(Y(o),d),function(){y.m(),p(o,l,v.toString())},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y)}else lt(o,l)};function qv(o){K.call(this,PR,void 0,o,"blank")}u(qv,K);function aE(o,l,d,p,v){var y=new qv,P=new Kn(d),M=P.a.a.get(Rt.$a)||"",G=P.a.a.get(Rt.Sa)||"",J=P.a.a.get(Rt.Qa)==="1",pe=$u(P),et=P.a.a.get(Rt.PROVIDER_ID)||null;P=P.a.a.get(Rt.vb)||null,j2(o,P);var Ri=!mc(pc,be(o)),W2=p||$U(G,be(o)),Bf=(p=GU(G,be(o)))&&p.a;et&&Bf&&Bf.providerId!==et&&(Bf=null),y.render(l),Re(o,y),Ce(o,y.I(function(){var ii=Ut(null);ii=pe&&Ri||Ri&&J?oc(Error("anonymous-user-not-found")):jB(o,d).then(function(yE){if(et&&!Bf)throw Error("pending-credential-not-found");return yE});var jf=null;return ii.then(function(yE){return jf=yE,v?null:Ve(o).checkActionCode(M)}).then(function(){return jf})},[],function(ii){W2?SB(o,y,W2,d,Bf,ii):J?(y.m(),he("differentDeviceError",o,l)):(y.m(),he("emailLinkConfirmation",o,l,d,k2))},function(ii){var jf=void 0;if(!ii||!ii.name||ii.name!="cancel")switch(y.m(),ii&&ii.message){case"anonymous-user-not-found":he("differentDeviceError",o,l);break;case"anonymous-user-mismatch":he("anonymousUserMismatch",o,l);break;case"pending-credential-not-found":he("emailLinkNewDeviceLinking",o,l,d,TB);break;default:ii&&(jf=nt(ii)),lt(o,l,void 0,jf)}}))}function k2(o,l,d,p){aE(o,l,p,d,!0)}function TB(o,l,d){aE(o,l,d)}function SB(o,l,d,p,v,y){var P=Tt(l);l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Me("Signing in...").toString());var M=null;v=(y?zB(o,y,d,p,v):$B(o,d,p,v)).then(function(G){wr(rf,be(o)),wr(pc,be(o)),l.h(),l.$("firebaseui-icon-done",Me("Signed in!").toString()),M=setTimeout(function(){l.h(),Ws(o,l,G,!0)},1e3),Ce(o,function(){l&&(l.h(),l.m()),clearTimeout(M)})},function(G){if(l.h(),l.m(),!G.name||G.name!="cancel"){G=vf(G);var J=nt(G);G.code=="auth/email-already-in-use"||G.code=="auth/credential-already-in-use"?(wr(rf,be(o)),wr(pc,be(o))):G.code=="auth/invalid-email"?(J=Me("The email provided does not match the current sign-in session.").toString(),he("emailLinkConfirmation",o,P,p,k2,null,J)):lt(o,P,d,J)}}),Ce(o,v)}Xe.emailLinkSignInCallback=aE;function Pf(o,l,d,p,v,y){K.call(this,LR,{email:o,ga:l},y,"emailLinkSignInLinking",{F:p,D:v}),this.i=d}u(Pf,K),Pf.prototype.v=function(){this.u(this.i),this.l().focus(),K.prototype.v.call(this)},Pf.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Pf.prototype,{l:pn,u:Cn});function CB(o,l,d,p){var v=Tt(l);iE(o,l,d,function(){lt(o,v,d)},function(y){if(!y.name||y.name!="cancel"){var P=nt(y);y&&y.code=="auth/network-request-failed"?l.a(P):(l.m(),lt(o,v,d,P))}},p)}Xe.emailLinkSignInLinking=function(o,l,d){var p=is(be(o));if(ss(be(o)),p){var v=p.a.providerId,y=new Pf(d,of(Y(o),v),function(){CB(o,y,d,p)},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y)}else lt(o,l)};function kf(o,l,d,p,v,y){K.call(this,kR,{email:o},y,"emailLinkSignInSent",{F:p,D:v}),this.u=l,this.i=d}u(kf,K),kf.prototype.v=function(){var o=this;Nt(this,this.l(),function(){o.i()}),Nt(this,Ge(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),K.prototype.v.call(this)},kf.prototype.o=function(){this.i=this.u=null,K.prototype.o.call(this)},D(kf.prototype,{l:ln}),Xe.emailLinkSignInSent=function(o,l,d,p,v){var y=new kf(d,function(){y.m(),he("emailNotReceived",o,l,d,p,v)},function(){y.m(),p()},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y)};function Rf(o,l,d,p,v,y,P){K.call(this,ZR,{jc:o,Qb:l},P,"emailMismatch",{F:v,D:y}),this.l=d,this.i=p}u(Rf,K),Rf.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),K.prototype.v.call(this)},Rf.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Rf.prototype,{u:pn,B:ln,w:Cn}),Xe.emailMismatch=function(o,l,d){var p=is(be(o));if(p){var v=new Rf(d.user.email,p.g,function(){var y=v;ss(be(o)),Ws(o,y,d)},function(){var y=d.credential.providerId,P=Tt(v);v.m(),p.a?he("federatedLinking",o,P,p.g,y):he("federatedSignIn",o,P,p.g,y)},Jt(Y(o)),Zt(Y(o)));v.render(l),Re(o,v)}else lt(o,l)};function Lc(o,l,d,p,v){K.call(this,RR,void 0,v,"emailNotReceived",{F:d,D:p}),this.l=o,this.i=l}u(Lc,K),Lc.prototype.v=function(){var o=this;Nt(this,this.u(),function(){o.i()}),Nt(this,this.Da(),function(){o.l()}),this.u().focus(),K.prototype.v.call(this)},Lc.prototype.Da=function(){return Ge(this,"firebaseui-id-resend-email-link")},Lc.prototype.o=function(){this.i=this.l=null,K.prototype.o.call(this)},D(Lc.prototype,{u:ln}),Xe.emailNotReceived=function(o,l,d,p,v){var y=new Lc(function(){iE(o,y,d,p,function(P){P=nt(P),y.a(P)},v)},function(){y.m(),lt(o,l,d)},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y)};function Mc(o,l,d,p,v,y){K.call(this,VR,{email:o,ga:l},y,"federatedLinking",{F:p,D:v}),this.i=d}u(Mc,K),Mc.prototype.v=function(){this.u(this.i),this.l().focus(),K.prototype.v.call(this)},Mc.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Mc.prototype,{l:pn,u:Cn}),Xe.federatedLinking=function(o,l,d,p,v){var y=is(be(o));if(y&&y.a){var P=new Mc(d,of(Y(o),p),function(){yf(o,P,p,d)},Jt(Y(o)),Zt(Y(o)));P.render(l),Re(o,P),v&&P.a(v)}else lt(o,l)},Xe.federatedRedirect=function(o,l,d){var p=new qv;p.render(l),Re(o,p),l=yc(Y(o))[0],yf(o,p,l,d)},Xe.federatedSignIn=function(o,l,d,p,v){var y=new Mc(d,of(Y(o),p),function(){yf(o,y,p,d)},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y),v&&y.a(v)};function AB(o,l,d,p){var v=l.u();v?Ce(o,l.I(L(o.Xb,o),[d,v],function(y){return y=y.user.linkWithCredential(p).then(function(P){return Ws(o,l,{user:P.user,credential:p,operationType:P.operationType,additionalUserInfo:P.additionalUserInfo})}),Ce(o,y),y},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/wrong-password":Bt(l.i(),!1),Sn(l.B(),nt(y));break;case"auth/too-many-requests":l.a(nt(y));break;default:Mr("signInWithEmailAndPassword: "+y.message,void 0),l.a(nt(y))}})):l.i().focus()}Xe.passwordLinking=function(o,l,d){var p=is(be(o));ss(be(o));var v=p&&p.a;if(v){var y=new xc(d,function(){AB(o,y,d,v)},function(){y.m(),he("passwordRecovery",o,l,d)},Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y)}else lt(o,l)};function xf(o,l,d,p,v,y){K.call(this,TR,{email:d,Ta:!!l},y,"passwordRecovery",{F:p,D:v}),this.l=o,this.u=l}u(xf,K),xf.prototype.v=function(){this.B(),this.H(this.l,this.u),Tn(this.i())||this.i().focus(),Rc(this,this.i(),this.l),K.prototype.v.call(this)},xf.prototype.o=function(){this.u=this.l=null,K.prototype.o.call(this)},D(xf.prototype,{i:qs,w:Ho,B:Nc,M:Dc,j:Oc,U:pn,P:ln,H:Cn});function PB(o,l){var d=l.j();if(d){var p=Tt(l);Ce(o,l.I(L(Ve(o).sendPasswordResetEmail,Ve(o)),[d],function(){l.m();var v=new Vv(d,function(){v.m(),lt(o,p)},Jt(Y(o)),Zt(Y(o)));v.render(p),Re(o,v)},function(v){Bt(l.i(),!1),Sn(l.w(),nt(v))}))}else l.i().focus()}Xe.passwordRecovery=function(o,l,d,p,v){var y=new xf(function(){PB(o,y)},p?void 0:function(){y.m(),lt(o,l)},d,Jt(Y(o)),Zt(Y(o)));y.render(l),Re(o,y),v&&y.a(v)},Xe.passwordSignIn=function(o,l,d,p){var v=new gf(function(){vB(o,v)},function(){var y=v.M();v.m(),he("passwordRecovery",o,l,y)},d,Jt(Y(o)),Zt(Y(o)),p);v.render(l),Re(o,v)};function lE(){return Ge(this,"firebaseui-id-name")}function uE(){return Ge(this,"firebaseui-id-name-error")}function Nf(o,l,d,p,v,y,P,M,G){K.call(this,bR,{email:p,Tb:o,name:v,Ta:!!d,ia:!!M},G,"passwordSignUp",{F:y,D:P}),this.w=l,this.H=d,this.B=o}u(Nf,K),Nf.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(mf(this,this.i(),this.u()),mf(this,this.u(),this.l())):mf(this,this.i(),this.l()),this.w&&Rc(this,this.l(),this.w),Tn(this.i())?this.B&&!Tn(this.u())?this.u().focus():this.l().focus():this.i().focus(),K.prototype.v.call(this)},Nf.prototype.o=function(){this.H=this.w=null,K.prototype.o.call(this)},D(Nf.prototype,{i:qs,U:Ho,ea:Nc,jb:Dc,j:Oc,u:lE,Bc:uE,Ja:function(){var o=lE.call(this),l=uE.call(this);Cc(this,o,function(){Ac(l)&&(Bt(o,!0),Fr(l))})},M:function(){var o=lE.call(this),l=uE.call(this),d=Tn(o);return d=!/^[\s\xa0]*$/.test(d==null?"":String(d)),Bt(o,d),d?(Fr(l),l=!0):(Sn(l,Me("Enter your account name").toString()),l=!1),l?Vn(Tn(o)):null},l:bf,ba:$v,lb:zv,ua:C2,P:A2,Nb:pn,Mb:ln,pa:Cn});function kB(o,l){var d=Uk(Y(o)),p=l.j(),v=null;d&&(v=l.M());var y=l.P();if(p){if(d)if(v)v=Yi(v);else{l.u().focus();return}if(y){var P=me.auth.EmailAuthProvider.credential(p,y);Ce(o,l.I(L(o.Yb,o),[p,y],function(M){var G={user:M.user,credential:P,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo};return d?(M=M.user.updateProfile({displayName:v}).then(function(){return Ws(o,l,G)}),Ce(o,M),M):Ws(o,l,G)},function(M){if(!M.name||M.name!="cancel"){var G=vf(M);switch(M=nt(G),G.code){case"auth/email-already-in-use":return RB(o,l,p,G);case"auth/too-many-requests":M=Me("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Bt(l.l(),!1),Sn(l.ba(),M);break;case"auth/admin-restricted-operation":wl(Y(o))?(M=Tt(l),l.m(),he("handleUnauthorizedUser",o,M,p,me.auth.EmailAuthProvider.PROVIDER_ID)):l.a(M);break;default:G="setAccountInfo: "+mk(G),Mr(G,void 0),l.a(M)}}}))}else l.l().focus()}else l.i().focus()}function RB(o,l,d,p){function v(){var P=nt(p);Bt(l.i(),!1),Sn(l.U(),P),l.i().focus()}var y=Ve(o).fetchSignInMethodsForEmail(d).then(function(P){P.length?v():(P=Tt(l),l.m(),he("passwordRecovery",o,P,d,!1,re().toString()))},function(){v()});return Ce(o,y),y}Xe.passwordSignUp=function(o,l,d,p,v,y){function P(){M.m(),lt(o,l)}var M=new Nf(Uk(Y(o)),function(){kB(o,M)},v?void 0:P,d,p,Jt(Y(o)),Zt(Y(o)),y);M.render(l),Re(o,M)};function cE(){return Ge(this,"firebaseui-id-phone-confirmation-code")}function R2(){return Ge(this,"firebaseui-id-phone-confirmation-code-error")}function x2(){return Ge(this,"firebaseui-id-resend-countdown")}function Vc(o,l,d,p,v,y,P,M,G){K.call(this,n2,{phoneNumber:v},G,"phoneSignInFinish",{F:P,D:M}),this.jb=y,this.i=new kv(1e3),this.B=y,this.P=o,this.l=l,this.H=d,this.M=p}u(Vc,K),Vc.prototype.v=function(){var o=this;this.U(this.jb),Ci(this.i,"tick",this.w,!1,this),this.i.start(),Nt(this,Ge(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),Nt(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),K.prototype.v.call(this)},Vc.prototype.o=function(){this.M=this.H=this.l=this.P=null,Rv(this.i),pl(this.i,"tick",this.w),this.i=null,K.prototype.o.call(this)},Vc.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Rv(this.i),pl(this.i,"tick",this.w),this.ua(),this.lb())},D(Vc.prototype,{u:cE,pa:R2,Ja:function(o){var l=cE.call(this),d=R2.call(this);Cc(this,l,function(){Ac(d)&&(Bt(l,!0),Fr(d))}),o&&pf(this,l,function(){o()})},ba:function(){var o=Vn(Tn(cE.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:x2,U:function(o){Ju(x2.call(this),Me("Resend code in "+((9<o?"0:":"0:0")+o)).toString())},ua:function(){Fr(this.Fb())},Da:function(){return Ge(this,"firebaseui-id-resend-link")},lb:function(){Sn(this.Da())},Nb:pn,Mb:ln,ea:Cn});function xB(o,l,d,p){function v(P){l.u().focus(),Bt(l.u(),!1),Sn(l.pa(),P)}var y=l.ba();y?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Me("Verifying...").toString()),Ce(o,l.I(L(p.confirm,p),[y],function(P){l.h(),l.$("firebaseui-icon-done",Me("Verified!").toString());var M=setTimeout(function(){l.h(),l.m();var G={user:Pi(o).currentUser,credential:null,operationType:P.operationType,additionalUserInfo:P.additionalUserInfo};Ws(o,l,G,!0)},1e3);Ce(o,function(){l&&l.h(),clearTimeout(M)})},function(P){if(P.name&&P.name=="cancel")l.h();else{var M=vf(P);switch(P=nt(M),M.code){case"auth/credential-already-in-use":l.h();break;case"auth/code-expired":M=Tt(l),l.h(),l.m(),he("phoneSignInStart",o,M,d,P);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":l.h(),v(P);break;default:l.h(),l.a(P)}}}))):v(Me("Wrong code. Try again.").toString())}Xe.phoneSignInFinish=function(o,l,d,p,v,y){var P=new Vc(function(){P.m(),he("phoneSignInStart",o,l,d)},function(){xB(o,P,d,v)},function(){P.m(),lt(o,l)},function(){P.m(),he("phoneSignInStart",o,l,d)},B1(d),p,Jt(Y(o)),Zt(Y(o)));P.render(l),Re(o,P),y&&P.a(y)};var NB=!It&&!(ke("Safari")&&!(qu()||ke("Coast")||ke("Opera")||ke("Edge")||ke("Firefox")||ke("FxiOS")||ke("Silk")||ke("Android")));function Wv(o,l){return/-[a-z]/.test(l)?null:NB&&o.dataset?!ke("Android")||qu()||ke("Firefox")||ke("FxiOS")||ke("Opera")||ke("Silk")||l in o.dataset?(o=o.dataset[l],o===void 0?null:o):null:o.getAttribute("data-"+String(l).replace(/([A-Z])/g,"-$1").toLowerCase())}function DB(o,l,d){var p=this;o=js(mR,{items:o},null,this.s),vR.call(this,o,!0,!0),d&&(d=OB(o,d))&&(d.focus(),aB(d,o)),Nt(this,o,function(v){(v=(v=zh(v.target,"firebaseui-id-list-box-dialog-button"))&&Wv(v,"listboxid"))&&(Ov.call(p),l(v))})}function OB(o,l){o=(o||document).getElementsByTagName("BUTTON");for(var d=0;d<o.length;d++)if(Wv(o[d],"listboxid")===l)return o[d];return null}function Il(){return Ge(this,"firebaseui-id-phone-number")}function N2(){return Ge(this,"firebaseui-id-country-selector")}function dE(){return Ge(this,"firebaseui-id-phone-number-error")}function LB(o,l){var d=o.a,p=hE("1-US-0",d),v=null;if(l&&hE(l,d)?v=l:p?v="1-US-0":v=0<d.length?d[0].c:null,!v)throw Error("No available default country");Hv.call(this,v,o)}function hE(o,l){return o=_l(o),!(!o||!Ft(l,o))}function MB(o){return o.map(function(l){return{id:l.c,Ma:"firebaseui-flag "+fE(l),label:l.name+" "+("+"+l.b)}})}function fE(o){return"firebaseui-flag-"+o.f}function VB(o){var l=this;DB.call(this,MB(o.a),function(d){Hv.call(l,d,o,!0),l.O().focus()},this.Ba)}function Hv(o,l,d){var p=_l(o);p&&(d&&(d=Vn(Tn(Il.call(this))||""),l=Tv(l,d),l.length&&l[0].b!=p.b&&(d="+"+p.b+d.substr(l[0].b.length+1),qk(Il.call(this),d))),l=_l(this.Ba),this.Ba=o,o=Ge(this,"firebaseui-id-country-selector-flag"),l&&as(o,fE(l)),os(o,fE(p)),Ju(Ge(this,"firebaseui-id-country-selector-code"),"+"+p.b))}function Df(o,l,d,p,v,y,P,M,G,J){K.call(this,t2,{Gb:l,Aa:G||null,Va:!!d,ia:!!y},J,"phoneSignInStart",{F:p,D:v}),this.H=M||null,this.M=l,this.l=o,this.w=d||null,this.pa=P||null}u(Df,K),Df.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||mf(this,this.O(),this.i()),Rc(this,this.i(),this.l),this.O().focus(),Gv(this.O(),(this.O().value||"").length),K.prototype.v.call(this)},Df.prototype.o=function(){this.w=this.l=null,K.prototype.o.call(this)},D(Df.prototype,{Cb:nE,O:Il,B:dE,ea:function(o,l,d){var p=this,v=Il.call(this),y=N2.call(this),P=dE.call(this),M=o||sf,G=M.a;if(G.length==0)throw Error("No available countries provided.");LB.call(p,M,l),Nt(this,y,function(){VB.call(p,M)}),Cc(this,v,function(){Ac(P)&&(Bt(v,!0),Fr(P));var J=Vn(Tn(v)||""),pe=_l(this.Ba),et=Tv(M,J);J=hE("1-US-0",G),et.length&&et[0].b!=pe.b&&(pe=et[0],Hv.call(p,pe.b=="1"&&J?"1-US-0":pe.c,M))}),d&&pf(this,v,function(){d()})},U:function(o){var l=Vn(Tn(Il.call(this))||"");o=o||sf;var d=o.a,p=Tv(sf,l);if(p.length&&!Ft(d,p[0]))throw qk(Il.call(this)),Il.call(this).focus(),Sn(dE.call(this),Me("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return d=_l(this.Ba),p.length&&p[0].b!=d.b&&Hv.call(this,p[0].c,o),p.length&&(l=l.substr(p[0].b.length+1)),l?new kk(this.Ba,l):null},Ja:N2,ba:function(){return Ge(this,"firebaseui-recaptcha-container")},u:function(){return Ge(this,"firebaseui-id-recaptcha-error")},i:pn,ua:ln,P:Cn});function D2(o,l,d,p){try{var v=l.U(K1)}catch{return}v?lf?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Me("Verifying...").toString()),Ce(o,l.I(L(o.cc,o),[B1(v),d],function(y){var P=Tt(l);l.$("firebaseui-icon-done",Me("Code sent!").toString());var M=setTimeout(function(){l.h(),l.m(),he("phoneSignInFinish",o,P,v,15,y)},1e3);Ce(o,function(){l&&l.h(),clearTimeout(M)})},function(y){if(l.h(),!y.name||y.name!="cancel"){grecaptcha.reset($k),lf=null;var P=y&&y.message||"";if(y.code)switch(y.code){case"auth/too-many-requests":P=Me("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":l.O().focus(),Sn(l.B(),x().toString());return;case"auth/admin-restricted-operation":if(wl(Y(o))){y=Tt(l),l.m(),he("handleUnauthorizedUser",o,y,B1(v),me.auth.PhoneAuthProvider.PROVIDER_ID);return}P=nt(y);break;default:P=nt(y)}l.a(P)}}))):wc?Sn(l.u(),Me("Solve the reCAPTCHA").toString()):!wc&&p&&l.i().click():(l.O().focus(),Sn(l.B(),x().toString()))}Xe.phoneSignInStart=function(o,l,d,p){var v=HU(Y(o))||{};lf=null,wc=!(v&&v.size==="invisible");var y=w2(o),P=ZU(Y(o)),M=y?JU(Y(o)):null;P=d&&d.a||P&&P.c||null,d=d&&d.Aa||M,(M=j1(Y(o)))&&Pk(M),K1=M?new Sk(j1(Y(o))):sf;var G=new Df(function(pe){D2(o,G,J,!(!pe||!pe.keyCode))},wc,y?null:function(){J.clear(),G.m(),lt(o,l)},Jt(Y(o)),Zt(Y(o)),y,K1,P,d);G.render(l),Re(o,G),p&&G.a(p),v.callback=function(pe){G.u()&&Fr(G.u()),lf=pe,wc||D2(o,G,J)},v["expired-callback"]=function(){lf=null};var J=new me.auth.RecaptchaVerifier(wc?G.ba():G.i(),v,Pi(o).app);Ce(o,G.I(L(J.render,J),[],function(pe){$k=pe},function(pe){pe.name&&pe.name=="cancel"||(pe=nt(pe),G.m(),lt(o,l,void 0,pe))}))},Xe.prefilledEmailSignIn=function(o,l,d){var p=new qv;p.render(l),Re(o,p),Ce(o,p.I(L(Ve(o).fetchSignInMethodsForEmail,Ve(o)),[d],function(v){p.m();var y=!(!Uv(o)||!M2(o));I2(o,l,v,d,void 0,y)},function(v){v=nt(v),p.m(),he("signIn",o,l,d,v)}))};function Of(o,l,d,p,v){K.call(this,e2,{Sb:l},v,"providerSignIn",{F:d,D:p}),this.i=o}u(Of,K),Of.prototype.v=function(){this.l(this.i),K.prototype.v.call(this)},Of.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Of.prototype,{l:function(o){function l(P){o(P)}for(var d=this.g?Fs("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<d.length;p++){var v=d[p],y=Wv(v,"providerId");Nt(this,v,U(l,y))}}}),Xe.providerSignIn=function(o,l,d,p){var v=new Of(function(y){y==me.auth.EmailAuthProvider.PROVIDER_ID?(v.m(),sE(o,l,p)):y==me.auth.PhoneAuthProvider.PROVIDER_ID?(v.m(),he("phoneSignInStart",o,l)):y=="anonymous"?mB(o,v):yf(o,v,y,p),qe(o),o.l.cancel()},Dk(Y(o)),Jt(Y(o)),Zt(Y(o)));v.render(l),Re(o,v),d&&v.a(d),BB(o)},Xe.sendEmailLinkForSignIn=function(o,l,d,p){var v=new Bv;v.render(l),Re(o,v),iE(o,v,d,p,function(y){v.m(),y&&y.code=="auth/admin-restricted-operation"&&wl(Y(o))?he("handleUnauthorizedUser",o,l,d,me.auth.EmailAuthProvider.PROVIDER_ID):(y=nt(y),he("signIn",o,l,d,y))})};function Lf(o,l,d,p,v,y,P){K.call(this,ER,{email:d,Va:!!l,ia:!!y},P,"signIn",{F:p,D:v}),this.i=o,this.u=l}u(Lf,K),Lf.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Gv(this.l(),(this.l().value||"").length),K.prototype.v.call(this)},Lf.prototype.o=function(){this.u=this.i=null,K.prototype.o.call(this)},D(Lf.prototype,{l:qs,M:Ho,w:Nc,H:Dc,j:Oc,U:pn,P:ln,B:Cn}),Xe.signIn=function(o,l,d,p){var v=Uv(o),y=new Lf(function(){var P=y,M=P.j()||"";M&&E2(o,P,M)},v?null:function(){y.m(),lt(o,l,d)},d,Jt(Y(o)),Zt(Y(o)),v);y.render(l),Re(o,y),p&&y.a(p)};function Mf(o,l,d,p,v,y,P){K.call(this,FR,{kc:o,yb:d,Eb:!!p},P,"unauthorizedUser",{F:v,D:y}),this.l=l,this.i=p}u(Mf,K),Mf.prototype.v=function(){var o=this,l=Ge(this,"firebaseui-id-unauthorized-user-help-link");this.i&&l&&Nt(this,l,function(){o.i()}),Nt(this,this.u(),function(){o.l()}),this.u().focus(),K.prototype.v.call(this)},Mf.prototype.o=function(){this.i=this.l=null,K.prototype.o.call(this)},D(Mf.prototype,{u:ln}),Xe.handleUnauthorizedUser=function(o,l,d,p){function v(){lt(o,l)}p===me.auth.EmailAuthProvider.PROVIDER_ID?v=function(){sE(o,l)}:p===me.auth.PhoneAuthProvider.PROVIDER_ID&&(v=function(){he("phoneSignInStart",o,l)});var y=null,P=null;p===me.auth.EmailAuthProvider.PROVIDER_ID&&Lk(Y(o))?(y=QU(Y(o)),P=XU(Y(o))):wl(Y(o))&&(y=KU(Y(o)),P=YU(Y(o)));var M=new Mf(d,function(){M.m(),v()},y,P,Jt(Y(o)),Zt(Y(o)));M.render(l),Re(o,M)};function Vf(o,l,d,p,v,y){K.call(this,UR,{email:o},y,"unsupportedProvider",{F:p,D:v}),this.l=l,this.i=d}u(Vf,K),Vf.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),K.prototype.v.call(this)},Vf.prototype.o=function(){this.i=this.l=null,K.prototype.o.call(this)},D(Vf.prototype,{u:pn,B:ln,w:Cn}),Xe.unsupportedProvider=function(o,l,d){var p=new Vf(d,function(){p.m(),he("passwordRecovery",o,l,d)},function(){p.m(),lt(o,l,d)},Jt(Y(o)),Zt(Y(o)));p.render(l),Re(o,p)};function ls(o,l){this.$=!1;var d=pE(l);if(Ff[d])throw Error('An AuthUI instance already exists for the key "'+d+'"');Ff[d]=this,this.a=o,this.u=null,this.Y=!1,O2(this.a),this.h=me.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&(d=o.port,this.h.useEmulator(o.protocol+"://"+o.host+(d===null?"":":"+d),o.options)),O2(this.h),this.h.setPersistence&&this.h.setPersistence(me.auth.Auth.Persistence.SESSION),this.oa=l,this.ca=new WU,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=_1.Xa(),this.j=this.C=null,this.da=this.A=!1}function O2(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}var Ff={};function pE(o){return o||"[DEFAULT]"}function L2(o){return qe(o),o.i||(o.i=Hs(o,function(l){return l&&!is(be(o))?Ut(Pi(o).getRedirectResult().then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return Yo(o,d)})):Ut(Ve(o).getRedirectResult().then(function(d){return Sv(Y(o))&&!d.user&&o.j&&!o.j.isAnonymous?Pi(o).getRedirectResult():d}))})),o.i}function Re(o,l){qe(o),o.g=l}var Fc=null;function Ve(o){return qe(o),o.h}function Pi(o){return qe(o),o.a}function be(o){return qe(o),o.oa}function M2(o){return qe(o),o.O?o.O.emailHint:void 0}t=ls.prototype,t.nb=function(){return qe(this),!!L1(be(this))||V2(Gs())};function V2(o){return o=new Kn(o),(o.a.a.get(Rt.ub)||null)==="signIn"&&!!o.a.a.get(Rt.$a)}t.start=function(o,l){F2(this,o,l)};function F2(o,l,d,p){qe(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var v="en".replace(/_/g,"-");o.a.languageCode=v,o.h.languageCode=v,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(d),o.O=p||null;var y=g.document;o.C?o.C.then(function(){y.readyState=="complete"?Kv(o,l):Kh(window,"load",function(){Kv(o,l)})}):y.readyState=="complete"?Kv(o,l):Kh(window,"load",function(){Kv(o,l)})}function Kv(o,l){var d=rv(l,"Could not find the FirebaseUI widget element on the page.");if(d.setAttribute("lang","en".replace(/_/g,"-")),Fc){var p=Fc;qe(p),is(be(p))&&qo("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Fc.reset()}if(Fc=o,o.T=d,UB(o,d),bv(new x1)&&bv(new N1)){l=rv(l,"Could not find the FirebaseUI widget element on the page."),d=Gs(),p=F1(Y(o).a,"queryParameterForSignInSuccessUrl"),d=(d=Xi(d,p))?es(Qu(d)).toString():null;e:{p=Gs();var v=Fk(Y(o));p=Xi(p,v)||"";for(y in H1)if(H1[y].toLowerCase()==p.toLowerCase()){var y=H1[y];break e}y="callback"}switch(y){case"callback":d&&(y=be(o),gc(nf,d,y)),o.nb()?he("callback",o,l):lt(o,l,M2(o));break;case"resetPassword":he("passwordReset",o,l,_f(),oE());break;case"recoverEmail":he("emailChangeRevocation",o,l,_f());break;case"revertSecondFactorAddition":he("revertSecondFactorAddition",o,l,_f());break;case"verifyEmail":he("emailVerification",o,l,_f(),oE());break;case"verifyAndChangeEmail":he("verifyAndChangeEmail",o,l,_f(),oE());break;case"signIn":he("emailLinkSignInCallback",o,l,Gs()),z2();break;case"select":d&&(y=be(o),gc(nf,d,y)),lt(o,l);break;default:throw Error("Unhandled widget operation.")}l=Y(o),(l=af(l).uiShown||null)&&l()}else l=rv(l,"Could not find the FirebaseUI widget element on the page."),y=new y2(Me("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),y.render(l),Re(o,y);l=o.g&&o.g.Ga=="blank"&&z1(Y(o)),L1(be(o))&&!l&&(l=L1(be(o)),j2(o,l.a),wr(yl,be(o)))}function Hs(o,l){if(o.A)return l(U2(o));if(Ce(o,function(){o.A=!1}),Sv(Y(o))){var d=new an(function(p){Ce(o,o.a.onAuthStateChanged(function(v){o.j=v,o.A||(o.A=!0,p(l(U2(o))))}))});return Ce(o,d),d}return o.A=!0,l(null)}function U2(o){return qe(o),Sv(Y(o))&&o.j&&o.j.isAnonymous?o.j:null}function Ce(o,l){if(qe(o),l){o.s.push(l);var d=function(){Vu(o.s,function(p){return p==l})};typeof l!="function"&&l.then(d,d)}}t.Db=function(){qe(this),this.Z=!0};function FB(o){qe(o);var l;return(l=o.Z)||(o=Y(o),o=Vk(o,me.auth.GoogleAuthProvider.PROVIDER_ID),l=!(!o||o.prompt!=="select_account")),l}function B2(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function j2(o,l){o.a.tenantId=l,o.h.tenantId=l}t.reset=function(){qe(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&_U(this.J),B2(this),this.O=null,z2(),wr(yl,be(this)),qe(this),this.l.cancel(),this.i=Ut({user:null,credential:null}),Fc==this&&(Fc=null),this.T=null;for(var l=0;l<this.s.length;l++)typeof this.s[l]=="function"?this.s[l]():this.s[l].cancel&&this.s[l].cancel();this.s=[],ss(be(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ko(this).then(function(){o.C=null},function(){o.C=null}))};function UB(o,l){o.L=null,o.J=new tv(l),o.J.register(),Ci(o.J,"pageEnter",function(d){if(d=d&&d.pageId,o.L!=d){var p=Y(o);(p=af(p).uiChanged||null)&&p(o.L,d),o.L=d}})}t.ib=function(o){qe(this);var l=this.ca,d;for(d in o)try{V1(l.a,d,o[d])}catch{Mr('Invalid config: "'+d+'"',void 0)}Lh&&V1(l.a,"popupMode",!1),j1(l),!this.da&&$1(Y(this))&&(qo("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function Y(o){return qe(o),o.ca}t.Wb=function(){qe(this);var o=Y(this),l=F1(o.a,"widgetUrl");o=Fk(o);for(var d=l.search(xh),p=0,v,y=[];0<=(v=Rh(l,p,o,d));)y.push(l.substring(p,v)),p=Math.min(l.indexOf("&",v)+1||d,d);y.push(l.substr(p)),l=y.join("").replace(Nh,"$1"),d="="+encodeURIComponent("select"),(o+=d)?(d=l.indexOf("#"),0>d&&(d=l.length),p=l.indexOf("?"),0>p||p>d?(p=d,v=""):v=l.substring(p+1,d),l=[l.substr(0,p),v,l.substr(d)],d=l[1],l[1]=o?d?d+"&"+o:o:d,d=l[0]+(l[1]?"?"+l[1]:"")+l[2]):d=l,Y(this).a.get("popupMode")?(o=(window.screen.availHeight-600)/2,l=(window.screen.availWidth-500)/2,d=d||"about:blank",o={width:500,height:600,top:0<o?o:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},o.target=o.target||d.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=UP(d,o))&&o.focus()):Mo(window.location,d)};function qe(o){if(o.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var o=this;return qe(this),this.h.app.delete().then(function(){var l=pE(be(o));delete Ff[l],o.reset(),o.$=!0})};function BB(o){qe(o);try{qP(o.l,Ok(Y(o)),FB(o)).then(function(l){return o.g?gB(o,o.g,l):!1})}catch{}}t.Ib=function(o,l){qe(this);var d=this,p=CU();if(!_c(Y(this)))return oc(Error("Email link sign-in should be enabled to trigger email sending."));var v=tB(Y(this)),y=new Kn(v.url);return Fg(y,p),l&&l.a&&(qU(p,l,be(this)),Gu(y,l.a.providerId)),Ug(y,eB(Y(this))),Hs(this,function(P){return P&&((P=P.uid)?y.a.a.set(Rt.Pa,P):Ds(y.a.a,Rt.Pa)),v.url=y.toString(),Ve(d).sendSignInLinkToEmail(o,v)}).then(function(){var P=be(d),M={};M.email=o,gc(pc,hk(p,JSON.stringify(M)),P)},function(P){throw wr(rf,be(d)),wr(pc,be(d)),P})};function jB(o,l){var d=$u(new Kn(l));return d?(l=new an(function(p,v){var y=Pi(o).onAuthStateChanged(function(P){y(),P&&P.isAnonymous&&P.uid===d?p(P):P&&P.isAnonymous&&P.uid!==d?v(Error("anonymous-user-mismatch")):v(Error("anonymous-user-not-found"))});Ce(o,y)}),Ce(o,l),l):Ut(null)}function zB(o,l,d,p,v){qe(o);var y=v||null,P=me.auth.EmailAuthProvider.credentialWithLink(d,p);return d=y?Ve(o).signInWithEmailLink(d,p).then(function(M){return M.user.linkWithCredential(y)}).then(function(){return Ko(o)}).then(function(){return Yo(o,{code:"auth/email-already-in-use"},y)}):Ve(o).fetchSignInMethodsForEmail(d).then(function(M){return M.length?Yo(o,{code:"auth/email-already-in-use"},P):l.linkWithCredential(P)}),Ce(o,d),d}function $B(o,l,d,p){qe(o);var v=p||null,y;return l=Ve(o).signInWithEmailLink(l,d).then(function(P){if(y={user:P.user,credential:null,operationType:P.operationType,additionalUserInfo:P.additionalUserInfo},v)return P.user.linkWithCredential(v).then(function(M){y={user:M.user,credential:v,operationType:y.operationType,additionalUserInfo:M.additionalUserInfo}})}).then(function(){Ko(o)}).then(function(){return Pi(o).updateCurrentUser(y.user)}).then(function(){return y.user=Pi(o).currentUser,y}),Ce(o,l),l}function z2(){var o=Gs();if(V2(o)){o=new Kn(o);for(var l in Rt)Rt.hasOwnProperty(l)&&Ds(o.a.a,Rt[l]);l={state:"signIn",mode:"emailLink",operation:"clear"};var d=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(l,d,o.toString())}}t.bc=function(o,l){qe(this);var d=this;return Ve(this).signInWithEmailAndPassword(o,l).then(function(p){return Hs(d,function(v){return v?Ko(d).then(function(){return Yo(d,{code:"auth/email-already-in-use"},me.auth.EmailAuthProvider.credential(o,l))}):p})})},t.Yb=function(o,l){qe(this);var d=this;return Hs(this,function(p){if(p){var v=me.auth.EmailAuthProvider.credential(o,l);return p.linkWithCredential(v)}return Ve(d).createUserWithEmailAndPassword(o,l)})},t.ac=function(o){qe(this);var l=this;return Hs(this,function(d){return d?d.linkWithCredential(o).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Yo(l,p,o)}):Ve(l).signInWithCredential(o)})};function GB(o,l){return qe(o),Hs(o,function(d){return d&&!is(be(o))?d.linkWithPopup(l).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Yo(o,p)}):Ve(o).signInWithPopup(l)})}t.dc=function(o){qe(this);var l=this,d=this.i;return this.i=null,Hs(this,function(p){return p&&!is(be(l))?p.linkWithRedirect(o):Ve(l).signInWithRedirect(o)}).then(function(){},function(p){throw l.i=d,p})},t.cc=function(o,l){qe(this);var d=this;return Hs(this,function(p){return p?p.linkWithPhoneNumber(o,l).then(function(v){return new E1(v,function(y){if(y.code=="auth/credential-already-in-use")return Yo(d,y);throw y})}):Pi(d).signInWithPhoneNumber(o,l).then(function(v){return new E1(v)})})},t.$b=function(){return qe(this),Pi(this).signInAnonymously()};function qB(o,l){return qe(o),Hs(o,function(d){if(o.j&&!o.j.isAnonymous&&Sv(Y(o))&&!Ve(o).currentUser)return Ko(o).then(function(){return l.credential.providerId=="password"&&(l.credential=null),l});if(d)return Ko(o).then(function(){return d.linkWithCredential(l.credential)}).then(function(p){return l.user=p.user,l.credential=p.credential,l.operationType=p.operationType,l.additionalUserInfo=p.additionalUserInfo,l},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Yo(o,p,l.credential)});if(!l.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ko(o).then(function(){return Pi(o).updateCurrentUser(l.user)}).then(function(){return l.user=Pi(o).currentUser,l.operationType="signIn",l.credential&&l.credential.providerId&&l.credential.providerId=="password"&&(l.credential=null),l})})}t.Xb=function(o,l){return qe(this),Ve(this).signInWithEmailAndPassword(o,l)};function Ko(o){return qe(o),Ve(o).signOut()}function Yo(o,l,d){if(qe(o),l&&l.code&&(l.code=="auth/email-already-in-use"||l.code=="auth/credential-already-in-use")){var p=zk(Y(o));return Ut().then(function(){return p(new Ne("anonymous-upgrade-merge-conflict",null,d||l.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),l})}return oc(l)}function Uf(o,l,d,p){K.call(this,s2,void 0,p,"providerMatchByEmail",{F:l,D:d}),this.i=o}u(Uf,K),Uf.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Gv(this.l(),(this.l().value||"").length),K.prototype.v.call(this)},Uf.prototype.o=function(){this.i=null,K.prototype.o.call(this)},D(Uf.prototype,{l:qs,H:Ho,u:Nc,B:Dc,j:Oc,M:pn,w:Cn});function Yv(o,l,d,p,v){K.call(this,i2,{ec:l},v,"selectTenant",{F:d,D:p}),this.i=o}u(Yv,K),Yv.prototype.v=function(){WB(this,this.i),K.prototype.v.call(this)},Yv.prototype.o=function(){this.i=null,K.prototype.o.call(this)};function WB(o,l){function d(M){l(M)}for(var p=o.g?Fs("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],v=0;v<p.length;v++){var y=p[v],P=Wv(y,"tenantId");Nt(o,y,U(d,P))}}function mE(o){K.call(this,AR,void 0,o,"spinner")}u(mE,K);function HB(o){this.a=new M1,Xt(this.a,"authDomain"),Xt(this.a,"displayMode",Xv),Xt(this.a,"tenants"),Xt(this.a,"callbacks"),Xt(this.a,"tosUrl"),Xt(this.a,"privacyPolicyUrl");for(var l in o)if(o.hasOwnProperty(l))try{V1(this.a,l,o[l])}catch{Mr('Invalid config: "'+l+'"',void 0)}}function KB(o){o=o.a.get("displayMode");for(var l in vE)if(vE[l]===o)return vE[l];return Xv}function Qv(o){return o.a.get("callbacks")||{}}function $2(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&qo("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){lc(l)}}return null}function G2(o){var l=o.a.get("tosUrl")||null,d=o.a.get("privacyPolicyUrl")||null;if(d&&!l&&qo("Terms of Service URL is missing, the link will not be displayed."),l&&d){if(typeof d=="function")return d;if(typeof d=="string")return function(){lc(d)}}return null}function gE(o,l){if(o=o.a.get("tenants"),!o||!o.hasOwnProperty(l)&&!o.hasOwnProperty(Jv))throw Error("Invalid tenant configuration!")}function q2(o,l,d){if(o=o.a.get("tenants"),!o)throw Error("Invalid tenant configuration!");var p=[];if(o=o[l]||o[Jv],!o)return Mr("Invalid tenant configuration: "+(l+" is not configured!"),void 0),p;if(l=o.signInOptions,!l)throw Error("Invalid tenant configuration: signInOptions are invalid!");return l.forEach(function(v){if(typeof v=="string")p.push(v);else if(typeof v.provider=="string"){var y=v.hd;y&&d?(y instanceof RegExp?y:new RegExp("@"+y.replace(".","\\.")+"$")).test(d)&&p.push(v.provider):p.push(v.provider)}else v="Invalid tenant configuration: signInOption "+(JSON.stringify(v)+" is invalid!"),Mr(v,void 0)}),p}function YB(o,l,d){return o=QB(o,l),(l=o.signInOptions)&&d&&(l=l.filter(function(p){return typeof p=="string"?d.includes(p):d.includes(p.provider)}),o.signInOptions=l),o}function QB(o,l){var d=XB,p=p===void 0?{}:p;return gE(o,l),o=o.a.get("tenants"),AU(o[l]||o[Jv],d,p)}var XB=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Xv="optionFirst",vE={pc:Xv,oc:"identifierFirst"},Jv="*";function ki(o,l){var d=this;this.s=rv(o),this.a={},Object.keys(l).forEach(function(p){d.a[p]=new HB(l[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}t=ki.prototype,t.Ub=function(o,l){var d=this;Qo(this);var p=o.apiKey;return new an(function(v,y){if(d.a.hasOwnProperty(p)){var P=Qv(d.a[p]).selectTenantUiHidden||null;if(KB(d.a[p])===Xv){var M=[];l.forEach(function(pe){pe=pe||"_";var et=d.a[p].a.get("tenants");if(!et)throw Error("Invalid tenant configuration!");(et=et[pe]||et[Jv])?pe={tenantId:pe!=="_"?pe:null,V:et.fullLabel||null,displayName:et.displayName,za:et.iconUrl,ta:et.buttonColor}:(Mr("Invalid tenant configuration: "+(pe+" is not configured!"),void 0),pe=null),pe&&M.push(pe)});var G=function(pe){pe={tenantId:pe,providerIds:q2(d.a[p],pe||"_")},v(pe)};if(M.length===1){G(M[0].tenantId);return}d.g=new Yv(function(pe){Qo(d),P&&P(),G(pe)},M,$2(d.a[p]),G2(d.a[p]))}else d.g=new Uf(function(){var pe=d.g.j();if(pe){for(var et=0;et<l.length;et++){var Ri=q2(d.a[p],l[et]||"_",pe);if(Ri.length!==0){pe={tenantId:l[et],providerIds:Ri,email:pe},Qo(d),P&&P(),v(pe);return}}d.g.a(Je({code:"no-matching-tenant-for-email"}).toString())}},$2(d.a[p]),G2(d.a[p]));d.g.render(d.s),(y=Qv(d.a[p]).selectTenantUiShown||null)&&y()}else{var J=Error("Invalid project configuration: API key is invalid!");J.code="invalid-configuration",d.pb(J),y(J)}})},t.Pb=function(o,l){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var d=l||void 0;gE(this.a[o],l||"_");try{this.i=me.app(d).auth()}catch{var p=this.a[o].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");o=me.initializeApp({apiKey:o,authDomain:p},d),o.auth().tenantId=l,this.i=o.auth()}return this.i},t.Zb=function(o,l){var d=this;return new an(function(p,v){function y(et,Ri){d.j=new ls(o),F2(d.j,d.s,et,Ri)}var P=o.app.options.apiKey;d.a.hasOwnProperty(P)||v(Error("Invalid project configuration: API key is invalid!"));var M=YB(d.a[P],o.tenantId||"_",l&&l.providerIds);Qo(d),v={signInSuccessWithAuthResult:function(et){return p(et),!1}};var G=Qv(d.a[P]).signInUiShown||null,J=!1;v.uiChanged=function(et,Ri){et===null&&Ri==="callback"?((et=Us("firebaseui-id-page-callback",d.s))&&Fr(et),d.h=new mE,d.h.render(d.s)):J||et===null&&Ri==="spinner"||Ri==="blank"||(d.h&&(d.h.m(),d.h=null),J=!0,G&&G(o.tenantId))},M.callbacks=v,M.credentialHelper="none";var pe;l&&l.email&&(pe={emailHint:l.email}),d.j?d.j.Wa().then(function(){y(M,pe)}):y(M,pe)})},t.reset=function(){var o=this;return Ut().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,Qo(o)})},t.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){Qo(o),o.h=new mE,o.g=o.h,o.h.render(o.s),o.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Qo(this),this.g=new f2,this.g.render(this.s),Ut()};function Qo(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}t.pb=function(o){var l=this,d=Je({code:o.code}).toString()||o.message;Qo(this);var p;o.retry&&typeof o.retry=="function"&&(p=function(){l.reset(),o.retry()}),this.g=new v2(d,p),this.g.render(this.s)},t.Rb=function(o){var l=this;return Ut().then(function(){var d=l.i&&l.i.app.options.apiKey;if(!l.a.hasOwnProperty(d))throw Error("Invalid project configuration: API key is invalid!");if(gE(l.a[d],o.tenantId||"_"),!l.i.currentUser||l.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(d=Qv(l.a[d]).beforeSignInSuccess||null)?d(o):o}).then(function(d){if(d.uid!==o.uid)throw Error("User with mismatching UID returned.");return d})},xe("firebaseui.auth.FirebaseUiHandler",ki),xe("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ki.prototype.Ub),xe("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ki.prototype.Pb),xe("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ki.prototype.Zb),xe("firebaseui.auth.FirebaseUiHandler.prototype.reset",ki.prototype.reset),xe("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ki.prototype.Vb),xe("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ki.prototype.mb),xe("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ki.prototype.Bb),xe("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ki.prototype.pb),xe("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ki.prototype.Rb),xe("firebaseui.auth.AuthUI",ls),xe("firebaseui.auth.AuthUI.getInstance",function(o){return o=pE(o),Ff[o]?Ff[o]:null}),xe("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ls.prototype.Db),xe("firebaseui.auth.AuthUI.prototype.start",ls.prototype.start),xe("firebaseui.auth.AuthUI.prototype.setConfig",ls.prototype.ib),xe("firebaseui.auth.AuthUI.prototype.signIn",ls.prototype.Wb),xe("firebaseui.auth.AuthUI.prototype.reset",ls.prototype.reset),xe("firebaseui.auth.AuthUI.prototype.delete",ls.prototype.Wa),xe("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ls.prototype.nb),xe("firebaseui.auth.AuthUIError",Ne),xe("firebaseui.auth.AuthUIError.prototype.toJSON",Ne.prototype.toJSON),xe("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",G1),xe("firebaseui.auth.CredentialHelper.NONE",Av),xe("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),an.prototype.catch=an.prototype.Ca,an.prototype.finally=an.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=$se);var Gse=firebaseui.auth;const qse={callbacks:{uiShown:()=>{const t=document.getElementById("loader");t&&(t.style.display="none")}},signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[me.auth.EmailAuthProvider.PROVIDER_ID],tosUrl:"<your-tos-url>",privacyPolicyUrl:"<your-privacy-policy-url>"},Wse=new Gse.AuthUI(ko),Hse=t=>{Wse.start(t,qse),console.log("FirebaseUI started.")},Kse=()=>(Ie.useEffect(()=>{Hse("#firebaseui-auth-container")}),te.jsxs("div",{className:"container",children:[te.jsx("h1",{children:"Card Generator"}),te.jsx("div",{id:"firebaseui-auth-container"})]})),Yse=()=>{const[t,e]=Ie.useState(0);return Ie.useEffect(()=>{const n=Au(),r=ko.currentUser;if(r){const i=r.uid,s=po(n,`users/${i}/balance`),a=q4(s,u=>{const c=u.val();e(c)});return()=>a()}},[]),t},Qse=[{name:"shop",icon:Vse,text:"Shop"},{name:"game",icon:cU,text:"Info"},{name:"mypage",icon:Mse,text:"Profile"}],Xse=({setActiveSection:t,activeSection:e})=>{const[n,r]=Ie.useState("dark"),i=Yse(),s=()=>{me.auth().signOut()},a=()=>{const u=n==="light"?"dark":"light";r(u),document.documentElement.setAttribute("data-theme",u)};return te.jsxs("nav",{className:"navbar",children:[te.jsx("div",{className:"balance",children:te.jsxs("h3",{className:"pokemon-count",children:["$",i||0]})}),te.jsxs("div",{className:"btns",children:[Qse.map(u=>te.jsx(f_,{onClick:()=>t(u.name),text:te.jsx(Gl,{icon:u.icon}),className:`signout ${e===u.name?"active":""}`},u.name)),te.jsx(f_,{onClick:a,text:n==="light"?te.jsx(Gl,{icon:Use}):te.jsx(Gl,{icon:Fse}),className:"signout"}),te.jsx(f_,{onClick:s,text:te.jsx(Gl,{icon:Lse}),className:"signout"})]})]})},Jse=()=>{const[t,e]=Ie.useState(null),[n,r]=Ie.useState(!0),[i,s]=Ie.useState("mypage");return Ie.useEffect(()=>{const a=ko.onAuthStateChanged(u=>{e(u),r(!1)});return()=>a()},[]),n?te.jsx(ZA,{message:"Loading app..."}):te.jsxs("div",{className:"App",children:[t?te.jsx(Xse,{setActiveSection:s,activeSection:i}):null,t?te.jsx(jse,{activeSection:i}):te.jsx(Kse,{})]})};PI.createRoot(document.getElementById("root")).render(te.jsx(jt.StrictMode,{children:te.jsx(Jse,{})}));
